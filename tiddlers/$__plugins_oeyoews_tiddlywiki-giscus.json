{"tiddlers":{"$:/plugins/oeyoews/tiddlywiki-giscus/readme":{"title":"$:/plugins/oeyoews/tiddlywiki-giscus/readme","text":"<a style=\"text-decoration:none;\" href=\"https://github.com/oeyoews/neotw\" target=\"_blank\">\n  <img src=\"https://img.shields.io/badge/Powered by-Neotw-green?style=flat\" />\n</a>\n<a style=\"text-decoration:none;\" href=\"https://giscus.app/\" target=\"_blank\">\n  <img src=\"https://img.shields.io/badge/Powered by-giscus-blue?style=flat\" />\n</a>\n<$image source={{{ [[][https://img.shields.io/badge/Version-]] [<currentTiddler>get[version]] [[-red?style=flat&logo=dev.to&logoColor=red]] +[join[]]}}} />\n<$image source={{{ [[][https://img.shields.io/badge/Author-]] [<currentTiddler>get[author]] [[-lightblue?style=flat]] +[join[]]}}} />\n\n<!-- use modal -->\n<$button>\n  Config Giscus\n  <$action-sendmessage $message=\"tm-modal\" $param=\"$:/plugins/oeyoews/tiddlywiki-giscus/giscus-config\"/>\n</$button>\n<!-- <<nav-tid \"giscus-config\">> -->\n<!-- <$set name=\"repo\" value=\"$:/plugins/oeyoews/tiddlywiki-giscus/config\"> -->\n<!--   <$button class=\"get-started\" tooltip={{{ [<repo>get[repo]addsuffix[ discussions]] }}}> -->\n<!--     <<giscusDiscussions>> -->\n<!--   </$button> -->\n<!-- </$set> -->\n<$button setTitle=<<tabsState>> setField=\"text\" setTo=\"contents\">\n  Contents\n</$button>\n<$button setTitle=<<tabsState>> setField=\"text\" setTo=\"explore\">\n  Explore\n</$button>\n\n> 💎 A Commenting System Powered By Github Discussions. Let Visitors Leave Comments And Reactions On Your Site With Github! This Project Is Strongly Inspired By Utterances.\n\n!! Usage\n\n* <kbd>Ctrl-Shift-G</kbd> 显示评论， 或者点击界面上的这个图标 {{$:/plugins/oeyoews/tiddlywiki-giscus/icon-gem}}\n\n!! NOTE\n\n* 由于使用modal评论， filter 的配置项不再使用， 也没有使用的必要了， 仅作为保留\n* 如果想要使用旧版的1.2.1, 卸载此插件的依赖项即可`$:/plugins/Gk0Wk/focused-tiddler` 或者卸载hotzone插件\n\n!! TODO\n\n* support switch giscus to others, such as twikoo, and utterances\n* switch theme on comments top(select box) dark_dimmed\n* 统一button样式\n* 提供未配置检测警告\n* 提供依赖检测警告\n"},"$:/plugins/oeyoews/tiddlywiki-giscus/config":{"title":"$:/plugins/oeyoews/tiddlywiki-giscus/config","type":"text/vnd.tiddlywiki"},"$:/plugins/oeyoews/tiddlywiki-giscus/widget-giscus.js":{"title":"$:/plugins/oeyoews/tiddlywiki-giscus/widget-giscus.js","text":"/* widget giscus */\n(function () {\n  /*jslint node: true, browser: true */\n  /*global $tw: false */\n\n  const Widget = require('$:/core/modules/widgets/widget.js').widget;\n\n  class GiscusNodeWidget extends Widget {\n    constructor(parseTreeNode, options) {\n      super(parseTreeNode, options);\n      this.giscusConfigTiddler = '$:/plugins/oeyoews/tiddlywiki-giscus/config';\n      this.config = $tw.wiki.getTiddler(this.giscusConfigTiddler)?.fields || {};\n    }\n\n    render(parent, nextSibling) {\n      this.parentDomNode = parent;\n      this.computeAttributes();\n      this.execute();\n      const id = this.getAttribute('id', '');\n      const lang = this.getAttribute('lang', 'en');\n      const theme = this.getAttribute('theme', 'light');\n      // const loadingNode = this.document.createElement('div');\n      // loadingNode.textContent = 'Loading comments ...';\n      // parent.insertBefore(loadingNode, nextSibling);\n      // this.domNodes.push(loadingNode);\n\n      if (id === '') {\n        console.log(`💎 请传入正确的评论区id`);\n        const warnNode = this.document.createElement('center');\n        warnNode.style.color = 'red';\n        warnNode.style.fontWeight = 'bold';\n        warnNode.textContent = '💎 未正确配置Giscus Id';\n        parent.insertBefore(warnNode, nextSibling);\n        this.domNodes.push(warnNode);\n        console.warn('未正确配置Giscus Id');\n        return;\n      }\n\n      // 如果已经存在相同 id 的评论区，直接返回\n      const existingCommentNode = this.document.querySelector(\n        `.oeyoews-giscus[tiddler-title=\"${id.replace('\"', '\\\\\"')}\"]`,\n      );\n      if (existingCommentNode) {\n        console.warn(`💎 评论区 \"${id}\" 已存在`);\n        // 如果已经存在评论区，则在插件所在的位置添加一个 span 元素，内容为警告信息\n        const warnNode = this.document.createElement('center');\n        warnNode.style.color = 'red';\n        warnNode.style.fontWeight = 'bold';\n        warnNode.textContent = '此评论区已存在，请勿重复渲染！';\n        parent.insertBefore(warnNode, nextSibling);\n        this.domNodes.push(warnNode);\n        console.warn('此评论区已存在，请勿重复渲染！');\n        return;\n      } else {\n        console.log(`💎 当前评论区为 \"${id}\"`);\n      }\n      const scriptNode = this.document.createElement('script');\n      scriptNode.setAttribute('src', 'https://giscus.app/client.js');\n      const { repo, repoId, categoryId } = this.config;\n      scriptNode.setAttribute('data-repo', repo);\n      scriptNode.setAttribute('data-repo-id', repoId);\n      scriptNode.setAttribute('data-category', 'General');\n      scriptNode.setAttribute('data-category-id', categoryId);\n      scriptNode.setAttribute('data-mapping', 'specific');\n      scriptNode.setAttribute('data-term', id);\n      scriptNode.setAttribute('data-reactions-enabled', '1');\n      scriptNode.setAttribute('data-emit-metadata', '1');\n      scriptNode.setAttribute('data-input-position', 'bottom');\n      scriptNode.setAttribute('data-loading', 'lazy');\n      scriptNode.setAttribute('data-theme', theme);\n      scriptNode.setAttribute('data-lang', lang);\n      scriptNode.setAttribute('crossorigin', 'anonymous');\n      scriptNode.setAttribute('async', 'true');\n      // 清除其他评论区节点的 giscus class\n      const commentNodes = this.document.querySelectorAll('.giscus');\n      for (let i = 0, len = commentNodes.length; i < len; i++) {\n        commentNodes[i].classList.remove('giscus');\n      }\n      // scriptNode.addEventListener('load', () => {\n      //   setTimeout(loadingNode.remove(), 100);\n      // });\n      // 创建新的评论区节点\n      const commentNode = this.document.createElement('div');\n      commentNode.setAttribute('class', 'giscus oeyoews-giscus');\n      commentNode.setAttribute('tiddler-title', id);\n      parent.insertBefore(commentNode, nextSibling);\n      this.domNodes.push(commentNode);\n\n      parent.insertBefore(scriptNode, nextSibling);\n      this.domNodes.push(scriptNode);\n    }\n    execute() {}\n\n    refresh() {\n      var changedAttributes = this.computeAttributes();\n      if (Object.keys(changedAttributes).length > 0) {\n        this.refreshSelf();\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }\n\n  exports.giscus = GiscusNodeWidget;\n})();\n","module-type":"widget","type":"application/javascript"},"$:/plugins/oeyoews/tiddlywiki-giscus/modules/utteranc/config":{"title":"$:/plugins/oeyoews/tiddlywiki-giscus/modules/utteranc/config","caption":"utteranc config","text":"\\whitespace trim\n\n<!-- wip -->\n\\define tid() $:/plugins/oeyoews/tiddlywiki-utteranc/config\n\n<table>\n  <tr>\n\n    <th align=\"left\">Github Repo Link:</th>\n    <td>\n      <$edit-text\n          tiddler=<<tid>>\n          placeholder=\"username/reponame\"\n          field=\"repo\"\n          tag=\"input\"\n          default=\"\" />\n    </td>\n    <td>\n      <$button>\n        Reset Config\n        <$action-deletetiddler $tiddler=<<tid>>/>\n      </$button>\n    </td>\n\n </tr>\n</table>\n"},"$:/plugins/oeyoews/tiddlywiki-giscus/utteranc/widget.js":{"title":"$:/plugins/oeyoews/tiddlywiki-giscus/utteranc/widget.js","text":"(function () {\n  /*jslint node: true, browser: true */\n  /*global $tw: false */\n  'use strict';\n\n  exports.name = 'github-comments';\n\n  exports.params = [{ name: 'current' }];\n\n  /*\n  Run the macro\n  */\n  exports.run = function (current) {\n    // Interactive DOM not available when generating static pages\n    if (!$tw.browser) return;\n\n    /* Remove current Utteranc.es parent element */\n    const currentGhCommentsEL = document.getElementById('gh-comments');\n    if (currentGhCommentsEL !== null) {\n      currentGhCommentsEL.remove();\n    }\n    var configUtterancTiddler = '$:/plugins/oeyoews/tiddlywiki-utteranc/config';\n    var configUtteranc = $tw.wiki.getTiddler(configUtterancTiddler);\n    var config = configUtteranc ? configUtteranc.fields : {};\n\n    /* Load Utteranc.es */\n    var script = document.createElement('script');\n    script.async = true;\n    script.src = 'https://utteranc.es/client.js';\n    script.setAttribute('repo', config.repo);\n    script.setAttribute('issue-term', current);\n    script.setAttribute('theme', config.theme || 'github-light');\n    script.setAttribute('crossorigin', 'anonymous');\n\n    /* Create Github Comments Element */\n    const ghCommentsEl = document.createElement('div');\n    ghCommentsEl.id = 'gh-comments';\n    ghCommentsEl.appendChild(script);\n\n    /* Append to Wrapper */\n    document\n      .querySelector(\n        'div[data-tiddler-title=\"' + current + '\"] .gh-comments-wrapper',\n      )\n      .appendChild(ghCommentsEl);\n  };\n})();\n","module-type":"macro","tags":"$:/tags/Macro","type":"application/javascript"},"$:/plugins/oeyoews/tiddlywiki-utteranc/template":{"title":"$:/plugins/oeyoews/tiddlywiki-utteranc/template","<!-- tags":"$:/tags/ViewTemplate -->","text":"<$list filter=\"[all[current]!is[system]]\" variable=\"comment\">\n<div class=\"gh-comments-wrapper\"></div>\n<$macrocall $name=\"github-comments\" current=<<currentTiddler>>/>\n</$list>\n"},"$:/plugins/oeyoews/tiddlywiki-giscus/explore":{"title":"$:/plugins/oeyoews/tiddlywiki-giscus/explore","text":"<$macrocall $name=\"tree\" prefix={{{ [<currentTiddler>addsuffix[/]] }}}>\n"},"$:/plugins/oeyoews/tiddlywiki-giscus/filter":{"title":"$:/plugins/oeyoews/tiddlywiki-giscus/filter","text":"[field:giscus[yes]]\n"},"$:/plugins/oeyoews/tiddlywiki-giscus/giscus-config":{"title":"$:/plugins/oeyoews/tiddlywiki-giscus/giscus-config","mask-closable":"yes","subtitle":"{{$:/plugins/oeyoews/tiddlywiki-giscus/icon-gem}} Giscus Config {{$:/plugins/oeyoews/tiddlywiki-modal-ui/close-modal}}","class":"o-tm","text":"\\define tid() $:/plugins/oeyoews/tiddlywiki-giscus/config\n\\define tidFilter() $:/plugins/oeyoews/tiddlywiki-giscus/filter\n\nYou may have to save and reload the wiki to activate changes.\n\n* Install giscus for your github repo [[Install Giscus|https://github.com/apps/giscus/installations/new]]\n* [[get giscus parameter|https://giscus.app/zh-CN]]\n\n<!-- change badge style &nbsp; -->\n<$select field=\"style\" tiddler=<<tid>> tooltip='badge style'>\n</$set>\n  <option>for-the-badge</option>\n  <option>flat</option>\n  <option>plastic</option>\n  <option>flat-square</option>\n  <option>social</option>\n</$select>\n<<giscusBadge>>\n\n<table>\n  <tr>\n    <th align=\"left\">Github Repo Link:</th>\n    <td>\n      <$edit-text\n          tiddler=<<tid>>\n          field=\"repo\"\n          tag=\"input\"\n          placeholder=\"username/repo\"\n          default=\"\" />\n    </td>\n  </tr>\n  <tr>\n    <th align=\"left\">Github Reop Id:</th>\n    <td>\n      <$edit-text\n          tiddler=<<tid>>\n          field=\"repoId\"\n          tag=\"input\"\n          placeholder=\"TSJHFJDKHJExxx\"\n          default=\"\" />\n    </td>\n  </tr>\n  <tr>\n    <th align=\"left\">Github Repo Category Id:</th>\n    <td>\n      <$edit-text\n          tiddler=<<tid>>\n          field=\"categoryId\"\n          placeholder=\"DKSOFHGJVDKLXX\"\n          tag=\"input\"\n          default=\"\" />\n    </td>\n  </tr>\n\n  <!-- theme -->\n\n  <tr>\n    <th align=\"left\">Giscus theme:</th>\n    <td>\n      <$edit-text\n          tiddler=<<tid>>\n          field=\"gtheme\"\n          placeholder=\"light\"\n          tag=\"input\"\n          default=\"\" />\n    </td>\n  </tr>\n  <tr>\n    <th align=\"left\">filter:</th>\n      <td>\n        <$edit-text\n            tiddler=<<tidFilter>>\n            placeholder=\"[!is[system]]\"\n            tag=\"input\"\n            default=\"\" />\n      </td>\n\n    <!-- not suitable on mobile(ios at least) -->\n    <td>\n      <$button>\n        Reset filter\n        <$action-deletetiddler $tiddler=<<tidFilter>>>/>\n      </$button>\n    </td>\n\n  </tr>\n</table>\n"},"$:/plugins/oeyoews/tiddlywiki-giscus/icon-gem":{"title":"$:/plugins/oeyoews/tiddlywiki-giscus/icon-gem","text":"<svg stroke=\"currentColor\" fill=\"#8CCAF7\" stroke-width=\"0\" viewBox=\"0 0 512 512\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M78.594 20.313c-20.396-.083-40.037 3.83-57.78 12.468C126.016 63.043 213.21 117.8 289.185 187.813c-9.978-45.738-40.414-87.43-79.375-117.78-11.143 8.35-27.725 8.505-41.156.75-13.402-7.74-21.53-22.143-19.906-35.938-23.19-9.237-47.145-14.438-70.156-14.532zm101.625 6.625c-5.215.166-9.516 2.475-11.532 5.968-3.442 5.962-.55 15.975 9.343 21.688 9.894 5.713 19.997 3.212 23.44-2.75 3.44-5.962.58-16.006-9.314-21.72-3.71-2.14-7.465-3.108-10.875-3.186-.354-.01-.714-.012-1.06 0zm-43.25 73.906L31.75 283.188c5.972 8.454 13.093 14.29 25.125 15.062l105.47-182.78c-8.03-5.31-16.5-10.178-25.376-14.626zm194.78 6.25l-17.406 10.78-10.22 66.657 38.313-59.124-10.687-18.312zm-140.344 61.72l-21.844 13.467 14.375 17.314 86.157-4.75-78.688-26.03zm209.75.686l-3.78 1.156-181.095 55.906-3.75 1.188-1.81 3.5-42.314 82.875-3.625 7.125 6.47 4.688 216.53 157.25 10.126 7.343 4.156-11.81 88.563-251.44 2.656-7.5-7-3.81-81.655-44.564-3.47-1.906zm-2.03 20.188l63.28 34.562-65.97 20.344-33.248-43.813 35.937-11.093zm-54.97 16.968l33.28 43.813L279 280.843l2.78-54.938 62.376-19.25zM262.78 231.78L260 286.72l-67.22 20.75 32.782-64.19 37.22-11.5zm202.5 11.126L400 428.312l4.063-166.5 61.218-18.906zm-80.06 24.72l-4.064 166.5-98.812-134.72 102.875-31.78zm-121.783 37.593L364.75 443.374 201.062 324.5l62.375-19.28z\"></path></svg>\n"},"$:/plugins/oeyoews/tiddlywiki-giscus/icon":{"title":"$:/plugins/oeyoews/tiddlywiki-giscus/icon","text":"<svg stroke=\"currentColor\" fill=\"#aaa\" stroke-width=\"0\" viewBox=\"0 0 512 512\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M78.594 20.313c-20.396-.083-40.037 3.83-57.78 12.468C126.016 63.043 213.21 117.8 289.185 187.813c-9.978-45.738-40.414-87.43-79.375-117.78-11.143 8.35-27.725 8.505-41.156.75-13.402-7.74-21.53-22.143-19.906-35.938-23.19-9.237-47.145-14.438-70.156-14.532zm101.625 6.625c-5.215.166-9.516 2.475-11.532 5.968-3.442 5.962-.55 15.975 9.343 21.688 9.894 5.713 19.997 3.212 23.44-2.75 3.44-5.962.58-16.006-9.314-21.72-3.71-2.14-7.465-3.108-10.875-3.186-.354-.01-.714-.012-1.06 0zm-43.25 73.906L31.75 283.188c5.972 8.454 13.093 14.29 25.125 15.062l105.47-182.78c-8.03-5.31-16.5-10.178-25.376-14.626zm194.78 6.25l-17.406 10.78-10.22 66.657 38.313-59.124-10.687-18.312zm-140.344 61.72l-21.844 13.467 14.375 17.314 86.157-4.75-78.688-26.03zm209.75.686l-3.78 1.156-181.095 55.906-3.75 1.188-1.81 3.5-42.314 82.875-3.625 7.125 6.47 4.688 216.53 157.25 10.126 7.343 4.156-11.81 88.563-251.44 2.656-7.5-7-3.81-81.655-44.564-3.47-1.906zm-2.03 20.188l63.28 34.562-65.97 20.344-33.248-43.813 35.937-11.093zm-54.97 16.968l33.28 43.813L279 280.843l2.78-54.938 62.376-19.25zM262.78 231.78L260 286.72l-67.22 20.75 32.782-64.19 37.22-11.5zm202.5 11.126L400 428.312l4.063-166.5 61.218-18.906zm-80.06 24.72l-4.064 166.5-98.812-134.72 102.875-31.78zm-121.783 37.593L364.75 443.374 201.062 324.5l62.375-19.28z\"></path></svg>\n","type":"image/svg+xml"},"$:/plugins/oeyoews/tiddlywiki-giscus/icon01":{"title":"$:/plugins/oeyoews/tiddlywiki-giscus/icon01","type":"image/png","text":"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\n"},"$:/plugins/oeyoews/neotw/neotw-setup/giscus":{"title":"$:/plugins/oeyoews/neotw/neotw-setup/giscus","key":"((giscus))","tags":"$:/tags/KeyboardShortcut","text":"<$action-sendmessage $message=\"tm-modal\" $param=\"$:/plugins/oeyoews/tiddlywiki-giscus/giscus-modal\"/>\n"},"$:/config/ShortcutInfo/giscus":{"title":"$:/config/ShortcutInfo/giscus","text":"giscus\n"},"$:/config/shortcuts/giscus":{"title":"$:/config/shortcuts/giscus","text":"Ctrl-Shift-G"},"$:/plugins/oeyoews/tiddlywiki-giscus/surfing":{"title":"$:/plugins/oeyoews/tiddlywiki-giscus/surfing","surfing":"yes","text":"|{{$:/plugins/oeyoews/tiddlywiki-giscus/icon}}|<kbd>Ctrl+Shift+G</kbd>|Comments|\n"},"$:/plugins/oeyoews/tiddlywiki-giscus/macro/discussions":{"title":"$:/plugins/oeyoews/tiddlywiki-giscus/macro/discussions","tags":"$:/tags/Macro","text":"\\whitespace trim\n\n\\define giscusDiscussions()\n<$set name=\"base-repo\" value=\"https://github.com/\">\n<$set name=\"target\" value=\"$:/plugins/oeyoews/tiddlywiki-giscus/config\">\n  <$button class=<<tv-config-toolbar-class>>>\n    <a href={{{ [<target>get[repo]addsuffix[/discussions]addprefix<base-repo>]}}} target=\"_blank\">\n💎 Discussions\n    </a>\n  </$button>\n</$set>\n</$set>\n\\end\n\n\\define giscusBadge()\n<$set name=\"base-repo\" value=\"https://github.com/\">\n<$set name=\"imgshield\" value=\"https://img.shields.io/github/discussions/\">\n<$set name=\"target\" value=\"$:/plugins/oeyoews/tiddlywiki-giscus/config\">\n  <$button class=<<tv-config-toolbar-class>>>\n    <a href={{{ [<target>get[repo]addsuffix[/discussions]addprefix<base-repo>]}}} target=\"_blank\">\n      <img alt=\"discussions count\" src={{{ [<target>get[repo]addprefix<imgshield>addsuffix[?style=]] [<target>get[style]] +[join[]]}}} >\n    </a>\n  </$button>\n</$set>\n</$set>\n</$set>\n\\end\n"},"$:/plugins/oeyoews/tiddlywiki-giscus/macro/get-started":{"title":"$:/plugins/oeyoews/tiddlywiki-giscus/macro/get-started","tags":"$:/tags/Macro","text":"<!-- general -->\n\\define nbtn(started-tid, class:\"get-started\", caption:\"Get Started\")\n  <$button class=$class$ tooltip=\"$caption$\">\n    $caption$\n    <!-- list filter todo -->\n    <$action-navigate $to={{{ $started-tid$ }}}/>\n  </$button>\n\\end\n\n\\define nav-tid(tid)\n<$button setTitle=<<tabsState>> setField=\"text\" setTo=$tid$ class=\"os-started\">\n  GettingStarted\n</$button>\n\\end\n"},"$:/plugins/oeyoews/tiddlywiki-giscus/style":{"title":"$:/plugins/oeyoews/tiddlywiki-giscus/style","tags":"$:/tags/Stylesheet","text":".o-giscus-comment .tc-modal,\n.o-giscus-comment .tc-modal-header,\n.o-giscus-comment .tc-modal-body,\n.o-giscus-comment .tc-modal-footer {\n   border-radius: 10px;\n   border: none;\n   background-color: #F5F5F5;\n}\n\n.o-giscus-comment .tc-modal-footer {\n    display:none;\n}\n\n.o-giscus-comment .tc-modal-header {\n    text-transform: capitalize;\n}\n"},"$:/plugins/oeyoews/tiddlywiki-giscus/tips":{"title":"$:/plugins/oeyoews/tiddlywiki-giscus/tips","mask-closable":"yes","subtitle":"{{$:/plugins/oeyoews/tiddlywiki-random-tid/did-you-know}}","tags":"Tiddlywiki5Tip","author":"oeyoews","class":"o-random-tip tc-modal-centered","text":"> 按住<kbd>Ctrl-Shift-G</kbd>可以显示当前文章的评论\n> <<random-author>>\n\n<<vanillaTid>>\n"},"$:/plugins/oeyoews/tiddlywiki-giscus/close-modal":{"title":"$:/plugins/oeyoews/tiddlywiki-giscus/close-modal","text":"{{$:/plugins/oeyoews/tiddlywiki-giscus/icon-gem}}\n<$view tiddler=\"$:/temp/focussedTiddler\" field=\"text\" />\n\n<span style=\"float:right;\">\n<$button class=\"tc-btn-invisible\" tooltip=\"close\">\n&nbsp;<svg stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" viewBox=\"0 0 24 24\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" stroke=\"#000\" stroke-width=\"2\" d=\"M7,7 L17,17 M7,17 L17,7\"></path></svg>\n<$action-sendmessage $message=\"tm-close-tiddler\" $param=<<currentTiddler>>/>\n</$button>\n</span>\n"},"$:/plugins/oeyoews/tiddlywiki-giscus/giscus-modal":{"title":"$:/plugins/oeyoews/tiddlywiki-giscus/giscus-modal","mask-closable":"yes","subtitle":"{{$:/plugins/oeyoews/tiddlywiki-giscus/close-modal}}","class":"o-giscus-comment","text":"<$list filter=\"[[$:/plugins/oeyoews/neotw-hitokoto]has[plugin-type]]\">\n<$ohitokoto />\n</$list>\n\n<!-- theme -->\n<$giscus id={{$:/temp/focussedTiddler}} lang=\"en\" theme={{{ [[$:/plugins/oeyoews/tiddlywiki-giscus/config]get[gtheme]else[light]] }}}/>\n<!-- utteranc -->\n<!-- <div class=\"gh-comments-wrapper\"></div> -->\n<!-- <$macrocall $name=\"github-comments\" current=<<currentTiddler>>/> -->\n"},"$:/plugins/oeyoews/tiddlywiki-giscus/ui/giscus-modal":{"title":"$:/plugins/oeyoews/tiddlywiki-giscus/ui/giscus-modal","tags":"$:/tags/PageControls","caption":"giscus on modal","list-before":"$:/core/ui/Buttons/close","description":"giscus on modal","text":"\\whitespace trim\n<$list filter=\"[[$:/temp/focussedTiddler]!is[missing]]\">\n<$list filter=\"[[$:/temp/focussedTiddler]get[text]!is[system]!has[draft.of]]\">\n<$button message=\"giscus\" tooltip=\"comment\" class=<<tv-config-toolbar-class>>>\n<$list filter=\"[<tv-config-toolbar-icons>match[yes]]\">\n<$action-sendmessage $message=\"tm-modal\" $param=\"$:/plugins/oeyoews/tiddlywiki-giscus/giscus-modal\"/>\n{{$:/plugins/oeyoews/tiddlywiki-giscus/icon}}\n</$list>\n</$button>\n</$list>\n<$list filter=\"[<tv-config-toolbar-text>match[yes]]\">\n<span class=\"tc-btn-text\">\n<$text text=\"giscus\"/>\n</span>\n</$list>\n</$list>\n\n<!-- plugins -->\n<$list filter=\"[[$:/temp/focussedTiddler]!is[missing]]\">\n<$list filter=\"[[$:/temp/focussedTiddler]get[text]has[plugin-type]]\">\n<$button message=\"giscus\" tooltip=\"comment\" class=<<tv-config-toolbar-class>>>\n<$list filter=\"[<tv-config-toolbar-icons>match[yes]]\">\n<$action-sendmessage $message=\"tm-modal\" $param=\"$:/plugins/oeyoews/tiddlywiki-giscus/giscus-modal\"/>\n{{$:/plugins/oeyoews/tiddlywiki-giscus/icon}}\n</$list>\n</$button>\n</$list>\n</$list>\n"},"$:/plugins/oeyoews/tiddlywiki-giscus/viewtemplate":{"title":"$:/plugins/oeyoews/tiddlywiki-giscus/viewtemplate","tags":"$:/tags/ViewTemplate","text":"<$list filter=\"[all[current]!is[system]!is[draft]subfilter{$:/plugins/oeyoews/tiddlywiki-giscus/filter}]\" variable=\"comment\">\n<$list filter=\"[[$:/temp/focussedTiddler]is[missing]]\">\n        <$set name=\"stateTiddler\" value=\"$:/state/oeyoews/github-giscus-comments\">\n          <$reveal type=\"nomatch\" state=<<stateTiddler>> text=<<currentTiddler>>>\n              <$button class=\"tc-btn-invisible giscus-footer\" set=<<stateTiddler>> setTo=<<currentTiddler>> >\n                Show Comments\n              </$button>\n          </$reveal>\n          <$reveal type=\"match\" state=<<stateTiddler>> text=<<currentTiddler>>>\n              <$button class=\"tc-btn-invisible giscus-footer\" set=<<stateTiddler>> setTo=\"\">\n                  Fold Comments\n              </$button>\n              <!-- load giscus -->\n              <$giscus id=<<comment>> lang=\"en\" theme={{{ [[$:/plugins/oeyoews/tiddlywiki-giscus/config]get[gtheme]else[light]] }}}/>\n              <!-- back -->\n              <$button class=\"tc-btn-invisible giscus-footer\">\n                  Back to top ↥︎\n                <$action-navigate $to=<<currentTiddler>> >\n              </$button>\n          </$reveal>\n        </$set>\n</$list>\n</$list>\n"}}}