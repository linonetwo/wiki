created: 20250413042450897
creator: 林一二
modified: 20250413081836622
modifier: 林一二
tags: 玩游戏 公开
title: 玩《Silly Tavern》

本质上是一个帮用户梳理提示词的Agent，配置好后用户输入自机对话，它处理提示词的拼入。这可能导致拼入了过多提示词，一般会占用将近 6000 token，有的提示词就需要动态删去（也可以认为是按需添加）：

* RAG：世界书；其实就是一系列条目，配置了基于正则的激活；激活就是拼入提示词；拼入后可以再连锁级联激活，类似信号放大。
* 动态历史：让世界书、破限提示词固定显示在最下面或倒数n个对话的位置，而且不进入历史，而是每次都动态注入该位置，防止重复。
* 工具调用：有的提示词描述特定结构，然后配置正则表达式提取LLM输出内容为变量，可以拼入输出 HTML 模板，放入 iFrame 里展示为角色数值面板等。

插件也能实现后处理：

* TTS、绘图：将某条消息的内容直接丢给外部API转换，并展示结果
* 记忆增强：运行JS提取内容为表格，放到临时条目里，后续拼入作为持久记忆

作为一个专注角色扮演的前端程序，它和日常询问知识的 Cherry Studio、辅助编程的 Github Copilot 主要区别是会长时间在一个话题里对话，还有对破甲提示词注入的需求。其余也差不多，就像 Cherry Studio 问专业知识时，历史对话也很重要，有时候会修改了重roll；Github Copilot 会使用拖入的代码文件当「世界书」，并产出额外结果提取到代码区域里。