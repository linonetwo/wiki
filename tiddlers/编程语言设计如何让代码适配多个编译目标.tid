annotate-colour: orange
created: 20220708135625906
creator: 林一二
difficulty: 4.01722
due: 20250623094517654
elapsed_days: 205.0131375462963
lapses: 0
last_review: 20241030094517654
modified: 20240408092622086
modifier: 林一二
reps: 3
scheduled_days: 236
stability: 236.18250383044466
state: 2
tags: 想法 编译原理
title: 编程语言设计如何让代码适配多个编译目标
type: text/vnd.tiddlywiki

C里通过宏。

在[[基因编辑语言]]里，你的编译目标不一定有细胞核和内质网，可能就需要通过宏或者某种装饰器来注明不同目标要把哪些prelude带上。

ccxt 则是通过各语言自定义基类，API层靠统一的 Schema 生成使用基类的代码。