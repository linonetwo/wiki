[
    {
        "title": "$:/plugins/linonetwo/intention-tower-knowledge-graph",
        "type": "application/json",
        "text": "{\"tiddlers\":{\"$:/aggregation/fields-smart-mode/ItemTemplate\":{\"title\":\"$:/aggregation/fields-smart-mode/ItemTemplate\",\"created\":\"20230402014552240\",\"modified\":\"20230402014552240\",\"tags\":\"$:/tags/Macro $:/tags/XpPreview\",\"text\":\"<!-- 本来我想把这个条目名称也改成$:/plugins/linonetwo/intention-tower-knowledge-graph/aggregation/fields-smart-mode/ItemTemplate的形式，但发现一改就会出错，表格选择就没用了。所以只能保持原样。 -->\\n\\n<$draggable tiddler=<<currentTiddler>>>\\n<$checkbox tiddler=<<aggregation-fields-draggable-config-title>> field=\\\"text\\\" checked=\\\"show\\\" unchecked=\\\"hide\\\" default=\\\"hide\\\" checkactions=<<fields-checkactions>> uncheckactions=<<fields-uncheckactions>>/> <span class=\\\"tc-icon-wrapper\\\"> <$transclude field=\\\"title\\\"/></span>\\n</$draggable>\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/aggregation/macros\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/aggregation/macros\",\"created\":\"20230402014525104\",\"modified\":\"20230402014525104\",\"tags\":\"$:/tags/Macro $:/tags/XpPreview\",\"text\":\"\\\\define ITKG-aggregation(filter,state:\\\"aggregation-state\\\", defaultFields:\\\"tbl-expand title\\\",class:\\\"w-100\\\",paginationButton:\\\"yes\\\",rowsButton:\\\"no\\\",viewButton:\\\"yes\\\",tiddler, searchClass:\\\"xp-search-aggregation\\\", cardTemplate:\\\"$:/aggregation-card-template\\\", tocTemplate, promptTiddler:\\\"$:/aggregation/prompt\\\")\\n\\\\import $:/plugins/linonetwo/intention-tower-knowledge-graph/aggregation/macros/definitions\\n\\\\whitespace trim\\n<$list filter=\\\"\\\"\\\"$filter$ +[limit[1]]\\\"\\\"\\\" emptyMessage=\\\"{{$promptTiddler$}}\\\" variable=\\\"ignore\\\">\\n<span class=\\\"xp-search $searchClass$\\\">\\nSearch &#32;\\n<$select\\n  tiddler=\\\"\\\"\\\"$:/config/xp/$state$/SearchScope\\\"\\\"\\\"\\n  default=\\\"+[search<userInput>]\\\"\\n  tooltip=\\\"Choosing the Search Scope\\\"\\n  class=\\\"xp-aggregation-select\\\">\\n  <option value=\\\"+[search:*<userInput>]\\\"> all fields</option>\\n  <option value=\\\"+[search:*:literal,casesensitive<userInput>]\\\"> all exact match</option>\\n  <option value=\\\"+[search:-text,*<userInput>]\\\"> all except text</option>\\n  <option value=\\\"+[search<userInput>]\\\"> title text tags</option>\\n  <option value=\\\"+[search:title,caption<userInput>]\\\"> title caption</option>\\n</$select>\\n<i class='tc-small-gap-left'/>\\n<$macrocall\\n  $name=\\\"keyboard-driven-input\\\"\\n  tiddler=\\\"\\\"\\\"$:/temp/search/$state$\\\"\\\"\\\"\\n  type=\\\"search\\\"\\n  tag=\\\"input\\\"\\n  focus={{$:/config/xp/aggregation/SearchAutoFocus}}\\n  inputCancelActions=\\\"\\\"\\\"<$action-deletetiddler $filter=\\\"[[$:/state/filter/$state$]get[checktiddler]enlist-input[]]\\\"/><$action-deletetiddler $filter=\\\"$:/temp/search/$state$ $:/state/filter/$state$ $:/temp/xp/$state$/Field $:/temp/xp/$state$/Date $:/temp/xp/$state$/FieldValue\\\"/>\\\"\\\"\\\"\\n/>\\n</span>\\n<i class='tc-tiny-gap-left'/>\\n<$let userInput={{{ [[$:/temp/search/$state$]get[text]] }}}\\n    searchRun={{{ [[$:/config/xp/$state$/SearchScope]has[text]get[text]] ~\\\"+[search<userInput>]\\\" }}}\\n    timeRun={{{ [[$:/state/filter/$state$]get[filter]] }}}\\n    sortRun={{{ [[$:/temp/xp/$state$/Sorting]is[tiddler]get[text]] }}}\\n    fieldRun={{{ [[$:/temp/xp/$state$/Field]has[filter]get[filter]] }}}\\n    valueRun={{{ [[$:/temp/xp/$state$/FieldValue]has[filter]get[filter]] }}}\\n    resultCount=\\\"<$count filter=<<searchFilter>>/>\\\"\\n    sortState={{{ [[$:/state/dynamictables/$state$/sortby]has[title]] ~$:/temp/xp/$state$/Sorting }}}\\n    tempTableSort=\\\"\\\"\\\"$:/state/dynamictables/$state$/sortby\\\"\\\"\\\"\\n    sortIndex={{{ [[$:/state/dynamictables/$state$/sortby]getindex[sortIndex]] }}}\\n    storeTitle=\\\"\\\"\\\"$:/temp/search/$state$\\\"\\\"\\\"\\n    filterState=\\\"\\\"\\\"$:/state/filter/$state$\\\"\\\"\\\"\\n    fieldTiddler=\\\"\\\"\\\"$:/temp/xp/$state$/Field\\\"\\\"\\\"\\n    dateTiddler=\\\"\\\"\\\"$:/temp/xp/$state$/Date\\\"\\\"\\\"\\n    valueTiddler=\\\"\\\"\\\"$:/temp/xp/$state$/FieldValue\\\"\\\"\\\"\\n    sortTiddler=\\\"\\\"\\\"$:/temp/xp/$state$/Sorting\\\"\\\"\\\"\\n    defaultView=\\\"\\\"\\\"$:/config/xp/$state$/DefaultView\\\"\\\"\\\"\\n    readingMode=\\\"\\\"\\\"$:/config/xp/$state$/ReadingMode\\\"\\\"\\\"\\n    sourceMode=\\\"\\\"\\\"$:/config/xp/$state$/SourceMode\\\"\\\"\\\"\\n    tocSwitchTid=\\\"\\\"\\\"$:/temp/xp/$state$/aggregation-toc\\\"\\\"\\\"\\n    config-base=\\\"\\\"\\\"$:/config/xp/$state$/TableFields/Visibility/\\\"\\\"\\\"\\n    navTiddler={{{ [<__tiddler__>has[title]] ~[<currentTiddler>] }}}>\\n<span class=\\\"tc-search\\\">\\n<$reveal state=<<filterState>> type=\\\"nomatch\\\" text=\\\"yes\\\">\\n<$button set=<<filterState>> setTo=\\\"yes\\\" class=\\\"tc-btn-invisible\\\">\\n{{$:/xp/images/filter}}\\n</$button>\\n</$reveal>\\n<$set name=\\\"stateTiddler\\\" filter=\\\"[<storeTitle>!is[missing]has[text]]\\\" value=<<storeTitle>> emptyValue=<<filterState>>>\\n<$reveal state=<<stateTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$button class=\\\"tc-btn-invisible\\\">\\n<$action-deletetiddler $filter=\\\"[[$:/state/filter/$state$]get[checktiddler]enlist-input[]]\\\"/>\\n<$action-deletetiddler $filter=\\\"$:/temp/search/$state$ $:/state/filter/$state$ $:/temp/xp/$state$/Field $:/temp/xp/$state$/Date $:/temp/xp/$state$/FieldValue\\\"/>\\n<$action-sendmessage $message=\\\"tm-focus-selector\\\" $param=\\\"\\\"\\\".$searchClass$ input\\\"\\\"\\\"/>\\n{{$:/core/images/close-button}}\\n</$button>\\n</$reveal>\\n</$set>\\n<$list filter=\\\"[<__viewButton__>match[yes]]\\\" variable=\\\"ignore\\\">\\n<$reveal state=<<readingMode>> type=\\\"nomatch\\\" text=\\\"on\\\">\\n<<toggleViewButton>>\\n</$reveal>\\n</$list>\\n<<sortingButton>>\\n<<toggleReadingMode>>\\n<<viewSource>>\\n<<tocSwitch>>\\n</span>\\n<$wikify text=<<target-filter-code>> name=\\\"targetFilter\\\">\\n<$set name=\\\"searchFilter\\\" filter=\\\"[<filterState>has[list]]\\\" value=<<targetFilter>> emptyValue={{{ [<__filter__>addsuffix[ ]addsuffix<searchRun>addsuffix<timeRun>addsuffix<fieldRun>addsuffix<valueRun>addsuffix<sortRun>] }}}>\\n<$set name=\\\"stateTiddler\\\" filter=\\\"[<storeTitle>!is[missing]get[text]!is[blank]]\\\" value=<<storeTitle>> emptyValue=<<filterState>>>\\n<$reveal state=<<stateTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$reveal state=<<filterState>> type=\\\"nomatch\\\" text=\\\"yes\\\" animate=\\\"yes\\\">\\n<span class=\\\"xp-search-results\\\"><<lingo System/Matches>></span>\\n</$reveal>\\n</$reveal>\\n<$reveal state=<<filterState>> type=\\\"nomatch\\\" text=\\\"yes\\\" animate=\\\"yes\\\">\\n<<unsortButton>>\\n</$reveal>\\n</$set>\\n<$reveal state=<<filterState>> type=\\\"match\\\" text=\\\"yes\\\" animate=\\\"yes\\\">\\n<div class=\\\"xp-wrapper-aggrfilter\\\">\\n\\nFiltered by Tag: <<deselectButton>>\\n\\n<div class=\\\"xp-aggrfilter-category\\\">\\n<table>\\n<tbody>\\n<$list filter=\\\"\\\"\\\"$filter$ +[tags[]!is[system]limit[1]]\\\"\\\"\\\" variable=\\\"ignore\\\">\\n<tr>\\n<td><span class=\\\"xp-aggrfilter-category-title tc-muted\\\">Tags</span></td>\\n<td>\\n<span class=\\\"xp-aggrfilter-category-item\\\">\\n<$list filter=\\\"\\\"\\\"$filter$ +[tags[]!is[system]sort[]]\\\"\\\"\\\" variable=\\\"currentItem\\\">\\n<$macrocall $name=\\\"aggrfilteritem\\\" item=<<currentItem>>/>\\n</$list>\\n</span>\\n</td>\\n</tr>\\n</$list>\\n<$list filter=\\\"\\\"\\\"$filter$ +[tags[]is[system]limit[1]]\\\"\\\"\\\" variable=\\\"ignore\\\">\\n<tr>\\n<td><span class=\\\"xp-aggrfilter-category-title tc-muted\\\">$Tags</span></td>\\n<td>\\n<span class=\\\"xp-aggrfilter-category-item\\\">\\n<$list filter=\\\"\\\"\\\"$filter$ +[tags[]is[system]sort[]]\\\"\\\"\\\" variable=\\\"currentItem\\\">\\n<$macrocall $name=\\\"aggrfilteritem\\\" item=<<currentItem>>/>\\n</$list>\\n</span>\\n</td>\\n</tr>\\n</$list>\\n</tbody>\\n</table>\\n</div>\\n\\nFiltered by Time / Field: <<resetFieldButton>>\\n\\n<div class=\\\"xp-aggrfilter-category\\\">\\n<table>\\n<tbody>\\n<tr>\\n<td>\\n<span class=\\\"xp-aggrfilter-category-title tc-muted\\\">Time</span>&#32;\\n<$select\\n  tiddler=<<filterState>>\\n  field=\\\"filter\\\"\\n  class=\\\"xp-aggregation-select\\\"\\n  actions=\\\"<$list filter='[<filterState>search:filter[regexp:created]]'><$action-setfield $tiddler=<<dateTiddler>> status='show'/></$list>\\\">\\n  <option value=\\\"\\\"> All</option>\\n  <option value=\\\"+[days:created[-1]]\\\"> Past 24 hours</option>\\n  <option value=\\\"+[days:created[-7]]\\\"> Past week</option>\\n  <option value=\\\"+[days:created[-30]]\\\"> Past month</option>\\n  <option value=\\\"+[days:created[-365]]\\\"> Past year</option>\\n  <option value=\\\"+[regexp:created[]]\\\"> Enter a date</option>\\n</$select>\\n</td>\\n<$list filter=\\\"[<dateTiddler>is[tiddler]]\\\">\\n<td>\\n<span class=\\\"xp-aggrfilter-category-title tc-muted\\\">Date</span>&#32;\\n<$vars pt=\\\" +[regexp:created[^\\\" st=\\\"]]\\\">\\n<$macrocall\\n  $name=\\\"keyboard-driven-input\\\" \\n  tiddler=<<dateTiddler>>\\n  type=\\\"search\\\"\\n  tag=\\\"input\\\"\\n  size=7\\n  focus=\\\"no\\\"\\n  inputCancelActions=<<input-cancel-actions-date>>\\n  inputAcceptActions=<<input-accept-actions-date>>\\n/>\\n&#32;\\n<$button> Enter\\n<<input-accept-actions-date>>\\n</$button>\\n</$vars>\\n</td>\\n</$list>\\n<$vars\\n    getField={{{ [<fieldTiddler>is[tiddler]get[text]] }}}\\n    getValue={{{ [<valueTiddler>is[tiddler]get[text]] }}}\\n    pt1=\\\"+[has:field[\\\"\\n    pt2=\\\"+[\\\"\\n    st=\\\"]]\\\"\\n    st2=\\\"[\\\"\\n    >\\n<td>\\n<span class=\\\"xp-aggrfilter-category-title tc-muted\\\"> Field </span>&#32;\\n<$select\\n  tiddler=<<fieldTiddler>>\\n  tooltip=\\\"Choosing the Field\\\"\\n  class=\\\"xp-aggregation-select\\\"\\n  actions=\\\"<$action-setfield $tiddler=<<fieldTiddler>> filter={{{ [<fieldTiddler>get[text]addprefix<pt1>addsuffix<st>] }}}/><$action-deletetiddler $tiddler=<<valueTiddler>>/>\\\">\\n  <$list filter=\\\"\\\"\\\"$filter$ +[fields:exclude{$:/config/xp/aggregation/excluded-fields/filtering-button}]\\\"\\\"\\\">\\n  <option><$view field=\\\"title\\\"/></option>\\n  </$list>\\n</$select>\\n</td>\\n<$list\\n  filter=\\\"\\\"\\\"$filter$ +[has<getField>limit[1]]\\\"\\\"\\\"\\n  emptyMessage=\\\"<$list filter='[<fieldTiddler>has[text]]'><td><span class='xp-aggrfilter-category-title tc-muted'> No value for this field </span></td></$list>\\\"\\n  variable=\\\"ignore\\\">\\n<td>\\n<span class=\\\"xp-aggrfilter-category-title tc-muted\\\"> Value </span>&#32;\\n<$select\\n  tiddler=<<valueTiddler>>\\n  tooltip=\\\"Choosing the Value\\\"\\n  class=\\\"xp-aggregation-select\\\"\\n  actions=\\\"\\\"\\\"<$action-setfield $tiddler=<<valueTiddler>> filter={{{ [<getField>addprefix<pt2>addsuffix<st2>addsuffix{$:/temp/xp/$state$/FieldValue}addsuffix<st>] }}}/>\\\"\\\"\\\">\\n  <$list filter=\\\"\\\"\\\"$filter$ +[has<getField>each<getField>get<getField>!is[blank]]\\\"\\\"\\\">\\n  <option><$view field=\\\"title\\\"/></option>\\n  </$list>\\n</$select>\\n</td>\\n</$list>\\n</$vars>\\n</tr>\\n</tbody>\\n</table>\\n</div>\\n\\n</div>\\n</$reveal>\\n<$reveal state=<<filterState>> type=\\\"match\\\" text=\\\"yes\\\" animate=\\\"yes\\\">\\n<<lingo System/Matches>>\\n<<unsortButton>>\\n</$reveal>\\n\\n<$reveal state=<<readingMode>> type=\\\"nomatch\\\" text=\\\"on\\\" animate=\\\"yes\\\">\\n\\n<!-- Show table -->\\n<$reveal state=<<defaultView>> default=\\\"table\\\" type=\\\"match\\\" text=\\\"table\\\" animate=\\\"yes\\\">\\n<$wikify name=\\\"dtableFields\\\" text=\\\"\\\"\\\"<$list filter=\\\"[list[$:/config/xp/$state$/TableFields]]\\\" variable=\\\"listField\\\"><$reveal type=\\\"match\\\" state=<<field-config-title>> text=\\\"show\\\"> <$text text={{{ [<listField>format:titlelist[]] }}}/> </$reveal></$list>\\\"\\\"\\\">\\n<$set name=\\\"fields\\\" filter=\\\"[<dtableFields>is[blank]]\\\" value=<<__defaultFields__>> emptyValue=<<dtableFields>>>\\n<$macrocall \\n  $name=\\\"aggregation-dtable\\\"\\n  filter=<<searchFilter>>\\n  fields=<<fields>>\\n  class=<<__class__>>\\n  stateTiddler=<<__state__>>\\n  paginationButton=<<__paginationButton__>>\\n  rowsButton=<<__rowsButton__>>\\n/>\\n</$set>\\n</$wikify>\\n</$reveal>\\n\\n<!-- Show card -->\\n<$reveal state=<<defaultView>> default=\\\"table\\\" type=\\\"nomatch\\\" text=\\\"table\\\" animate=\\\"yes\\\">\\n<div class=\\\"content\\\" style=\\\"padding-top:10px;\\\">\\n<$list\\n  filter=<<searchFilter>>\\n  template=<<__cardTemplate__>>\\n/>\\n</div>\\n</$reveal>\\n\\n</$reveal>\\n\\n<!-- Reading Mode -->\\n<$reveal state=<<readingMode>> type=\\\"match\\\" text=\\\"on\\\" animate=\\\"yes\\\">\\n<$list filter=\\\"\\\"\\\"$filter$ +[limit[1]]\\\"\\\"\\\" variable=\\\"ignore\\\">\\n<$vars selectedTiddler=\\\"$:/temp/toc/selectedTiddler/$state$\\\" template=\\\"\\\" exclude=\\\"\\\">\\n\\n<div style=\\\"padding:10px 0;\\\">\\n<$tiddler tiddler={{{ [<selectedTiddler>get[text]] }}}>\\n<div class=\\\"tc-tabbed-table-of-contents\\\" style=\\\"\\\">\\n<$list filter=\\\"[<tocSwitchTid>!text[hide]]\\\" variable=\\\"ignore\\\">\\n    <$linkcatcher to=<<selectedTiddler>>>\\n    <div class=\\\"tc-table-of-contents xp-aggregation-toc\\\">\\n    <$set name=\\\"excluded\\\" filter=\\\"[enlist<exclude>]\\\">\\n        <ol class=\\\"tc-toc toc-selective-expandable\\\">\\n        <$list filter=\\\"[subfilter<searchFilter>] -[enlist<exclude>]\\\">\\n<$macrocall $name=\\\"toc-linked-selective-expandable-body\\\" itemClassFilter=\\\"[all[current]] -[<selectedTiddler>get[text]]\\\" exclude=<<excluded>>/>\\n        </$list>\\n        </ol>\\n    </$set>\\n    </div>\\n    </$linkcatcher>\\n</$list>\\n    <div class=\\\"tc-tabbed-table-of-contents-content\\\">\\n    <$reveal stateTitle=<<selectedTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n        <$transclude mode=\\\"block\\\" tiddler=<<template>>>\\n<$reveal state=<<sourceMode>> type=\\\"nomatch\\\" text=\\\"on\\\">\\n    <h1><$link><$transclude field=\\\"caption\\\"><$view field=\\\"title\\\"/></$transclude></$link>&emsp;<span class=\\\"tc-tiddler-controls\\\" style=\\\"font-size:0.73em !important;\\\"><$list filter=\\\"$:/core/ui/Buttons/new-here $:/core/ui/Buttons/clone $:/core/ui/Buttons/delete $:/core/ui/Buttons/edit\\\" variable=\\\"listItem\\\"><$set name=\\\"tv-config-toolbar-class\\\" filter=\\\"[<tv-config-toolbar-class>] [<listItem>encodeuricomponent[]addprefix[tc-btn-]]\\\"><$transclude tiddler=<<listItem>>/></$set></$list></span></h1>\\n    ^^<i class=\\\"tc-muted\\\"><$view field=\\\"modified\\\" format=\\\"date\\\" template=\\\"DDth MMM YYYY at 0hh:0mm\\\">TBA</$view></i>^^\\n    <$transclude mode=\\\"block\\\"><p>Missing tiddler.</p></$transclude>\\n</$reveal>\\n<!-- Source Mode -->\\n<$reveal state=<<sourceMode>> type=\\\"match\\\" text=\\\"on\\\">\\n    <h1><$link><$view field=\\\"title\\\"/></$link>&emsp;<span class=\\\"tc-tiddler-controls\\\" style=\\\"font-size:0.73em !important;\\\"><$list filter=\\\"$:/core/ui/Buttons/new-here $:/core/ui/Buttons/clone $:/core/ui/Buttons/delete $:/core/ui/Buttons/edit\\\" variable=\\\"listItem\\\"><$set name=\\\"tv-config-toolbar-class\\\" filter=\\\"[<tv-config-toolbar-class>] [<listItem>encodeuricomponent[]addprefix[tc-btn-]]\\\"><$transclude tiddler=<<listItem>>/></$set></$list></span></h1>\\n    ^^<i class=\\\"tc-muted\\\"><$view field=\\\"modified\\\" format=\\\"date\\\" template=\\\"DDth MMM YYYY at 0hh:0mm\\\">TBA</$view></i>^^\\n    <$codeblock code={{{ [<currentTiddler>get[text]] }}}><p>Missing tiddler.</p></$codeblock>\\n</$reveal>\\n        </$transclude>\\n<!-- Navigation -->\\n<div class=\\\"xp-aggregation-toc-navigation\\\">\\n    <$list filter=\\\"[subfilter<searchFilter>] -[enlist<exclude>] +[after<currentTiddler>]\\\" variable=\\\"nextTiddler\\\">\\n    <$linkcatcher to=<<selectedTiddler>> actions=\\\"<$action-navigate $to=<<navTiddler>> $scroll='yes'/>\\\">\\n        ''NEXT''\\n        <div><$link to=<<nextTiddler>>><$text text=<<nextTiddler>>/></$link></div>\\n    </$linkcatcher>\\n    </$list>\\n    <$list filter=\\\"[subfilter<searchFilter>] -[enlist<exclude>] +[before<currentTiddler>]\\\" variable=\\\"prevTiddler\\\">\\n    <$linkcatcher to=<<selectedTiddler>> actions=\\\"<$action-navigate $to=<<navTiddler>> $scroll='yes'/>\\\">\\n        <div style=\\\"padding-top:7px;\\\">\\n        ''PREVIOUS''\\n        <div><$link to=<<prevTiddler>>><$text text=<<prevTiddler>>/></$link></div>\\n        </div>\\n    </$linkcatcher>\\n    </$list>\\n</div>\\n    </$reveal>\\n    <$reveal stateTitle=<<selectedTiddler>> type=\\\"match\\\" text=\\\"\\\">\\n        <p>Select a topic in the table of contents. Click the arrow to expand a topic.</p>\\n    </$reveal>\\n    </div>\\n</div>\\n</$tiddler>\\n</div>\\n\\n</$vars>\\n</$list>\\n</$reveal>\\n\\n</$set>\\n</$wikify>\\n</$let>\\n</$list>\\n\\\\end\\n\\n\\n\\\\define aggregation-filtersearch(fields:\\\"tbl-expand title\\\", class:\\\"w-100\\\", state:\\\"aggregation-general\\\", paginationButton:\\\"yes\\\", rowsButton:\\\"no\\\", viewButton:\\\"yes\\\", searchClass:\\\"xp-search-aggregation\\\", cardTemplate:\\\"$:/aggregation-card-template\\\", tocTemplate, promptTiddler:\\\"$:/aggregation/prompt\\\")\\n\\\\import $:/aggregation/macros/general\\n\\\\whitespace trim\\n<$list filter=<<aggr-has-tids>> emptyMessage=\\\"{{$promptTiddler$}}\\\" variable=\\\"ignore\\\">\\n<span class=\\\"xp-search $searchClass$\\\">\\nSearch &#32; <<selectSearchScope>> <i class='tc-small-gap-right'/> <$macrocall $name=\\\"keyboard-driven-input\\\"\\n    tiddler=\\\"\\\"\\\"$:/temp/search/$state$\\\"\\\"\\\"\\n    type=\\\"search\\\"\\n    tag=\\\"input\\\"\\n    focus={{$:/config/xp/aggregation/SearchAutoFocus}}\\n    inputCancelActions=\\\"\\\"\\\"<$action-deletetiddler $filter=\\\"[[$:/state/filter/$state$]get[checktiddler]enlist-input[]]\\\"/><$action-deletetiddler $filter=\\\"$:/temp/search/$state$ $:/state/filter/$state$ $:/temp/xp/$state$/Field $:/temp/xp/$state$/Date $:/temp/xp/$state$/FieldValue\\\"/>\\\"\\\"\\\"/>\\n</span>\\n<i class='tc-tiny-gap-left'/>\\n<$vars userInput={{{ [[$:/temp/search/$state$]get[text]] }}}\\n    timeRun={{{ [[$:/state/filter/$state$]get[filter]] }}}\\n    sortRun={{{ [[$:/temp/xp/$state$/Sorting]is[tiddler]get[text]] }}}\\n    fieldRun={{{ [[$:/temp/xp/$state$/Field]has[filter]get[filter]] }}}\\n    valueRun={{{ [[$:/temp/xp/$state$/FieldValue]has[filter]get[filter]] }}}\\n    resultCount=\\\"<$count filter=<<searchFilter>>/>\\\"\\n    sortState={{{ [[$:/state/dynamictables/$state$/sortby]is[tiddler]] ~$:/temp/xp/$state$/Sorting }}}\\n    tempTableSort=\\\"\\\"\\\"$:/state/dynamictables/$state$/sortby\\\"\\\"\\\"\\n    sortIndex={{{ [[$:/state/dynamictables/$state$/sortby]getindex[sortIndex]] }}}\\n    categoryPrefix=\\\"\\\"\\\"$:/config/xp/$state$/category/\\\"\\\"\\\"\\n    storeTitle=\\\"\\\"\\\"$:/temp/search/$state$\\\"\\\"\\\"\\n    filterState=\\\"\\\"\\\"$:/state/filter/$state$\\\"\\\"\\\"\\n    fieldTiddler=\\\"\\\"\\\"$:/temp/xp/$state$/Field\\\"\\\"\\\"\\n    dateTiddler=\\\"\\\"\\\"$:/temp/xp/$state$/Date\\\"\\\"\\\"\\n    valueTiddler=\\\"\\\"\\\"$:/temp/xp/$state$/FieldValue\\\"\\\"\\\"\\n    sortTiddler=\\\"\\\"\\\"$:/temp/xp/$state$/Sorting\\\"\\\"\\\"\\n    defaultView=\\\"\\\"\\\"$:/config/xp/$state$/DefaultView\\\"\\\"\\\"\\n    readingMode=\\\"\\\"\\\"$:/config/xp/$state$/ReadingMode\\\"\\\"\\\"\\n    sourceMode=\\\"\\\"\\\"$:/config/xp/$state$/SourceMode\\\"\\\"\\\"\\n    tocSwitchTid=\\\"\\\"\\\"$:/temp/xp/$state$/aggregation-toc\\\"\\\"\\\"\\n    config-base=\\\"\\\"\\\"$:/config/xp/$state$/TableFields/Visibility/\\\"\\\"\\\">\\n<span class=\\\"tc-search\\\">\\n<$reveal state=<<filterState>> type=\\\"nomatch\\\" text=\\\"yes\\\">\\n<$button class=\\\"tc-btn-invisible\\\">\\n<$action-setfield $tiddler=<<filterState>> text=\\\"yes\\\"/>\\n{{$:/xp/images/filter}}\\n</$button>\\n</$reveal>\\n<$set name=\\\"stateTiddler\\\" filter=\\\"[<storeTitle>!is[missing]has[text]]\\\" value=<<storeTitle>> emptyValue=<<filterState>>>\\n<$reveal state=<<stateTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$button class=\\\"tc-btn-invisible\\\">\\n<$action-deletetiddler $filter=\\\"[[$:/state/filter/$state$]get[checktiddler]enlist-input[]]\\\"/><$action-deletetiddler $filter=\\\"$:/temp/search/$state$ $:/state/filter/$state$ $:/temp/xp/$state$/Field $:/temp/xp/$state$/Date $:/temp/xp/$state$/FieldValue\\\"/>\\n<$action-sendmessage $message=\\\"tm-focus-selector\\\" $param=\\\"\\\"\\\".$searchClass$ input\\\"\\\"\\\"/>\\n{{$:/core/images/close-button}}\\n</$button>\\n</$reveal>\\n</$set>\\n<$list filter=\\\"[<__viewButton__>match[yes]]\\\" variable=\\\"ignore\\\">\\n<$reveal state=<<readingMode>> type=\\\"nomatch\\\" text=\\\"on\\\">\\n<<toggleViewButton>>\\n</$reveal>\\n</$list>\\n<<sortingButton>>\\n<<toggleReadingMode>>\\n<<viewSource>>\\n<<tocSwitch>>\\n</span>\\n<$wikify text=<<alltagsfilter>> name=\\\"alltagsfilterwikified\\\">\\n<$set name=\\\"searchFilter\\\" filter=\\\"[<filterState>has[list]]\\\" value=<<alltagsfilterwikified>> emptyValue={{{ [<configTiddler>get[text]addsuffix<timeRun>addsuffix<fieldRun>addsuffix<valueRun>addsuffix<sortRun>] }}}>\\n<$set name=\\\"stateTiddler\\\" filter=\\\"[<storeTitle>!is[missing]get[text]!is[blank]]\\\" value=<<storeTitle>> emptyValue=<<filterState>>>\\n<$reveal state=<<stateTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$reveal state=<<filterState>> type=\\\"nomatch\\\" text=\\\"yes\\\" animate=\\\"yes\\\">\\n<span class=\\\"xp-search-results\\\"><<lingo System/Matches>></span>\\n</$reveal>\\n</$reveal>\\n<$reveal state=<<filterState>> type=\\\"nomatch\\\" text=\\\"yes\\\" animate=\\\"yes\\\">\\n<<unsortButton>>\\n</$reveal>\\n</$set>\\n<$reveal state=<<filterState>> type=\\\"match\\\" text=\\\"yes\\\" animate=\\\"yes\\\">\\n<div class=\\\"xp-wrapper-aggrfilter\\\">\\n\\n<<filtered-by-tag>>\\n\\nFiltered by Time / Field: <<resetFieldButton>>\\n\\n<div class=\\\"xp-aggrfilter-category\\\">\\n<table>\\n<tbody>\\n<tr>\\n<<filtered-by-time>>\\n<$vars getField={{{ [<fieldTiddler>is[tiddler]get[text]] }}} getValue={{{ [<valueTiddler>is[tiddler]get[text]] }}}\\n    pt1=\\\"+[has:field[\\\" pt2=\\\"+[\\\" st=\\\"]]\\\" st2=\\\"[\\\">\\n<td>\\n<span class=\\\"xp-aggrfilter-category-title tc-muted\\\"> Field </span>&#32;\\n<$select tiddler=<<fieldTiddler>> tooltip=\\\"Choosing the Field\\\" class=\\\"xp-aggregation-select\\\" actions=\\\"\\\"\\\"<$action-setfield $tiddler=<<fieldTiddler>> filter={{{ [<fieldTiddler>get[text]addprefix<pt1>addsuffix<st>] }}}/><$action-deletetiddler $tiddler=<<valueTiddler>>/>\\\"\\\"\\\">\\n<$list filter=\\\"[tag<aggregationTag>fields:exclude{$:/config/xp/aggregation/excluded-fields/filtering-button}]\\\">\\n<option><$view field=\\\"title\\\"/></option>\\n</$list>\\n</$select>\\n</td>\\n<$list filter=\\\"[tag<aggregationTag>has{$:/temp/xp/$state$/Field}limit[1]]\\\" emptyMessage=\\\"\\\"\\\"<$list filter=\\\"[<fieldTiddler>has[text]]\\\"><td><span class=\\\"xp-aggrfilter-category-title tc-muted\\\"> No value for this field </span></td></$list>\\\"\\\"\\\" variable=\\\"ignore\\\">\\n<td>\\n<span class=\\\"xp-aggrfilter-category-title tc-muted\\\"> Value </span>&#32;\\n<$select tiddler=<<valueTiddler>> tooltip=\\\"Choosing the Value\\\" class=\\\"xp-aggregation-select\\\" actions=\\\"\\\"\\\"<$action-setfield $tiddler=<<valueTiddler>> filter={{{ [<getField>addprefix<pt2>addsuffix<st2>addsuffix{$:/temp/xp/$state$/FieldValue}addsuffix<st>] }}}/>\\\"\\\"\\\">\\n<$list filter=\\\"[tag<aggregationTag>has<getField>each<getField>get<getField>!is[blank]]\\\">\\n<option><$view field=\\\"title\\\"/></option>\\n</$list>\\n</$select>\\n</td>\\n</$list>\\n</$vars>\\n</tr>\\n</tbody>\\n</table>\\n</div>\\n\\n</div>\\n</$reveal>\\n<$reveal state=<<filterState>> type=\\\"match\\\" text=\\\"yes\\\" animate=\\\"yes\\\">\\n<<lingo System/Matches>>\\n<<unsortButton>>\\n</$reveal>\\n\\n<$reveal state=<<readingMode>> type=\\\"nomatch\\\" text=\\\"on\\\" animate=\\\"yes\\\">\\n\\n<!-- Show table -->\\n<$reveal state=<<defaultView>> default=\\\"table\\\" type=\\\"match\\\" text=\\\"table\\\" animate=\\\"yes\\\">\\n<$macrocall \\n  $name=\\\"aggr-table\\\"\\n  filter=<<searchFilter>>\\n  fields=<<__fields__>>\\n  class=<<__class__>>\\n  stateTiddler=<<__state__>>\\n  paginationButton=<<__paginationButton__>>\\n  rowsButton=<<__rowsButton__>>\\n/>\\n</$reveal>\\n\\n<!-- Show card -->\\n<$reveal state=<<defaultView>> default=\\\"table\\\" type=\\\"nomatch\\\" text=\\\"table\\\" animate=\\\"yes\\\">\\n<div class=\\\"content\\\" style=\\\"padding-top:10px;\\\">\\n<$list\\n  filter=<<searchFilter>>\\n  template=<<__cardTemplate__>>\\n/>\\n</div>\\n</$reveal>\\n\\n</$reveal>\\n\\n<!-- Reading Mode -->\\n<$reveal state=<<readingMode>> type=\\\"match\\\" text=\\\"on\\\" animate=\\\"yes\\\">\\n<$list filter=\\\"[subfilter<searchFilter>limit[1]]\\\" variable=\\\"ignore\\\">\\n\\n<$macrocall\\n  $name=\\\"aggregation-toc\\\"\\n  filter=<<searchFilter>>\\n  selectedTiddler=\\\"\\\"\\\"$:/temp/toc/selectedTiddler/$state$\\\"\\\"\\\"\\n  template=<<__tocTemplate__>>\\n  sourceMode=<<sourceMode>>\\n  tocSwitchTid=<<tocSwitchTid>>\\n/>\\n\\n</$list>\\n</$reveal>\\n\\n</$set>\\n</$wikify>\\n</$vars>\\n</$list>\\n\\\\end\\n\\n\\n\\\\define aggregation-table-dynamic(fields:\\\"tbl-expand title tags\\\",class:\\\"w-100\\\",state:\\\"aggregation\\\",storeTitle:\\\"$:/temp/search/aggregation/dtable\\\",searchClass:\\\"xp-search-aggregation\\\",promptTiddler:\\\"$:/aggregation/prompt\\\")\\n\\\\import $:/aggregation/macros/general\\n\\\\whitespace trim\\n<$list filter=<<aggr-has-tids>> emptyMessage=\\\"{{$promptTiddler$}}\\\" variable=\\\"ignore\\\">\\n<span class=\\\"xp-search $searchClass$\\\">\\nSearch &#32; <<selectSearchScope>> <i class='tc-small-gap-right'/> <$macrocall $name=\\\"keyboard-driven-input\\\"\\n    tiddler=<<__storeTitle__>>\\n    type=\\\"search\\\"\\n    tag=\\\"input\\\"\\n    focus={{$:/config/xp/aggregation/SearchAutoFocus}}\\n    inputCancelActions=<<__cancel-search-actions__>>/>\\n<i class='tc-tiny-gap-left'/>\\n<$reveal state=<<__storeTitle__>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$button class=\\\"tc-btn-invisible\\\">\\n<<cancel-search-actions>>\\n<$action-sendmessage $message=\\\"tm-focus-selector\\\" $param=\\\"\\\"\\\".$searchClass$ input\\\"\\\"\\\"/>\\n{{$:/core/images/close-button}}\\n</$button>\\n</$reveal>\\n</span>\\n<$vars userInput={{{ [<__storeTitle__>get[text]] }}}\\n    aggrFilter={{{ [<configTiddler>get[text]] }}}\\n    resultCount=\\\"<$count filter=<<aggrFilter>>/>\\\">\\n<$reveal state=<<__storeTitle__>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<span class=\\\"xp-search-results\\\"><<lingo System/Matches>></span>\\n</$reveal>\\n\\n<$macrocall\\n  $name=\\\"table-dynamic\\\"\\n  filter=<<aggrFilter>>\\n  fields=\\\"$fields$\\\"\\n  class=\\\"$class$\\\"\\n  stateTiddler=\\\"$state$\\\"\\n  emptyMessage=\\\" \\\"\\n/>\\n\\n</$vars>\\n</$list>\\n\\\\end\\n\\n\\n\\\\define aggregation-list-thumbnails(width:\\\"220\\\",height:\\\"123\\\",storeTitle:\\\"$:/temp/search/aggregation/thumbnails\\\",searchClass:\\\"xp-search-aggregation\\\",tagbar:\\\"yes\\\",promptTiddler:\\\"$:/aggregation/prompt\\\")\\n\\\\import $:/aggregation/macros/general\\n\\\\whitespace trim\\n<$list filter=<<aggr-has-tids>> emptyMessage=\\\"{{$promptTiddler$}}\\\" variable=\\\"ignore\\\">\\n\\n<$reveal default=\\\"$tagbar$\\\" type=\\\"nomatch\\\" text=\\\"no\\\">\\n<<aggrTagbar>>\\n</$reveal>\\n\\n<span class=\\\"xp-search $searchClass$\\\">\\nSearch &#32; <<selectSearchScope>> <i class='tc-small-gap-right'/> <$macrocall $name=\\\"keyboard-driven-input\\\"\\n    tiddler=<<__storeTitle__>>\\n    type=\\\"search\\\"\\n    tag=\\\"input\\\"\\n    focus={{$:/config/xp/aggregation/SearchAutoFocus}}\\n    inputCancelActions=<<__cancel-search-actions__>>/>\\n<i class='tc-tiny-gap-left'/>\\n<$reveal state=<<__storeTitle__>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$button class=\\\"tc-btn-invisible\\\">\\n<<cancel-search-actions>>\\n<$action-sendmessage $message=\\\"tm-focus-selector\\\" $param=\\\"\\\"\\\".$searchClass$ input\\\"\\\"\\\"/>\\n{{$:/core/images/close-button}}\\n</$button>\\n</$reveal>\\n</span>\\n<$vars userInput={{{ [<__storeTitle__>get[text]] }}}\\n    aggrFilter={{{ [<configTiddler>get[text]] }}}\\n    resultCount=\\\"<$count filter=<<aggrFilter>>/>\\\">\\n<$reveal state=<<__storeTitle__>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<span class=\\\"xp-search-results\\\"><<lingo System/Matches>></span>\\n</$reveal>\\n\\n<div style=\\\"font-size:0.7em;text-align:left;margin-top:2em;margin-bottom:2em;\\\">\\n<$macrocall\\n  $name=\\\"list-thumbnails\\\"\\n  filter=<<aggrFilter>>\\n  width=\\\"$width$\\\"\\n  height=\\\"$height$\\\"\\n/>\\n</div>\\n\\n</$vars>\\n</$list>\\n\\\\end\\n\\n\\n\\\\define aggregation-list-links(storeTitle:\\\"$:/temp/search/aggregation/links\\\",searchClass:\\\"xp-search-aggregation\\\",tagbar:\\\"yes\\\",promptTiddler:\\\"$:/aggregation/prompt\\\")\\n\\\\import $:/aggregation/macros/general\\n\\\\whitespace trim\\n<$list filter=<<aggr-has-tids>> emptyMessage=\\\"{{$promptTiddler$}}\\\" variable=\\\"ignore\\\">\\n\\n<$reveal default=\\\"$tagbar$\\\" type=\\\"nomatch\\\" text=\\\"no\\\">\\n<<aggrTagbar>>\\n</$reveal>\\n\\n<span class=\\\"xp-search $searchClass$\\\">\\nSearch &#32; <<selectSearchScope>><i class='tc-small-gap-right'/> <$macrocall $name=\\\"keyboard-driven-input\\\"\\n    tiddler=<<__storeTitle__>>\\n    type=\\\"search\\\"\\n    tag=\\\"input\\\"\\n    focus={{$:/config/xp/aggregation/SearchAutoFocus}}\\n    inputCancelActions=<<__cancel-search-actions__>>/>\\n<i class='tc-tiny-gap-left'/>\\n<$reveal state=<<__storeTitle__>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$button class=\\\"tc-btn-invisible\\\">\\n<<cancel-search-actions>>\\n<$action-sendmessage $message=\\\"tm-focus-selector\\\" $param=\\\"\\\"\\\".$searchClass$ input\\\"\\\"\\\"/>\\n{{$:/core/images/close-button}}\\n</$button>\\n</$reveal>\\n</span>\\n<$vars userInput={{{ [<__storeTitle__>get[text]] }}}\\n    aggrFilter={{{ [<configTiddler>get[text]] }}}\\n    resultCount=\\\"<$count filter=<<aggrFilter>>/>\\\">\\n<$reveal state=<<__storeTitle__>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<span class=\\\"xp-search-results\\\"><<lingo System/Matches>></span>\\n</$reveal>\\n<$reveal default=<<resultCount>> type=\\\"nomatch\\\" text=\\\"0\\\">\\n<p>{{$:/language/xp/aggregation/ClickPopup}}</p>\\n</$reveal>\\n\\n<div class=\\\"twocolumns\\\" style=\\\"padding:10px 28px;line-height:1.55;\\\">\\n<$list filter=<<aggrFilter>> template=\\\"$:/templates/popup-caption-view\\\"/>\\n</div>\\n\\n</$vars>\\n</$list>\\n\\\\end\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/aggregation/macros/definitions\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/aggregation/macros/definitions\",\"created\":\"20230402014534059\",\"modified\":\"20230402014534059\",\"tags\":\"$:/tags/Macro $:/tags/XpPreview\",\"text\":\"\\\\define lingo-base() $:/language/Search/\\n\\n\\\\define toggleViewButton()\\n\\\\whitespace trim\\n<$reveal state=<<defaultView>> default=\\\"table\\\" type=\\\"nomatch\\\" text=\\\"card\\\">\\n<$button tooltip=\\\"Switching to card view\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$action-setfield $tiddler=<<defaultView>> text=\\\"card\\\"/>\\n{{$:/xp/images/switch}}\\n</$button>\\n</$reveal>\\n<$reveal state=<<defaultView>> type=\\\"match\\\" text=\\\"card\\\">\\n<$button tooltip=\\\"Switching to table view\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$action-setfield $tiddler=<<defaultView>> text=\\\"table\\\"/>\\n{{$:/xp/images/switch}}\\n</$button>\\n</$reveal>\\n\\\\end\\n\\n\\\\define sortingButton()\\n\\\\whitespace trim\\n<span class=\\\"tc-popup-keep\\\">\\n<$button popup=<<qualify \\\"$:/state/xp/aggregation/sorting-button\\\">> tooltip=\\\"Sorted by field\\\" class=\\\"tc-btn-invisible\\\">\\n{{$:/xp/images/sorting}}\\n</$button>\\n</span>\\n\\n<$reveal state=<<qualify \\\"$:/state/xp/aggregation/sorting-button\\\">> type=\\\"popup\\\" position=\\\"below\\\" animate=\\\"yes\\\">\\n<$vars mainFilter={{{ [<filterTiddler>get[text]] }}} pt1=\\\"+[sort[\\\" pt2=\\\"+[!sort[\\\" st=\\\"]]\\\">\\n<$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n<$linkcatcher actions=\\\"\\\"\\\"<$action-setfield $tiddler=<<sortTiddler>> text=<<navigateTo>>/>\\n  <$list filter=\\\"[<navigateTo>prefix<pt1>]\\\" variable=\\\"ignore\\\">\\n    <$action-setfield $tiddler=<<tempTableSort>> $index=\\\"sortIndex\\\" $value={{{ [<navigateTo>removeprefix<pt1>removesuffix<st>] }}}/>\\n    <$action-setfield $tiddler=<<tempTableSort>> $index=\\\"hasnegate\\\" $value=\\\"false\\\"/>\\n    <$action-setfield $tiddler=<<tempTableSort>> $index=\\\"negate\\\" $value=\\\"\\\"/>\\n  </$list>\\n  <$list filter=\\\"[<navigateTo>prefix<pt2>]\\\" variable=\\\"ignore\\\">\\n    <$action-setfield $tiddler=<<tempTableSort>> $index=\\\"sortIndex\\\" $value={{{ [<navigateTo>removeprefix<pt2>removesuffix<st>] }}}/>\\n    <$action-setfield $tiddler=<<tempTableSort>> $index=\\\"hasnegate\\\" $value=\\\"true\\\"/>\\n    <$action-setfield $tiddler=<<tempTableSort>> $index=\\\"negate\\\" $value=\\\"!\\\"/>\\n  </$list>\\\"\\\"\\\">\\n<div class=\\\"tc-block-dropdown-wrapper\\\">\\n<div class=\\\"tc-block-dropdown tc-edit-type-dropdown xp-sorting-dropdown\\\">\\n  <div class=\\\"tc-dropdown-item\\\">Common</div>\\n  <$list filter=\\\"title caption modified modifier created creator\\\" variable=\\\"listField\\\">\\n    <$link to={{{ [<listField>addprefix<pt1>addsuffix<st>] }}}><$text text=<<listField>>/></$link>\\n    <$link to={{{ [<listField>addprefix<pt2>addsuffix<st>] }}}><$text text={{{ [<listField>addsuffix[↑]] }}}/></$link>\\n  </$list>\\n  <div class=\\\"tc-dropdown-item\\\">Other</div>\\n  <$list filter=\\\"[subfilter<__filter__>] +[fields[]sort[]] -[enlist{$:/config/xp/aggregation/excluded-fields/sorting-button}] -title -caption -modified -modifier -created -creator\\\" variable=\\\"listField\\\" emptyMessage=\\\"\\\"\\\"<p class=\\\"tc-muted\\\">&emsp;No fields</p>\\\"\\\"\\\">\\n    <$link to={{{ [<listField>addprefix<pt1>addsuffix<st>] }}}><$text text=<<listField>>/></$link>\\n    <$link to={{{ [<listField>addprefix<pt2>addsuffix<st>] }}}><$text text={{{ [<listField>addsuffix[↑]] }}}/></$link>\\n  </$list>\\n</div>\\n</div>\\n</$linkcatcher>\\n</$set>\\n</$vars>\\n</$reveal>\\n\\\\end\\n\\n\\\\define unsortButton()\\n\\\\whitespace trim\\n<$vars pt1=\\\"+[sort[\\\" pt2=\\\"+[!sort[\\\" st=\\\"]]\\\" btnClass=\\\"xp-aggrfilter-dynamic-btn\\\">\\n<$reveal state=<<sortState>> type=\\\"nomatch\\\" text=\\\"\\\" animate=\\\"yes\\\">\\n&emsp;\\n<$list filter=\\\"[<sortTiddler>search:text:literal<sortIndex>]\\\" variable=\\\"ignore\\\">\\n<$list filter=\\\"[<sortTiddler>get[text]prefix<pt1>]\\\" variable=\\\"ignore\\\">\\n<$button tooltip=\\\"Descending order\\\" class=<<btnClass>>>\\n<$text text={{{ [<sortTiddler>get[text]removeprefix<pt1>removesuffix<st>] }}}/>&nbsp;&darr;\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"hasnegate\\\" $value=\\\"true\\\"/>\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"negate\\\" $value=\\\"!\\\"/>\\n<$action-setfield $tiddler=<<sortTiddler>> text={{{ [<sortTiddler>get[text]search-replace[sort[],[!sort[]] }}}/>\\n</$button>\\n</$list>\\n<$list filter=\\\"[<sortTiddler>get[text]prefix<pt2>]\\\" variable=\\\"ignore\\\">\\n<$button tooltip=\\\"Ascending order\\\" class=<<btnClass>>>\\n<$text text={{{ [<sortTiddler>get[text]removeprefix<pt2>removesuffix<st>] }}}/>&nbsp;&uarr;\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"hasnegate\\\" $value=\\\"false\\\"/>\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"negate\\\" $value=\\\"\\\"/>\\n<$action-setfield $tiddler=<<sortTiddler>> text={{{ [<sortTiddler>get[text]search-replace[!sort[],[sort[]] }}}/>\\n</$button>\\n</$list>\\n</$list>\\n<$button class=<<btnClass>>>\\nunsort\\n<$action-deletetiddler $filter=\\\"[<sortTiddler>] [<tempTableSort>]\\\"/>\\n</$button>\\n</$reveal>\\n</$vars>\\n\\\\end\\n\\n\\\\define toggleReadingMode()\\n\\\\whitespace trim\\n<$reveal state=<<readingMode>> default=\\\"off\\\" type=\\\"nomatch\\\" text=\\\"on\\\">\\n<$button tooltip=\\\"Turn on reading mode\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$action-setfield $tiddler=<<readingMode>> text=\\\"on\\\"/>\\n{{$:/xp/images/readingmode}}\\n</$button>\\n</$reveal>\\n<$reveal state=<<readingMode>> type=\\\"match\\\" text=\\\"on\\\">\\n<$button tooltip=\\\"Turn off reading mode\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$action-deletetiddler $tiddler=<<readingMode>>/>\\n{{$:/xp/images/readingmode-on}}\\n</$button>\\n</$reveal>\\n\\\\end\\n\\n\\\\define viewSource()\\n\\\\whitespace trim\\n<$reveal state=<<readingMode>> type=\\\"match\\\" text=\\\"on\\\">\\n<$reveal state=<<sourceMode>> default=\\\"off\\\" type=\\\"nomatch\\\" text=\\\"on\\\">\\n<$button tooltip=\\\"Display source code\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$action-setfield $tiddler=<<sourceMode>> text=\\\"on\\\"/>\\n{{$:/xp/images/sourcemode}}\\n</$button>\\n</$reveal>\\n<$reveal state=<<sourceMode>> type=\\\"match\\\" text=\\\"on\\\">\\n<$button tooltip=\\\"Turn off source mode\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$action-deletetiddler $tiddler=<<sourceMode>>/>\\n{{$:/xp/images/sourcemode-on}}\\n</$button>\\n</$reveal>\\n</$reveal>\\n\\\\end\\n\\n\\\\define tocSwitch()\\n\\\\whitespace trim\\n<$reveal state=<<readingMode>> type=\\\"match\\\" text=\\\"on\\\">\\n<$reveal state=<<tocSwitchTid>> default=\\\"show\\\" type=\\\"nomatch\\\" text=\\\"hide\\\">\\n<$button tooltip=\\\"Hide toc\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$action-setfield $tiddler=<<tocSwitchTid>> text=\\\"hide\\\"/>\\n{{$:/core/images/preview-open}}\\n</$button>\\n</$reveal>\\n<$reveal state=<<tocSwitchTid>> type=\\\"match\\\" text=\\\"hide\\\">\\n<$button tooltip=\\\"Show toc\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$action-setfield $tiddler=<<tocSwitchTid>> text=\\\"show\\\"/>\\n{{$:/core/images/preview-closed}}\\n</$button>\\n</$reveal>\\n</$reveal>\\n\\\\end\\n\\n\\\\define target-filter-code(filter)\\n<$vars L=\\\"tag[\\\" R=\\\"]\\\" lb=\\\" +[\\\">\\n<$set filter=\\\"[list<filterState>addprefix<L>addsuffix<R>]+[join[]addprefix<lb>addprefix<__filter__>addsuffix<R>addsuffix<searchRun>addsuffix<timeRun>addsuffix<fieldRun>addsuffix<valueRun>addsuffix<sortRun>]\\\" name=\\\"target\\\" select=0>\\n<$text text=<<target>>/>\\n</$set>\\n</$vars>\\n\\\\end\\n\\n\\\\define aggrfilteritem(item:\\\"\\\")\\n<$checkbox tiddler=<<qualify \\\"\\\"\\\"$:/temp/$item$\\\"\\\"\\\">> field=\\\"status\\\" checked=\\\"selected\\\" checkactions=<<checkactions \\\"\\\"\\\"$item$\\\"\\\"\\\">> uncheckactions=<<uncheckactions \\\"\\\"\\\"$item$\\\"\\\"\\\">> default=\\\"closed\\\"> <$text text=<<__item__>>/></$checkbox>\\n\\\\end\\n\\n\\\\define checkactions(item:\\\"\\\")\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"[[$item$]]\\\"/>\\n<$action-listops $tiddler=<<filterState>> $field=\\\"checktiddler\\\" $subfilter={{{ [<qualify \\\"\\\"\\\"$:/temp/$item$\\\"\\\"\\\">format:titlelist[]] }}}/>\\n<$list filter=\\\"[list<filterState>!is[tag]]\\\" variable=\\\"missingItem\\\">\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"-[<missingItem>]\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\define uncheckactions(item:\\\"\\\")\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"-[[$item$]]\\\"/>\\n<$list filter=\\\"[list<filterState>!is[tag]]\\\" variable=\\\"missingItem\\\">\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"-[<missingItem>]\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\define deselectButton()\\n\\\\whitespace trim\\n<$reveal default={{{ [list<filterState>count[]] }}} type=\\\"gt\\\" text=\\\"1\\\" animate=\\\"yes\\\">\\n&emsp;<$button class=\\\"xp-aggrfilter-dynamic-btn\\\">\\n<$action-deletetiddler $filter=\\\"[<filterState>get[checktiddler]enlist-input[]]\\\"/>\\n<$action-deletefield $tiddler=<<filterState>> list/>\\ndeselect all\\n</$button>\\n</$reveal>\\n\\\\end\\n\\n\\\\define resetFieldButton()\\n\\\\whitespace trim\\n<$list filter=\\\"[<fieldTiddler>has[text]] [<dateTiddler>is[tiddler]] [<filterState>has[filter]] +[limit[1]]\\\">\\n&emsp;<$button class=\\\"xp-aggrfilter-dynamic-btn\\\">\\n<$action-deletetiddler $filter=\\\"[<fieldTiddler>] [<dateTiddler>] [<valueTiddler>]\\\"/>\\n<$action-deletefield $tiddler=<<filterState>> filter/>\\nreset\\n</$button>\\n</$list>\\n\\\\end\\n\\n\\\\define input-accept-actions-date() <$action-setfield $tiddler=<<filterState>> filter={{{ [<dateTiddler>get[text]addprefix<pt>addsuffix<st>] }}}/>\\n\\n\\\\define input-cancel-actions-date() <$action-deletefield $tiddler=<<dateTiddler>> text/>\\n\\n\\\\define resetFieldsActions()\\n<$action-setfield $tiddler=<<fieldsTiddler>> text=<<__defaultFields__>> list=<<__defaultFields__>>/>\\n<$list filter=\\\"[subfilter<__filter__>] +[fields[]sort[]] -[enlist{$:/config/xp/aggregation/excluded-fields/dtable}] +[format:titlelist[]]\\\" variable=\\\"listField\\\">\\n<$action-listops $tiddler=<<fieldsTiddler>> $subfilter=\\\"+[append<listField>]\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\define updateFieldsActions()\\n<$action-setfield $tiddler=<<fieldsTiddler>> list={{{ [<fieldsTiddler>get[text]] }}}/>\\n<$list filter=\\\"[subfilter<__filter__>] +[fields[]sort[]] -[enlist{$:/config/xp/aggregation/excluded-fields/dtable}] +[format:titlelist[]]\\\" variable=\\\"listField\\\">\\n<$action-listops $tiddler=<<fieldsTiddler>> $subfilter=\\\"+[append<listField>]\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\define fields-checkactions()\\n<$action-listops $tiddler=<<targetTiddler>> $field=\\\"text\\\" $subfilter=\\\"+[append<currentTiddler>]\\\"/>\\n<<updateFieldsActions>>\\n\\\\end\\n\\n\\\\define fields-uncheckactions()\\n<$action-listops $tiddler=<<targetTiddler>> $field=\\\"text\\\" $subfilter=\\\"-[<currentTiddler>]\\\"/>\\n<<updateFieldsActions>>\\n\\\\end\\n\\n\\\\define tableFieldsButton()\\n\\\\whitespace trim\\n<$reveal state=<<fieldsState>> default=\\\"no\\\" type=\\\"nomatch\\\" text=\\\"yes\\\">\\n<$button tooltip=\\\"Select dynamic table fields\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$action-setfield $tiddler=<<fieldsState>> text=\\\"yes\\\"/>\\n<!-- 1st run: initialize data -->\\n<$reveal state=<<fieldsTiddler>> type=\\\"match\\\" text=\\\"\\\">\\n<<resetFieldsActions>>\\n<$list filter=<<__defaultFields__>> variable=\\\"listField\\\">\\n<$action-setfield $tiddler=<<field-config-title>> text=\\\"show\\\"/>\\n</$list>\\n</$reveal>\\n<!-- Subsequent runs -->\\n<$reveal state=<<fieldsTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$reveal\\n  default={{{ [subfilter<__filter__>] +[fields[]] -[enlist<__defaultFields__>] -[enlist{$:/config/xp/aggregation/excluded-fields/dtable}] +[count[]] }}}\\n  type=\\\"nomatch\\\"\\n  text={{{ [list<fieldsTiddler>] -[enlist<__defaultFields__>] +[count[]] }}}>\\n<<updateFieldsActions>>\\n</$reveal></$reveal>\\n{{$:/xp/images/dtable}}\\n</$button>\\n</$reveal>\\n<$reveal state=<<fieldsState>> type=\\\"match\\\" text=\\\"yes\\\">\\n<$button tooltip=\\\"Close selection panel\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$action-setfield $tiddler=<<fieldsState>> text=\\\"no\\\"/>\\n{{$:/xp/images/dtable-panel}}\\n</$button>\\n</$reveal>\\n\\\\end\\n\\n\\\\define resetFieldsButton()\\n\\\\whitespace trim\\n<$wikify name=\\\"defaultFieldsCount\\\" text=\\\"<$count filter='[enlist<__defaultFields__>]'/>\\\">\\n<$vars\\n  comparingFields={{{ [enlist<__defaultFields__>] :filter[lookup<config-base>match[show]] +[count[]!match<defaultFieldsCount>] +[then[reset]] }}}\\n  otherFields={{{ [subfilter<__filter__>] +[fields[]] -[enlist<__defaultFields__>] :filter[lookup<config-base>match[show]] +[then[reset]] }}}>\\n<$list filter=\\\"[<comparingFields>] [<otherFields>] +[match[reset]limit[1]]\\\" variable=\\\"ignore\\\">\\n&emsp;<$button class=\\\"xp-aggrfilter-dynamic-btn\\\">\\n<!-- Delete config tiddlers -->\\n<$action-deletetiddler $filter=\\\"[regexp[TableFields/Visibility]prefix[$:/config/]prefix<fieldsTiddler>prefix<config-base>]\\\"/>\\n<$list filter=\\\"[enlist<__defaultFields__>]\\\" variable=\\\"listField\\\">\\n<$action-setfield $tiddler=<<field-config-title>> text=\\\"show\\\"/>\\n</$list>\\n<!-- Reset fields -->\\n<<resetFieldsActions>>\\nreset\\n</$button>\\n</$list>\\n</$vars>\\n</$wikify>\\n\\\\end\\n\\n\\\\define updateFieldsButton()\\n\\\\whitespace trim\\n<$reveal\\n  default={{{ [subfilter<__filter__>] +[fields[]] -[enlist<__defaultFields__>] -[enlist{$:/config/xp/aggregation/excluded-fields/dtable}] +[count[]] }}}\\n  type=\\\"nomatch\\\"\\n  text={{{ [list<fieldsTiddler>] -[enlist<__defaultFields__>] +[count[]] }}}>\\n&nbsp;<$button class=\\\"xp-aggrfilter-dynamic-btn\\\">\\n<<updateFieldsActions>>\\nupdate\\n</$button>\\n</$reveal>\\n\\\\end\\n\\n\\\\define aggregation-fields-draggable-config-title()\\n$(config-base)$$(currentTiddler)$\\n\\\\end\\n\\n\\\\define aggregation-fields-draggable-drop-actions()\\n<$action-listops $tiddler=<<targetTiddler>> $field=<<targetField>> $subfilter=\\\"+[insertbefore<actionTiddler>,<currentTiddler>]\\\"/>\\n<$reveal state=<<aggregation-fields-draggable-config-title>> type=\\\"match\\\" text=\\\"show\\\">\\n<$action-listops $tiddler=<<targetTiddler>> $field=\\\"text\\\" $subfilter=\\\"+[insertbefore<actionTiddler>,<currentTiddler>]\\\"/>\\n</$reveal>\\n\\\\end\\n\\n\\\\define aggregation-fields-draggable(tiddler,field:\\\"list\\\",exclude,emptyMessage,itemTemplate,elementTag:\\\"div\\\",storyview:\\\"\\\")\\n\\\\whitespace trim\\n<$vars targetTiddler=\\\"\\\"\\\"$tiddler$\\\"\\\"\\\" targetField=\\\"\\\"\\\"$field$\\\"\\\"\\\">\\n<$list filter=\\\"[list[$tiddler$!!$field$]] -[enlist<__exclude__>]\\\" emptyMessage=<<__emptyMessage__>> storyview=<<__storyview__>>>\\n<$droppable actions=<<aggregation-fields-draggable-drop-actions>> enable=<<tv-enable-drag-and-drop>>>\\n<$elementTag$ class=\\\"tc-droppable-placeholder\\\"/>\\n<$elementTag$>\\n<$transclude tiddler=\\\"\\\"\\\"$itemTemplate$\\\"\\\"\\\">\\n<$link to={{!!title}}>\\n<$view field=\\\"title\\\"/>\\n</$link>\\n</$transclude>\\n</$elementTag$>\\n</$droppable>\\n</$list>\\n<$tiddler tiddler=\\\"\\\">\\n<$droppable actions=<<aggregation-fields-draggable-drop-actions>> tag=\\\"div\\\" enable=<<tv-enable-drag-and-drop>>>\\n<$elementTag$ class=\\\"tc-droppable-placeholder\\\"/>\\n<$elementTag$ style=\\\"height:0.5em;\\\">\\n</$elementTag$>\\n</$droppable>\\n</$tiddler>\\n</$vars>\\n\\\\end\\n\\n\\\\define aggregation-dtable-controls()\\n\\\\whitespace trim\\n<<toggle-edit-view-trim>>\\n<span class=\\\"xp-controls\\\" style=\\\"padding-left:.25em;\\\">\\n<<tableFieldsButton>>\\n<$list filter=\\\"[<__paginationButton__>match[yes]]\\\" variable=ignore>\\n<<toggle-pagination>>\\n</$list>\\n<$list filter=\\\"[<__rowsButton__>match[yes]]\\\" variable=ignore>\\n<<footer-rows-button>>\\n</$list>\\n</span>\\n\\\\end\\n\\n\\\\define aggregation-dtable(filter, fields:\\\"tbl-expand title\\\", indexes:\\\"\\\", sortOp:\\\"sort\\\", caption:\\\"\\\", class:\\\"w-100\\\", stateTiddler:\\\"aggregation-state\\\", editButton:\\\"yes\\\", paginationButton:\\\"yes\\\", rowsButton:\\\"no\\\", emptyMessage)\\n\\\\import [[$:/tags/Table/Macro]tagging[]]\\n<!--above commands import utility macros-->\\n<$let\\n  fieldsTiddler=\\\"\\\"\\\"$:/config/xp/$stateTiddler$/TableFields\\\"\\\"\\\"\\n  fieldsState=\\\"\\\"\\\"$:/state/xp/$stateTiddler$/ModifyTableFields\\\"\\\"\\\"\\n  pageTiddler=\\\"\\\"\\\"$:/config/xp/$stateTiddler$/Pagination\\\"\\\"\\\"\\n  rowsTiddler=\\\"\\\"\\\"$:/config/xp/$stateTiddler$/FooterRows\\\"\\\"\\\"\\n  rowsState=\\\"\\\"\\\"$:/state/xp/$stateTiddler$/FooterRows\\\"\\\"\\\"\\n  footerTiddler=\\\"\\\"\\\"$:/keepstate/dynamictables/$stateTiddler$/footer\\\"\\\"\\\"\\n\\n  inputFilter=\\\"[subfilter<__filter__>!has[draft.of]]\\\"\\n  sortType=<<__sortOp__>>\\n  pagination={{{ [<pageTiddler>is[tiddler]get[text]] ~no }}}\\n  footerRows={{{ [<rowsTiddler>is[tiddler]get[text]] ~0 }}}\\n  >\\n<$set name=currentTable value=<<__stateTiddler__>> emptyValue=<<currentTiddler>> >\\n<$reveal state=<<fieldsState>> type=\\\"match\\\" text=\\\"yes\\\" animate=\\\"yes\\\">\\n<div class=\\\"xp-wrapper-aggrfilter\\\">\\n\\n<div style=\\\"position:relative;\\\">\\n<div class=\\\"tc-tiddler-controls\\\" style=\\\"position:absolute;right:0;\\\">\\n<$button set=<<fieldsState>> setTo=\\\"\\\" tooltip=\\\"Close panel\\\" aria-label=\\\"select table fields\\\" class=\\\"tc-btn-invisible\\\">\\n{{$:/core/images/close-button}}\\n</$button>\\n</div>\\n</div>\\n\\n<span class=\\\"tc-muted\\\">Dynamic table Fields:</span> <<resetFieldsButton>><<updateFieldsButton>>\\n\\n<div class=\\\"xp-aggrfilter-category\\\">\\n<div class=\\\"xp-aggrfilter-category-item\\\">\\n<$macrocall\\n  $name=\\\"aggregation-fields-draggable\\\"\\n  tiddler=<<fieldsTiddler>>\\n  itemTemplate=\\\"$:/aggregation/fields-smart-mode/ItemTemplate\\\"\\n  exclude={{$:/config/xp/aggregation/excluded-fields/dtable}}\\n/>\\n</div>\\n</div>\\n\\n</div>\\n</$reveal>\\n<!-- check what type of columns are sent, fileds or indexes (data tiddlers as records) -->\\n<$set name=fieldOrIndex filter=\\\"[<__fields__>!is[blank]]\\\" value=\\\"field\\\" emptyValue=\\\"index\\\">\\n<<check_tiddlers_type_for_table_from_indexes isEditable:\\\"$editButton$\\\">>\\n<$set name=columns filter=\\\"[<fieldOrIndex>]-index\\\" value=<<__fields__>> emptyValue=<<__indexes__>> >\\n<!--check input filter parameter-->\\n<$list filter=\\\"[subfilter<inputFilter>limit[1]]\\\" emptyMessage=<<__emptyMessage__>> variable=ignore>\\n<$set name=sortneg tiddler=<<tempTableSort>> index=\\\"negate\\\">\\n<!--calculate the number of columns in edit and view mode -->\\n<$set name=ncols filter=\\\"[<tempTableEdit>getindex[mode]match[edit]]\\\" value={{{ [subfilter<columnFilter>count[]] }}} emptyValue={{{ [subfilter<columnFilter>count[]subtract[1]] }}}>\\n<div class=\\\"tbl-container\\\" style=\\\"max-width:100%;\\\">\\n<table class=<<__class__>> style=\\\"caption-side:top\\\">\\n<!-- reveal caption and edit button -------------------->\\n<caption style=\\\"text-align:left;\\\">\\n<$list filter=\\\"[<__editButton__>match[yes]]\\\" variable=ignore>\\n<span style=\\\"padding-right:5px;padding-left:3px;\\\">\\n<<aggregation-dtable-controls>>\\n<<select-footer-rows>>\\n</span>\\n</$list>\\n<$reveal state=<<rowsState>> type=\\\"nomatch\\\" text=\\\"yes\\\" animate=\\\"yes\\\">\\n$caption$\\n</$reveal></caption>\\n\\n<!-- create header -------------------->\\n<thead>\\n<<confirm-delete>>\\n<tr>\\n<$list filter=<<columnFilter>> variable=currentColumn>\\n<$set name=\\\"headerLookup\\\" filter=\\\"[all[tiddlers+shadows]tag[$:/tags/Table/HeaderTemplate]contains:tbl-column-list<currentColumn>limit[1]get[title]]\\\" value=<<headerLookup>> emptyValue=\\\"$:/plugins/kookma/shiraz/templates/header/default\\\">\\n <$transclude tiddler=<<headerLookup>> field=\\\"text\\\" mode=\\\"inline\\\"/>\\n</$set>\\n</$list>\\n</tr>\\n</thead>\\n\\n<!-- create footer -------------------->\\n<$reveal type=\\\"gt\\\" default=<<footerRows>> text=\\\"0\\\" tag=\\\"tfoot\\\" class=\\\"shiraz-dtable-footer\\\">\\n<tr><td colspan=<<ncols>> style=\\\"font-weight:bold;background-color:transparent;\\\">Numerical summary</td></tr>\\n<$list filter=\\\"[range<footerRows>addprefix[footer-]]\\\" variable=footerRow>\\n<tr>\\n<$list filter=<<columnFilter>> variable=currentColumn>\\n<$set name=\\\"footerLookup\\\" filter=\\\"[all[tiddlers+shadows]tag[$:/tags/Table/FooterTemplate]contains:tbl-column-list<currentColumn>limit[1]get[title]]\\\" value=<<footerLookup>> emptyValue=\\\"$:/plugins/kookma/shiraz/templates/footer/default\\\">\\n<$transclude tiddler=<<footerLookup>> field=\\\"text\\\" mode=\\\"inline\\\"/>\\n</$set>\\n</$list>\\n</tr>\\n</$list>\\n</$reveal>\\n\\n<!-- reveal main body of table (generate records) -------------------->\\n<tbody>\\n<$set name=tableBody filter=\\\"[<fieldOrIndex>]-index\\\" value=\\\"display_body_fields\\\" emptyValue=\\\"display_body_indexes\\\" >\\n<!-- setup pagination variables -->\\n<$vars total-entries={{{[subfilter<inputFilter>count[]] }}}\\n\\t\\t\\t page-number={{{[<pageStateTiddler>get[text]] ~[[1]]}}} \\n\\t\\t\\t entries-per-page={{{ [<entryPerPageStateTiddler>get[text]] ~[[25]]   }}}  >\\n<$vars low={{{ [<page-number>subtract[1]multiply<entries-per-page>] }}}  \\n       high={{{[<page-number>multiply<entries-per-page>]            }}} >\\t \\n<$macrocall $name=<<tableBody>> />\\n<!--on demand display the pagination row-->\\n<$reveal type=\\\"match\\\" default=<<pagination>> text=\\\"yes\\\" tag=\\\"tr\\\" class=\\\"shiraz-dtable-page-footer\\\">\\n<td colspan=<<ncols>> >\\n<<prev-button>>\\nDisplaying <$text text={{{[<low>add[1]]}}}/> through <$text text={{{ [<high>compare:number:lt<total-entries>then<high>else<total-entries>] }}}/> of <<total-entries>> Results | <<limit-entries>>\\n<<next-button>>\\n</td>\\n</$reveal><!-- end of pagination ui -->\\n</$vars>\\n</$vars>\\n</$set>\\n</tbody>\\n</table>\\n</div><!-- container-->\\n</$set>\\n</$set>\\n</$list><!--check input filter parameter-->\\n</$set>\\n</$set>\\n</$set>\\n</$let>\\n\\\\end\\n\\n\\n<pre><$view field=\\\"text\\\"/></pre>\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Buttons/ToggleProject\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Buttons/ToggleProject\",\"tags\":\"$:/tags/ViewToolbar\",\"description\":\"\",\"text\":\"\\\\whitespace trim\\n\\n<$list filter=\\\"[<currentTiddler>tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/task-tag}!tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/project-tag}]\\\" variable=\\\"ignore\\\">\\n  <$button tooltip=\\\"设为项目，并收藏到侧边栏意义之塔Tab里\\\" aria-label=\\\"设为项目，并收藏到侧边栏意义之塔Tab里\\\" class=<<tv-config-toolbar-class>> >\\n    <$action-listops $tags={{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/project-tag}} />\\n    <$list filter=\\\"[<tv-config-toolbar-icons>match[yes]]\\\">\\n      {{$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/SetAsProject}}\\n    </$list>\\n    <$list filter=\\\"[<tv-config-toolbar-text>match[yes]]\\\">\\n      <span class=\\\"tc-btn-text\\\">\\n        <$text text=\\\"设为项目\\\"/>\\n      </span>\\n    </$list>\\n  </$button>\\n</$list>\\n<$list filter=\\\"[<currentTiddler>tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/project-tag}]\\\" variable=\\\"ignore\\\">\\n  <$button tooltip=\\\"去掉项目标签，并从侧边栏意义之塔Tab里去掉\\\" aria-label=\\\"去掉项目标签，并从侧边栏意义之塔Tab里去掉\\\" class=<<tv-config-toolbar-class>> >\\n    <$action-listops $tags=\\\"+[!match{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/project-tag}]\\\" />\\n    <$list filter=\\\"[<tv-config-toolbar-icons>match[yes]]\\\">\\n      {{$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/SetAsNotProject}}\\n    </$list>\\n    <$list filter=\\\"[<tv-config-toolbar-text>match[yes]]\\\">\\n      <span class=\\\"tc-btn-text\\\">\\n        <$text text=\\\"去掉项目标签\\\"/>\\n      </span>\\n    </$list>\\n  </$button>\\n</$list>\\n\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Cascade/IconCascade\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Cascade/IconCascade\",\"tags\":\"$:/tags/TiddlerIconFilter\",\"list-before\":\"$:/config/TiddlerIconFilters/default\",\"text\":\"[tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/project-tag}then[$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Project]]\\n[tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/task-tag}then[$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Task]]\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/default-calendar-entry-tag\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/default-calendar-entry-tag\",\"text\":\"解决问题\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/intention-tag\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/intention-tag\",\"text\":\"意义\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/project-tag\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/project-tag\",\"text\":\"项目\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/task-tag\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/task-tag\",\"text\":\"任务\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ControlPanel/Settings.css\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ControlPanel/Settings.css\",\"text\":\".itkg-setting-tags-item input {\\n  margin-left: 5px;\\n  padding: 2px;\\n} \",\"tags\":\"$:/tags/Stylesheet\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ControlPanel/Settings\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ControlPanel/Settings\",\"caption\":\"ITKG\",\"tags\":\"$:/tags/ControlPanel/SettingsTab\",\"text\":\"\\\\define single-text-tag-editor(typeName)\\n\\\\whitespace trim\\n<div class=\\\"itkg-setting-tags-item\\\">\\n  <$let\\n    currentTiddler=\\\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/$typeName$-tag\\\"\\n    palette={{$:/palette}}\\n    tempTitle=<<qualify \\\"edit-$typeName$\\\">>\\n    tabIndex={{$:/config/EditTabIndex}}\\n    cancelPopups=\\\"yes\\\"\\n  >\\n    <$macrocall $name=\\\"tag\\\" tag={{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/$typeName$-tag}} />\\n\\n    <$edit-text tiddler=<<tempTitle>> tag=\\\"input\\\" field=\\\"text\\\" placeholder={{$:/language/EditTemplate/Tags/Add/Placeholder}} />\\n\\n    <$button>\\n      <$action-setfield tiddler=<<currentTiddler>> text={{{ [<tempTitle>get[text]] }}}>\\n        <$action-setfield tiddler=<<tempTitle>> text=\\\"\\\" />\\n      </$action-setfield>\\n\\n      {{$:/language/EditTemplate/Tags/Add/Button}}\\n    </$button>\\n    \\n  </$let> \\n</div>\\n\\\\end\\n\\n<!-- 自定义了一个宏，不然代码复制起来看着太复杂。 -->\\n\\n\\\\define itkg-checkbox(name,tags)\\n<$checkbox tiddler=\\\"$name$\\\"  tag=\\\"$tags$\\\"><$link to=\\\"$name$\\\" >{{$name$!!caption}}</$link></$checkbox>\\n\\\\end\\n\\n<!-- These settings let you customise the behaviour of intention-tower-knowledge-graph plugin. -->\\n\\n这些设置让你可以自定义 ITKG 插件。\\n\\n---\\n\\n!! 标签\\n\\n!!! 标注项目关键节点的标签\\n\\n\\n意义：<<single-text-tag-editor intention>>\\n\\n项目：<<single-text-tag-editor project>>\\n\\n任务：<<single-text-tag-editor task>>\\n\\n!!! 新建日历记录时的标签\\n\\n在新建和一个任务相关的日历项目时，可以设置自动添加日历项目的类型标签，例如「解决问题」。\\n\\n日历记录额外标签：<<single-text-tag-editor default-calendar-entry>>\\n\\n!! 可选的选项卡内容\\n\\n[[Task|$:/tags/ITKG/UnderTask]]\\n\\n* <<itkg-checkbox \\\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AddProject\\\" \\\"$:/tags/ITKG/UnderTask\\\" >>\\n* <<itkg-checkbox \\\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/TaskContext\\\" \\\"$:/tags/ITKG/UnderTask\\\" >>\\n* <<itkg-checkbox \\\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/CalendarEntry\\\" \\\"$:/tags/ITKG/UnderTask\\\" >>\\n** <<itkg-checkbox \\\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AddCalendarEntryThisWeek\\\" \\\"$:/tags/ITKG/CalendarEntry\\\" >>\\n** <<itkg-checkbox \\\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AddCalendarEntryToday\\\" \\\"$:/tags/ITKG/CalendarEntry\\\" >>\\n** <<itkg-checkbox \\\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/CalendarEntry/CalendarThisWeek\\\" \\\"$:/tags/ITKG/CalendarEntry\\\" >>\\n\\n[[Project|$:/tags/ITKG/UnderProject]]\\n\\n* <<itkg-checkbox \\\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/TaskDynamicTable\\\" \\\"$:/tags/ITKG/UnderProject\\\" >>\\n* <<itkg-checkbox \\\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AddIntention\\\" \\\"$:/tags/ITKG/UnderProject\\\" >>\\n* <<itkg-checkbox \\\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/CalendarEntry/CalendarThisYear\\\" \\\"$:/tags/ITKG/UnderProject\\\" >>\\n\\n\\n[[Intention|$:/tags/ITKG/UnderIntention]]\\n\\n* <<itkg-checkbox \\\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AddIntention\\\" \\\"$:/tags/ITKG/UnderIntention\\\" >>\\n* <<itkg-checkbox \\\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/ProjectDynamicTable\\\" \\\"$:/tags/ITKG/UnderIntention\\\" >>\\n* <<itkg-checkbox \\\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/ProjectsUnderThisIntentionFlowChartEcharts\\\" \\\"$:/tags/ITKG/UnderIntention\\\" >>\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/EditTemplate/title\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/EditTemplate/title\",\"text\":\"<!-- copy from $:/core/ui/EditTemplate/title and remove the auto focus, otherwise it will delete first char -->\\n\\n\\\\define simple-title-edit(tiddler)\\n\\\\whitespace trim\\n<$edit-text tiddler=\\\"$tiddler$\\\" field=\\\"text\\\" class=\\\"tc-titlebar tc-edit-texteditor\\\" cancelPopups=\\\"yes\\\" tag=\\\"input\\\" focus=\\\"yes\\\" tabindex=\\\"-1\\\" />\\n\\n<$vars pattern=\\\"\\\"\\\"[\\\\|\\\\[\\\\]{}]\\\"\\\"\\\" bad-chars=\\\"\\\"\\\"`| [ ] { }`\\\"\\\"\\\">\\n  <$list filter=\\\"[[$tiddler$]regexp:text<pattern>]\\\" variable=\\\"listItem\\\">\\n    <div class=\\\"tc-message-box\\\">\\n      {{$:/core/images/warning}}&#32;{{$:/language/EditTemplate/Title/BadCharacterWarning}}\\n    </div>\\n  </$list>\\n</$vars>\\n\\n<$list filter=\\\"[{$tiddler$!!text}!is[missing]]\\\" variable=\\\"listItem\\\">\\n  <div class=\\\"tc-message-box\\\">\\n    {{$:/core/images/warning}}&#32;{{$:/language/EditTemplate/Title/Exists/Prompt}}:&#32;<$link to={{$tiddler$!!text}} />\\n  </div>\\n</$list>\\n\\\\end\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Map\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Map\",\"tags\":\"$:/tags/Image\",\"text\":\"<!-- from https://morosanuae.github.io/tw-icons/ -->\\n<svg width=\\\"22pt\\\" height=\\\"22pt\\\" class=\\\"tc-image-fa-map-marked-alt tc-image-button\\\" viewBox=\\\"0 0 576 512\\\"><path d=\\\"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z\\\"/></svg>\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Motivation\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Motivation\",\"tags\":\"$:/tags/Image\",\"text\":\"<!-- from https://morosanuae.github.io/tw-icons/ -->\\n<svg width=\\\"22pt\\\" height=\\\"22pt\\\" class=\\\"tc-image-tbi-battery-automotive tc-image-button\\\" viewBox=\\\"0 0 24 24\\\" stroke-width=\\\"2\\\" stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"><path stroke=\\\"none\\\" d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\"/><rect x=\\\"3\\\" y=\\\"6\\\" width=\\\"18\\\" height=\\\"14\\\" rx=\\\"2\\\" /><path d=\\\"M6 6v-2\\\" /><line x1=\\\"19\\\" y1=\\\"4\\\" x2=\\\"19\\\" y2=\\\"6\\\" /><line x1=\\\"6.5\\\" y1=\\\"13\\\" x2=\\\"9.5\\\" y2=\\\"13\\\" /><line x1=\\\"14.5\\\" y1=\\\"13\\\" x2=\\\"17.5\\\" y2=\\\"13\\\" /><line x1=\\\"16\\\" y1=\\\"11.5\\\" x2=\\\"16\\\" y2=\\\"14.5\\\" /></svg>\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Project\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Project\",\"tags\":\"$:/tags/Image\",\"text\":\"<!-- from https://morosanuae.github.io/tw-icons/ -->\\n<svg width=\\\"22pt\\\" height=\\\"22pt\\\" class=\\\"tc-image-fa-project-diagram tc-image-button\\\" viewBox=\\\"0 0 640 512\\\"><path d=\\\"M384 320H256c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32zM192 32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v128c0 17.67 14.33 32 32 32h95.72l73.16 128.04C211.98 300.98 232.4 288 256 288h.28L192 175.51V128h224V64H192V32zM608 0H480c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32z\\\"/></svg>\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/SetAsNotProject\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/SetAsNotProject\",\"tags\":\"$:/tags/Image\",\"text\":\"<!-- from https://morosanuae.github.io/tw-icons/ -->\\n<svg width=\\\"30pt\\\" height=\\\"30pt\\\" class=\\\"tc-image-tmd-playlist-remove tc-image-button\\\" viewBox=\\\"2 4 16 16\\\"><path d=\\\"M2,6V8H14V6H2M2,10V12H11V10H2M14.17,10.76L12.76,12.17L15.59,15L12.76,17.83L14.17,19.24L17,16.41L19.83,19.24L21.24,17.83L18.41,15L21.24,12.17L19.83,10.76L17,13.59L14.17,10.76M2,14V16H11V14H2Z\\\" /></svg>\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/SetAsProject\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/SetAsProject\",\"tags\":\"$:/tags/Image\",\"text\":\"<!-- from https://morosanuae.github.io/tw-icons/ -->\\n<svg width=\\\"30pt\\\" height=\\\"30pt\\\" class=\\\"tc-image-tmd-playlist-plus tc-image-button\\\" viewBox=\\\"2 4 16 16\\\"><path d=\\\"M2,16H10V14H2M18,14V10H16V14H12V16H16V20H18V16H22V14M14,6H2V8H14M14,10H2V12H14V10Z\\\" /></svg>\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Table\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Table\",\"tags\":\"$:/tags/Image\",\"text\":\"<!-- from https://morosanuae.github.io/tw-icons/ -->\\n<svg width=\\\"22pt\\\" height=\\\"22pt\\\" class=\\\"tc-image-phi-table-fill tc-image-button\\\" viewBox=\\\"0 0 256 256\\\"><rect width=\\\"256\\\" height=\\\"256\\\" fill=\\\"none\\\"/><path d=\\\"M224.00586,48h-192a7.99977,7.99977,0,0,0-8,8V192a16.01833,16.01833,0,0,0,16,16h176a16.01833,16.01833,0,0,0,16-16V56A7.99977,7.99977,0,0,0,224.00586,48Zm-184,64h40v32h-40Zm56,0H216.01l.00244,32H96.00586Zm-56,48h40v32h-40Zm176,32h-120V160H216.01367l.00244,31.99951Z\\\"/></svg>\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Task\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Task\",\"tags\":\"$:/tags/Image\",\"text\":\"<!-- from https://morosanuae.github.io/tw-icons/ -->\\n<svg width=\\\"22pt\\\" height=\\\"22pt\\\" class=\\\"tc-image-bxi-bx-task tc-image-button\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M5,22h14c1.103,0,2-0.897,2-2V5c0-1.103-0.897-2-2-2h-2c0-0.553-0.447-1-1-1H8C7.447,2,7,2.447,7,3H5C3.897,3,3,3.897,3,5 v15C3,21.103,3.897,22,5,22z M5,5h2v2h10V5h2v15H5V5z\\\"/><path d=\\\"M11 13.586L9.207 11.793 7.793 13.207 11 16.414 16.207 11.207 14.793 9.793z\\\"/></svg>\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Sidebar/Buttons\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Sidebar/Buttons\",\"text\":\"\\\\import [[$:/plugins/linonetwo/intention-tower-knowledge-graph/EditTemplate/title]] [[$:/plugins/linonetwo/intention-tower-knowledge-graph/Components/Buttons]]\\n\\n<div class=\\\"itkg-sidebar-create-task\\\">\\n\\n  <<simple-title-edit \\\"$:/state/ITKG/PageLayout/create-tiddler-title\\\" >>\\n\\n</div>\\n\\n<div class=\\\"itkg-sidebar-buttons\\\">\\n  <<create-task-without-parent>>\\n  <<create-project-without-parent>>\\n  <<create-intention-without-parent>>\\n</div>\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Sidebar/IntentionTower\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Sidebar/IntentionTower\",\"caption\":\"意义之塔\",\"creator\":\"LinOnetwo\",\"description\":\"ITKG任务管理\",\"tags\":\"$:/tags/SideBar\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\import [[$:/plugins/linonetwo/intention-tower-knowledge-graph/Sidebar/ProjectList]] [[$:/plugins/linonetwo/intention-tower-knowledge-graph/filters/leaf-task]]\\n\\n<$scrollable fallthrough=\\\"none\\\" class=\\\"itkg-sidebar-container tc-popup-keep tc-menubar-dropdown-sidebar\\\">\\n\\n{{$:/plugins/linonetwo/intention-tower-knowledge-graph/Sidebar/Buttons}}\\n\\n<<project-list>>\\n\\n</$scrollable>\\n\\n{{$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/ProjectsOverview}}\\n\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Sidebar/ProjectList\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Sidebar/ProjectList\",\"text\":\"\\\\define project-list-item()\\n\\\\whitespace trim\\n<div class=\\\"itkg-sidebar-project-list-item\\\">\\n  <$link to=<<currentTiddler>> tooltip=<<currentTiddler>>>\\n    <<currentTiddler>>\\n  </$link>\\n</div>\\n\\\\end\\n\\n\\\\define project-list()\\n\\\\whitespace trim\\n<div class=\\\"itkg-sidebar-project-list\\\">\\n  <$list\\n    filter=\\\"[{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/project-tag}] +[tagging[]filter<filter-is-new-task>] :and[filter<has-length>unique[]!sortsub:integer<compareByPriority>]\\\"\\n  >\\n    <<project-list-item>>\\n  </$list>\\n</div>\\n\\\\end\\n\"},\"$:/themes/linonetwo/intention-tower-knowledge-graph/sidebar.css\":{\"title\":\"$:/themes/linonetwo/intention-tower-knowledge-graph/sidebar.css\",\"text\":\"div.itkg-sidebar-container{height:100%}.itkg-sidebar-project-list{display:flex;flex-direction:column}.itkg-sidebar-project-list-item{padding:5px 0}.itkg-sidebar-buttons{padding:10px 0;display:flex;flex-direction:row;justify-content:space-between}.itkg-sidebar-buttons button{padding:15px 20px}.itkg-sidebar-create-task .tc-edit-texteditor{width:100%}\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/css\"},\"任务\":{\"title\":\"任务\",\"tags\":\"$:/TraitTag/TMO/Task\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"这是一个提供「任务」相关表单字段的「[[超级标签|https://tiddly-gittly.github.io/super-tag/]]」。\"},\"$:/TraitTag/TMO/Task\":{\"created\":\"20230219143648537\",\"text\":\"The tmo:task is the central entitiey of the tmo. Task can range from vague things to be possibly done in e distant future to concrete things to be done in a precise forseeable manner. It is not unrealisitc to assume that knowledge worker have hundred or more tasks a day.\",\"title\":\"$:/TraitTag/TMO/Task\",\"tags\":\"$:/SuperTag/TraitTag\",\"type\":\"text/vnd.tiddlywiki\",\"modified\":\"20230219145213110\",\"url\":\"https://oscaf.sourceforge.net/tmo.html#tmo:Task\",\"schema\":\"{\\n  \\\"type\\\": \\\"object\\\",\\n  \\\"properties\\\": {\\n    \\\"tmo_dueDate\\\": {\\n      \\\"title\\\": \\\"Due Date\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_abilityCarrierInvolvement\\\": {\\n      \\\"title\\\": \\\"Ability Carrier Involvement\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_superTask\\\": {\\n      \\\"title\\\": \\\"Super Task\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_taskGoal\\\": {\\n      \\\"title\\\": \\\"Task Goal\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_taskDescription\\\": {\\n      \\\"title\\\": \\\"Task Description\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_taskPrivacyState\\\": {\\n      \\\"title\\\": \\\"Task Privacy State\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_taskSource\\\": {\\n      \\\"title\\\": \\\"Task Source\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_involvedPersons\\\": {\\n      \\\"title\\\": \\\"Involved Persons\\\",\\n      \\\"type\\\": \\\"string\\\",\\n      \\\"propertyOrder\\\": 105\\n    },\\n    \\\"tmo_attachment\\\": {\\n      \\\"title\\\": \\\"Attachment\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_targetEndTime\\\": {\\n      \\\"title\\\": \\\"Target End Time\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_targetCompletion\\\": {\\n      \\\"title\\\": \\\"Target Completion\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_delegability\\\": {\\n      \\\"title\\\": \\\"Delegability\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_actualStartTime\\\": {\\n      \\\"title\\\": \\\"Actual Start Time\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_dependency\\\": {\\n      \\\"title\\\": \\\"Dependency\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_nextReviewIntervall\\\": {\\n      \\\"title\\\": \\\"Next Review Intervall\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_contextThread\\\": {\\n      \\\"title\\\": \\\"Context Thread\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_taskName\\\": {\\n      \\\"title\\\": \\\"Task Name\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_indexPosition\\\": {\\n      \\\"title\\\": \\\"Index Position\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_logEntry\\\": {\\n      \\\"title\\\": \\\"Log Entry\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_subTask\\\": {\\n      \\\"title\\\": \\\"Sub Task\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_actualCompletion\\\": {\\n      \\\"title\\\": \\\"Actual Completion\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_taskState\\\": {\\n      \\\"title\\\": \\\"Task State\\\",\\n      \\\"type\\\": \\\"string\\\",\\n      \\\"description\\\": \\\"任务的状态\\\",\\n      \\\"enum\\\": [\\\"New\\\", \\\"Running\\\", \\\"Completed\\\", \\\"Archived\\\", \\\"Terminated\\\", \\\"Suspended\\\"],\\n      \\\"propertyOrder\\\": 100\\n    },\\n    \\\"tmo_lastReviewDate\\\": {\\n      \\\"title\\\": \\\"Last Review Date\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"list\\\": {\\n      \\\"type\\\": \\\"string\\\",\\n      \\\"title\\\": \\\"Sub Task Ordering\\\",\\n      \\\"description\\\": \\\"Alias of \\\\\\\"tmo:subTaskOrdering\\\\\\\", in tiddlywiki we use \\\\\\\"list\\\\\\\" field for this.\\\",\\n      \\\"propertyOrder\\\": 106\\n    },\\n    \\\"tmo_urgency\\\": {\\n      \\\"title\\\": \\\"Urgency\\\",\\n      \\\"type\\\": \\\"string\\\",\\n      \\\"enum\\\": [\\\"1\\\", \\\"2\\\", \\\"3\\\", \\\"4\\\", \\\"5\\\", \\\"6\\\", \\\"7\\\", \\\"8\\\", \\\"9\\\", \\\"10\\\"],\\n      \\\"propertyOrder\\\": 103\\n    },\\n    \\\"tmo_taskReference\\\": {\\n      \\\"title\\\": \\\"Task Reference\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_taskId\\\": {\\n      \\\"title\\\": \\\"Task Id\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_targetStartTime\\\": {\\n      \\\"title\\\": \\\"Target Start Time\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_actualEndTime\\\": {\\n      \\\"title\\\": \\\"Actual End Time\\\",\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"tmo_priority\\\": {\\n      \\\"title\\\": \\\"Priority\\\",\\n      \\\"type\\\": \\\"string\\\",\\n      \\\"enum\\\": [\\\"High\\\", \\\"Medium\\\", \\\"Low\\\"],\\n      \\\"propertyOrder\\\": 101\\n    },\\n    \\\"tmo_taskTransmission\\\": {\\n      \\\"title\\\": \\\"Task Transmission\\\",\\n      \\\"type\\\": \\\"string\\\",\\n      \\\"description\\\": \\\"\\\",\\n      \\\"enum\\\": [\\n        \\\"Rejected_Transmitted\\\",\\n        \\\"Accepted_NotTransmitted\\\",\\n        \\\"Accepted_Transmitted\\\",\\n        \\\"Rejected_NotTransmitted\\\",\\n        \\\"NotTransmitted\\\",\\n        \\\"Transmitted\\\"\\n      ]\\n    },\\n    \\\"tmo_importance\\\": {\\n      \\\"title\\\": \\\"Importance\\\",\\n      \\\"type\\\": \\\"number\\\",\\n      \\\"enum\\\": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],\\n      \\\"propertyOrder\\\": 102\\n    }\\n  },\\n  \\\"required\\\": [\\\"tmo_taskState\\\"],\\n  \\\"defaultProperties\\\": [\\\"tmo_taskState\\\"]\\n}\\n\",\"wl-field-name-text\":\"schema\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AllIntentionsFlowChartEcharts\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AllIntentionsFlowChartEcharts\",\"caption\":\"{{$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Project}} 意义之塔\",\"tags\":\"$:/tags/ITKG/ProjectsOverview\",\"text\":\"<$echarts $tiddler=\\\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AllIntentionsFlowChartEchartsAddon\\\" dblclick=\\\"(params, parentWidget) => { parentWidget.dispatchEvent({ type: 'tm-navigate', navigateTo: params.data.name }) }\\\" />\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AllIntentionsFlowChartEchartsAddon\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AllIntentionsFlowChartEchartsAddon\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$set name=\\\"intentionTagColor\\\" filter=\\\"[{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/intention-tag}get[color]]\\\" emptyValue=\\\"#EF96F5\\\" >\\n<$set name=\\\"tiddlerSourceFilter\\\" value=<<tiddlerSource>> emptyValue=\\\"[all[tiddlers]]\\\">\\n`{\\n  \\\"title\\\": {\\n    \\\"text\\\": \\\"意义之塔\\\"\\n  },\\n  \\\"series\\\": [\\n    {\\n      \\\"type\\\": \\\"graph\\\",\\n      \\\"layout\\\": \\\"force\\\",\\n      \\\"roam\\\": true,\\n      \\\"name\\\": \\\"意义之塔\\\",\\n      \\\"label\\\": {\\n        \\\"show\\\": true,\\n        \\\"position\\\": \\\"right\\\",\\n        \\\"backgroundColor\\\": \\\"transparent\\\"\\n      },\\n      \\\"edgeSymbol\\\": [\\\"circle\\\", \\\"arrow\\\"],\\n      \\\"edgeSymbolSize\\\": [4, 10],\\n      \\\"data\\\": [`\\n        <$list filter=\\\"[subfilter<tiddlerSourceFilter>tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/intention-tag}]\\\" variable=\\\"intentionName\\\">\\n          <$set name=\\\"color\\\" filter=\\\"[<intentionName>get[color]]\\\" emptyValue=<<intentionTagColor>> >\\n        `       {\\n                  \\\"name\\\": \\\"`<<intentionName>>`\\\",\\n                  \\\"itemStyle\\\": {\\n                    \\\"color\\\": \\\"`<<color>>`\\\"\\n                  }\\n                },\\n        `\\n          </$set>\\n        </$list>\\n      `],\\n      \\\"links\\\": [`\\n        <$list filter=\\\"[subfilter<tiddlerSourceFilter>tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/intention-tag}]\\\" variable=\\\"intentionNameTo\\\">\\n          <$list filter=\\\"[<intentionNameTo>taggingtree[]tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/intention-tag}]\\\" variable=\\\"intentionNameFrom\\\">\\n          `       {\\n                    \\\"source\\\": \\\"`<<intentionNameFrom>>`\\\",\\n                    \\\"target\\\": \\\"`<<intentionNameTo>>`\\\"\\n                  },\\n          `\\n          </$list>\\n        </$list>\\n      `]\\n    }\\n  ]\\n}`\\n</$set>\\n</$set>\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AllProjectsFlowChartEcharts\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AllProjectsFlowChartEcharts\",\"caption\":\"{{$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Project}} 项目概览图\",\"tags\":\"$:/tags/ITKG/ProjectsOverview\",\"text\":\"<$echarts $tiddler=\\\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AllProjectsFlowChartEchartsAddon\\\" dblclick=\\\"(params, parentWidget) => { parentWidget.dispatchEvent({ type: 'tm-navigate', navigateTo: params.data.name }) }\\\" />\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AllProjectsFlowChartEchartsAddon\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AllProjectsFlowChartEchartsAddon\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$set name=\\\"projectTagColor\\\" filter=\\\"[{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/project-tag}get[color]]\\\" emptyValue=\\\"#80F2D9\\\" >\\n<$set name=\\\"intentionTagColor\\\" filter=\\\"[{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/intention-tag}get[color]]\\\" emptyValue=\\\"#EF96F5\\\" >\\n<$set name=\\\"tiddlerSourceFilter\\\" value=<<tiddlerSource>> emptyValue=\\\"[all[tiddlers]]\\\">\\n`{\\n  \\\"title\\\": {\\n    \\\"text\\\": \\\"项目概览图\\\"\\n  },\\n  \\\"series\\\": [\\n    {\\n      \\\"type\\\": \\\"graph\\\",\\n      \\\"layout\\\": \\\"force\\\",\\n      \\\"force\\\": {\\n        \\\"repulsion\\\": [150, 300],\\n        \\\"edgeLength\\\": [30, 50]\\n      },\\n      \\\"roam\\\": true,\\n      \\\"name\\\": \\\"项目概览图\\\",\\n      \\\"label\\\": {\\n        \\\"show\\\": true,\\n        \\\"position\\\": \\\"right\\\",\\n        \\\"backgroundColor\\\": \\\"transparent\\\"\\n      },\\n      \\\"edgeSymbol\\\": [\\\"circle\\\", \\\"arrow\\\"],\\n      \\\"edgeSymbolSize\\\": [4, 10],\\n      \\\"data\\\": [`\\n        <$list filter=\\\"[subfilter<tiddlerSourceFilter>tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/project-tag}]\\\" variable=\\\"projectName\\\">\\n          <$set name=\\\"color\\\" filter=\\\"[<projectName>get[color]]\\\" emptyValue=<<projectTagColor>> >\\n        `       {\\n                  \\\"name\\\": \\\"`<<projectName>>`\\\",\\n                  \\\"itemStyle\\\": {\\n                    \\\"color\\\": \\\"`<<color>>`\\\"\\n                  }\\n                },\\n        `\\n          </$set>\\n        </$list>\\n        <$list filter=\\\"[subfilter<tiddlerSourceFilter>tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/intention-tag}]\\\" variable=\\\"intentionName\\\">\\n          <$set name=\\\"color\\\" filter=\\\"[<intentionName>get[color]]\\\" emptyValue=<<intentionTagColor>> >\\n\\n        `       {\\n                  \\\"name\\\": \\\"`<<intentionName>>`\\\",\\n                  \\\"itemStyle\\\": {\\n                    \\\"color\\\": \\\"`<<color>>`\\\"\\n                  }\\n                },\\n        `\\n          </$set>\\n        </$list>\\n      `],\\n      \\\"links\\\": [`\\n        <$list filter=\\\"[subfilter<tiddlerSourceFilter>tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/project-tag}] [subfilter<tiddlerSourceFilter>tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/intention-tag}]\\\" variable=\\\"projectNameTo\\\">\\n          <$list filter=\\\"[<projectNameTo>taggingtree[]tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/project-tag}]\\\" variable=\\\"projectNameFrom\\\">\\n          `       {\\n                    \\\"source\\\": \\\"`<<projectNameFrom>>`\\\",\\n                    \\\"target\\\": \\\"`<<projectNameTo>>`\\\"\\n                  },\\n          `\\n          </$list>\\n        </$list>\\n      `]\\n    }\\n  ]\\n}`\\n</$set>\\n</$set>\\n</$set>\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/IntentionDynamicTable\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/IntentionDynamicTable\",\"caption\":\"{{$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Table}} 人生意义\",\"tags\":\"$:/tags/ITKG/ProjectsOverview\",\"text\":\"<$macrocall $name=ITKG-aggregation caption=\\\"人生意义\\\" filter=\\\"[all[tiddlers]tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/intention-tag}]\\\"  defaultFields=\\\"title tags\\\" class=\\\"w-100\\\" state=\\\"ITKG-IntentionDynamicTable-state\\\" />\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/PriorityTaskDynamicTable\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/PriorityTaskDynamicTable\",\"caption\":\"{{$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Table}} 优先任务列表\",\"tags\":\"$:/tags/ITKG/ProjectsOverview\",\"text\":\"\\\\import [[$:/plugins/linonetwo/intention-tower-knowledge-graph/filters/leaf-task]]\\n\\n\\\\define caption() 优先待办列表 <$count filter=<<get-all-non-completed-leaf-tasks>> />\\n<$macrocall $name=ITKG-aggregation caption=<<caption>> filter=<<get-all-non-completed-leaf-tasks>> defaultFields=\\\"title tags\\\" class=\\\"w-100\\\" state=\\\"ITKG-PriorityTaskDynamicTable-state\\\" />\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/ProjectsOverview\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/ProjectsOverview\",\"text\":\"<!-- similar to $:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/UnderProject -->\\n<<tabs \\\"[all[tiddlers+shadows]tag[$:/tags/ITKG/ProjectsOverview]]\\\" \\\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/PriorityTaskDynamicTable\\\" >>\"},\"$:/tags/ITKG/ProjectsOverview\":{\"title\":\"$:/tags/ITKG/ProjectsOverview\",\"list\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/PriorityTaskDynamicTable $:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AllProjectsFlowChartEcharts $:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/IntentionDynamicTable\",\"text\":\"Tiddler with this tag will show in the section under sidebar IntentionTower tab, become one of the tabs on the bottom of this tab.\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/ProjectDynamicTable\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/ProjectDynamicTable\",\"caption\":\"{{$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Table}} 项目列表\",\"tags\":\"$:/tags/ITKG/UnderIntention\",\"text\":\"\\\\import [[$:/plugins/linonetwo/intention-tower-knowledge-graph/filters/leaf-task]]\\n\\n<$macrocall $name=ITKG-aggregation caption=\\\"项目列表\\\" filter=<<get-non-completed-leaf-projects>> defaultFields=\\\"title tags\\\" class=\\\"w-100\\\" state=\\\"ITKG-ProjectDynamicTable-state\\\" />\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/ProjectsUnderThisIntentionFlowChartEcharts\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/ProjectsUnderThisIntentionFlowChartEcharts\",\"caption\":\"{{$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Project}} 此意义的意义之塔\",\"tags\":\"$:/tags/ITKG/UnderIntention\",\"text\":\"\\\\define echarts-with-subfilter()\\n<$echarts\\n  $tiddler=\\\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AllProjectsFlowChartEchartsAddon\\\"\\n  currentTiddler=<<currentTiddler>>\\n  tiddlerSource=\\\"[all[tiddlers]tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/intention-tag}in-tagtree-of:inclusive[$(currentTiddler)$]] :or[[$(currentTiddler)$]tagstree[]tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/intention-tag}]\\\"\\n  dblclick=\\\"(params, parentWidget) => { parentWidget.dispatchEvent({ type: 'tm-navigate', navigateTo: params.data.name }) }\\\"\\n/>\\n\\\\end\\n\\n<<echarts-with-subfilter>>\\n\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/UnderIntention\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/UnderIntention\",\"tags\":\"$:/tags/ViewTemplate\",\"text\":\"\\\\import [[$:/plugins/linonetwo/intention-tower-knowledge-graph/Sidebar/Buttons]] [[$:/plugins/linonetwo/intention-tower-knowledge-graph/Components/Buttons]]\\n\\n<$let graphRootTiddler=<<currentTiddler>> >\\n  <$list filter=\\\"[all[current]tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/intention-tag}then<graphRootTiddler>]\\\">\\n\\n  <<create-project-under-current-tiddler>>\\n\\n  <<tabs \\\"[all[tiddlers+shadows]tag[$:/tags/ITKG/UnderIntention]]\\\" \\\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/ProjectsUnderThisIntentionFlowChartEcharts\\\" >>\\n\\n  </$list>\\n</$let>\\n\"},\"$:/tags/ITKG/UnderIntention\":{\"title\":\"$:/tags/ITKG/UnderIntention\",\"list\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/ProjectsUnderThisIntentionFlowChart\",\"text\":\"Tiddler with this tag will show in the section under intention tiddler, become one of the tabs.\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AddIntention\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AddIntention\",\"caption\":\"{{$:/core/images/tag-button}} 添加意义\",\"tags\":\"$:/tags/ITKG/UnderProject $:/tags/ITKG/UnderIntention\",\"text\":\"{{||$:/core/ui/EditTemplate/tags}}\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/CalendarEntry/CalendarThisYear\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/CalendarEntry/CalendarThisYear\",\"caption\":\"{{$:/plugins/linonetwo/tw-calendar/Images/CalendarList}} 本年工作量\",\"tags\":\"$:/tags/ITKG/UnderProject\",\"text\":\"\\\\import [[$:/plugins/linonetwo/intention-tower-knowledge-graph/filters/time]]\\n\\n\\\\define calendarWithCurrentTiddler(currentTag)\\n<$calendar filter=\\\"[all[]in-tagtree-of:inclusive[$currentTag$]field:calendarEntry[yes]]\\\" readonly=\\\"yes\\\" initialView=\\\"listYear\\\" hideToolbar=\\\"yes\\\" />\\n\\\\end\\n\\n项目下共工作 {{{ \\n[all[]in-tagtree-of:inclusive<currentTiddler>field:calendarEntry[yes]]\\n  :map[subfilter<getTimeForEntry>]\\n  :and[sum[]divide[1000]divide[3600]]\\n}}} 小时！（包含计划中未做的）\\n\\n\\n<$macrocall $name=\\\"calendarWithCurrentTiddler\\\" currentTag=<<currentTiddler>>/>\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/TaskDynamicTable\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/TaskDynamicTable\",\"caption\":\"{{$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Table}} 任务列表\",\"tags\":\"$:/tags/ITKG/UnderProject\",\"text\":\"\\\\import [[$:/plugins/linonetwo/intention-tower-knowledge-graph/filters/leaf-task]]\\n\\n\\\\define caption() 优先待办列表 <$count filter=<<get-non-completed-leaf-tasks>> />\\n<$macrocall $name=ITKG-aggregation caption=<<caption>> filter=<<get-non-completed-leaf-tasks>> defaultFields=\\\"title tags\\\" class=\\\"w-100\\\" state=\\\"ITKG-TaskDynamicTable-state\\\" />\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/UnderProject\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/UnderProject\",\"tags\":\"$:/tags/ViewTemplate\",\"text\":\"\\\\import [[$:/plugins/linonetwo/intention-tower-knowledge-graph/Sidebar/Buttons]] [[$:/plugins/linonetwo/intention-tower-knowledge-graph/Components/Buttons]]\\n\\n<$let graphRootTiddler=<<currentTiddler>> >\\n  <$list filter=\\\"[all[current]tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/project-tag}then<graphRootTiddler>]\\\">\\n\\n  <<create-task-under-current-tiddler>>\\n\\n  <<tabs \\\"[all[tiddlers+shadows]tag[$:/tags/ITKG/UnderProject]] [all[tiddlers+shadows]tag[$:/tags/ITKG/UnderTask]]\\\" \\\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/TaskDynamicTable\\\" >>\\n\\n  </$list>\\n</$let>\\n \"},\"$:/tags/ITKG/UnderProject\":{\"title\":\"$:/tags/ITKG/UnderProject\",\"list\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/TaskDynamicTable\",\"text\":\"Tiddler with this tag will show in the section under project tiddler, become one of the tabs.\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AddProject\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AddProject\",\"caption\":\"{{$:/core/images/tag-button}} 添加所在项目\",\"tags\":\"$:/tags/ITKG/UnderTask\",\"text\":\"{{||$:/core/ui/EditTemplate/tags}}\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AddCalendarEntryThisWeek\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AddCalendarEntryThisWeek\",\"caption\":\"{{$:/plugins/linonetwo/tw-calendar/Images/CalendarWeek}} 调整本周任务\",\"tags\":\"$:/tags/ITKG/CalendarEntry\",\"text\":\"<$calendar defaultTags={{{ [<currentTiddler>] [{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/default-calendar-entry-tag}] +[join[ ]] }}} hideToolbar=\\\"yes\\\" height=\\\"600px\\\" initialView=\\\"timeGridWeek\\\" filter=\\\"[all[tiddlers]!is[system]field:calendarEntry[yes]]\\\" />\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AddCalendarEntryToday\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AddCalendarEntryToday\",\"caption\":\"{{$:/plugins/linonetwo/tw-calendar/Images/CalendarEdit}} 添加今日任务\",\"tags\":\"$:/tags/ITKG/CalendarEntry\",\"text\":\"\\\\import [[$:/plugins/linonetwo/intention-tower-knowledge-graph/filters/time]]\\n\\n今日仅工作 {{{ \\n[all[]tag<currentTiddler>days:startDate[0]field:calendarEntry[yes]]\\n  :map[subfilter<getTimeForEntry>]\\n  :and[sum[]divide[1000]divide[3600]]\\n}}} 小时！（包含计划中未做的）\\n\\n<$calendar defaultTags={{{ [<currentTiddler>] [{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/default-calendar-entry-tag}] +[join[ ]] }}} hideToolbar=\\\"yes\\\" height=\\\"600px\\\" initialView=\\\"timeGridDay\\\" filter=\\\"[all[tiddlers]!is[system]days:startDate[0]field:calendarEntry[yes]]\\\" />\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/CalendarEntry\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/CalendarEntry\",\"caption\":\"{{$:/plugins/linonetwo/tw-calendar/tiddlywiki-ui/Images/GoToCalendarImage}} 日历记录\",\"tags\":\"$:/tags/ITKG/UnderTask\",\"text\":\"<<tabs \\\"[all[tiddlers+shadows]tag[$:/tags/ITKG/CalendarEntry]]\\\" \\\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AddCalendarEntryToday\\\" >>\"},\"$:/tags/ITKG/CalendarEntry\":{\"title\":\"$:/tags/ITKG/CalendarEntry\",\"list\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AddCalendarEntryToday $:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AddCalendarEntryThisWeek $:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/CalendarEntry/CalendarThisWeek\",\"text\":\"Tiddler with this tag will show in the create calendar entry, become one of the tabs.\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/CalendarEntry/CalendarThisWeek\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/CalendarEntry/CalendarThisWeek\",\"caption\":\"{{$:/plugins/linonetwo/tw-calendar/Images/CalendarList}} 本周工作量\",\"tags\":\"$:/tags/ITKG/CalendarEntry\",\"text\":\"\\\\define calendarWithCurrentTiddler(currentTag)\\n<$calendar filter=\\\"[all[]tag[$currentTag$]field:calendarEntry[yes]]\\\" readonly=\\\"yes\\\" initialView=\\\"listWeek\\\" hideToolbar=\\\"yes\\\" />\\n\\\\end\\n\\n<$macrocall $name=\\\"calendarWithCurrentTiddler\\\" currentTag=<<currentTiddler>>/>\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/TaskContext\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/TaskContext\",\"caption\":\"{{$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Map}} 任务上下文\",\"tags\":\"$:/tags/ITKG/UnderTask\",\"text\":\"\\\\import [[$:/plugins/linonetwo/intention-tower-knowledge-graph/filters/leaf-task]] [[$:/plugins/linonetwo/intention-tower-knowledge-graph/Components/Buttons]]\\n\\n\\\\define echarts-with-subfilter()\\n<$echarts\\n  $tiddler=\\\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/AllProjectsFlowChartEchartsAddon\\\"\\n  currentTiddler=<<currentTiddler>>\\n  tiddlerSource=\\\"[[$(currentTiddler)$]] [[$(currentTiddler)$]tagstree[]]\\\"\\n  dblclick=\\\"(params, parentWidget) => { parentWidget.dispatchEvent({ type: 'tm-navigate', navigateTo: params.data.name }) }\\\"\\n/>\\n\\\\end\\n\\n<!-- Show all parent tags of current tiddler (all tiddlers that with current tiddler in the tags tree), that with Task, Intention, and Project, but exclude these meta tags themselves -->\\n<$list filter=\\\"[all[current]tagstree[]!is[system]tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/task-tag}] :or[all[current]tagstree[]!is[system]tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/intention-tag}] -[{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/task-tag}] -[{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/project-tag}] -[{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/intention-tag}]\\\" counter=\\\"counter1\\\">\\n  <$link><<currentTiddler>></$link>\\n  <$list filter=\\\"[<counter1-last>match[no]]\\\"> / </$list>\\n</$list>\\n\\n<<echarts-with-subfilter>>\\n\\n<$list filter=\\\"[<graphRootTiddler>taggingtree[]filter<filter-is-new-task>count[]match[0]then[yes]]\\\">\\n  暂无子任务 <<create-task-under-current-tiddler>>\\n</$list>\\n\\n<$list filter=\\\"[<graphRootTiddler>taggingtree[]filter<filter-is-new-task>count[]compare:number:gt[0]then[yes]]\\\">\\n  <$flowchart tiddler=<<graphRootTiddler>> height=\\\"600px\\\" $template-tags={{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/task-tag}} subfilter=\\\"[filter<filter-is-new-task>]\\\" />\\n</$list>\\n\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/UnderTask\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/UnderTask\",\"tags\":\"$:/tags/ViewTemplate\",\"text\":\"\\\\import [[$:/plugins/linonetwo/intention-tower-knowledge-graph/Components/Buttons]]\\n\\n<$let graphRootTiddler=<<currentTiddler>> >\\n  <$list filter=\\\"[all[current]tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/task-tag}!tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/project-tag}then<graphRootTiddler>]\\\">\\n\\n  <<create-task-under-current-tiddler>>\\n\\n  <<tabs \\\"[all[tiddlers+shadows]tag[$:/tags/ITKG/UnderTask]]\\\" \\\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/TaskContext\\\" >>\\n\\n  </$list>\\n</$let>\\n\"},\"$:/tags/ITKG/UnderTask\":{\"title\":\"$:/tags/ITKG/UnderTask\",\"list\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/TaskContext $:/plugins/linonetwo/intention-tower-knowledge-graph/ViewTemplate/CalendarEntry\",\"text\":\"Tiddler with this tag will show in the section under task tiddler, become one of the tabs.\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Components/Buttons\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/Components/Buttons\",\"text\":\"\\\\define create-task-under-current-tiddler()\\n  <$button>\\n    <$action-createtiddler\\n      tags={{{ [{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/task-tag}addsuffix[ ]addsuffix<currentTiddler>] }}}\\n      tmo_taskState=\\\"New\\\"\\n    >\\n      <$action-sendmessage $message=\\\"tm-edit-tiddler\\\" $param=<<createTiddler-title>>/>\\n    </$action-createtiddler>\\n    {{$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Task}} 新任务\\n  </$button>\\n\\\\end\\n\\n\\\\define create-project-under-current-tiddler()\\n  <$button>\\n    <$action-createtiddler\\n      tags={{{ [{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/project-tag}addsuffix[ ]addsuffix{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/task-tag}addsuffix[ ]addsuffix<currentTiddler>] }}}\\n      tmo_taskState=\\\"New\\\"\\n    >\\n      <$action-sendmessage $message=\\\"tm-edit-tiddler\\\" $param=<<createTiddler-title>>/>\\n    </$action-createtiddler>\\n    {{$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Project}} 新项目\\n  </$button>\\n\\\\end\\n\\n\\\\define after-create-tiddler-without-parent()\\n<$action-navigate $to=<<createTiddler-title>>/>\\n<$let currentTiddler=<<createTiddler-title>> >\\n  <$action-sendmessage $message=\\\"tm-save-tiddler\\\" $param=<<currentTiddler>> />\\n  <$action-sendmessage $message=\\\"tm-auto-save-wiki\\\" />\\n</$let>\\n<$action-setfield\\n  $tiddler=\\\"$:/state/ITKG/PageLayout/create-tiddler-title\\\"\\n  text=\\\"\\\"\\n/>\\n\\\\end\\n\\n\\\\define create-task-without-parent()\\n  <$button>\\n    <$action-createtiddler\\n      $basetitle={{$:/state/ITKG/PageLayout/create-tiddler-title}}\\n      tags={{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/task-tag}}\\n      tmo_taskState=\\\"New\\\"\\n    >\\n      <<after-create-tiddler-without-parent>>\\n    </$action-createtiddler>\\n\\n    {{$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Task}} 新任务\\n  </$button>\\n\\\\end\\n\\n\\\\define create-project-without-parent()\\n  <$button>\\n    <$action-createtiddler\\n      $basetitle={{$:/state/ITKG/PageLayout/create-tiddler-title}}\\n      tags={{{ [{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/project-tag}addsuffix[ ]addsuffix{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/task-tag}] }}}\\n      tmo_taskState=\\\"New\\\"\\n    >\\n      <<after-create-tiddler-without-parent>>\\n    </$action-createtiddler>\\n    {{$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Project}} 新项目\\n  </$button>\\n\\\\end\\n\\n\\\\define create-intention-without-parent()\\n  <$button>\\n    <$action-createtiddler\\n      $basetitle={{$:/state/ITKG/PageLayout/create-tiddler-title}}\\n      tags={{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/intention-tag}}\\n    >\\n      <<after-create-tiddler-without-parent>>\\n    </$action-createtiddler>\\n    {{$:/plugins/linonetwo/intention-tower-knowledge-graph/Images/Motivation}} 新意义\\n  </$button>\\n\\\\end\\n\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/filters/leaf-task\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/filters/leaf-task\",\"text\":\"\\\\define filter-is-new-task() [<currentTiddler>tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/task-tag}!field:tmo_taskState[Completed]!field:tmo_taskState[Archived]!field:tmo_taskState[Terminated]!field:tmo_taskState[Suspended]]\\n\\n\\\\define has-length() [length[]compare:integer:gt[0]]\\n\\n<!--\\n  have at least a not completed child tagging it  \\n-->\\n\\\\define filter-is-not-leaf() [all[current]tagging[]filter<filter-is-new-task>]\\n\\n\\\\define compareByPriority() [get[tmo_priority]match[High]then[3]] :else[get[tmo_priority]match[Medium]then[2]] :else[get[tmo_priority]match[Low]then[1]] :else[[2]]\\n\\n<!-- // TODO: try replace with in-tagtree-of -->\\n<!-- projects are tasks, so getting all projects under current (intention), then get those is in new task state  -->\\n\\\\define get-non-completed-leaf-projects() [in-tagtree-of<currentTiddler>tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/project-tag}filter<filter-is-new-task>]\\n<!-- for each child (in tagtree of current tiddler), remove out all that is not leaf, and get those is in new task state -->\\n\\\\define get-non-completed-leaf-tasks() [in-tagtree-of<currentTiddler>!filter<filter-is-not-leaf>filter<filter-is-new-task>]\\n<!--\\nget all project first, and for each project, run same logic as get-non-completed-leaf-tasks.\\n`:map:flat` introduce some empty titles, so have to use `filter<has-length>` to exclude them.\\nIf some project is sub project of others, this may introduce duplication, so deduplicate by `unique[]` at last.\\nThen `!sortsub:integer` to sort by priority from 3 to 1\\n-->\\n\\\\define get-all-non-completed-leaf-tasks() [all[tiddlers]tag{$:/plugins/linonetwo/intention-tower-knowledge-graph/Config/project-tag}filter<filter-is-new-task>] :map:flat[all[tiddlers]in-tagtree-of<currentTiddler>!filter<filter-is-not-leaf>filter<filter-is-new-task>] :and[filter<has-length>unique[]!sortsub:integer<compareByPriority>]\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/filters/time\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/filters/time\",\"text\":\"\\\\define getTimeForEntry() [{!!startDate}format:date[TIMESTAMP]] :map[<..currentTiddler>get[endDate]format:date[TIMESTAMP]subtract<currentTiddler>]\"},\"$:/plugins/linonetwo/intention-tower-knowledge-graph/readme\":{\"title\":\"$:/plugins/linonetwo/intention-tower-knowledge-graph/readme\",\"creator\":\"LinOnetwo\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"ITKG is a knowledge and task management framework for tiddlywiki. ITKG short for intention tower & knowledge graph.\\n\\ncode: https://github.com/tiddly-gittly/intention-tower-knowledge-graph\\n\\ndemo: https://tiddly-gittly.github.io/intention-tower-knowledge-graph/\\n\\n依赖插件有：\\\"$:/plugins/kookma/shiraz\\\", \\\"$:/plugins/linonetwo/flow-chart\\\", \\\"$:/plugins/yaisog/taggingtree-filter\\\", \\\"$:/plugins/yaisog/tagstree-filter\\\", \\\"$:/plugins/linonetwo/in-tagtree-of\\\", \\\"$:/plugins/xp/aggregation\\\",$:/plugins/Gk0Wk/echarts\\\", \\\"$:/plugins/linonetwo/super-tag\\\", \\\"$:/plugins/linonetwo/tw-calendar\\\"，如果CPL没有自动安装，请手动安装。\\n\"}}}",
        "author": "LinOnetwo",
        "description": "ITKG is a knowledge and task management framework for tiddlywiki. ",
        "core-version": ">=5.1.22",
        "plugin-type": "plugin",
        "version": "0.4.1",
        "dependents": "$:/plugins/kookma/shiraz $:/plugins/linonetwo/flow-chart $:/plugins/yaisog/taggingtree-filter $:/plugins/yaisog/tagstree-filter $:/plugins/linonetwo/in-tagtree-of $:/plugins/Gk0Wk/echarts $:/plugins/linonetwo/super-tag $:/plugins/linonetwo/tw-calendar $:/plugins/xp/aggregation",
        "list": "readme ControlPanel/Settings",
        "name": "意义之塔与知识图谱 Intention Tower & Knowledge Graph"
    }
]