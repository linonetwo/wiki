created: 20230329091109623
creator: 林一二
modified: 20230329091109623
modifier: 林一二
title: Draft of '写调用openai的memeloopch' by 林一二
type: text/vnd.tiddlywiki

```js
$.shell = 'zsh'
cd(`${os.homedir()}/Desktop/repo/memeloop/memeloop-plugin-examples/memelooop-plugin-openai/`);
await $`cargo build --release --target wasm32-unknown-unknown`
await $`extism call target/wasm32-unknown-unknown/release/memelooop_plugin_openai.wasm count_vowels --input "this is a test" --config thing=myValue`
```
```js
$.shell = 'zsh'
cd(`${os.homedir()}/Desktop/repo/memeloop/memeloop-plugin-examples/memelooop-plugin-openai/`);
await $`extism call target/wasm32-unknown-unknown/release/memelooop_plugin_openai.wasm http_get --input "this is a test"`
```
* 解决 extism 提供的同步 `http::request` 无法使用的问题
** 目前老报错 `extism.extism.Error: expected ident at line 1 column 2`
** 原来是因为输入是 `Json(req): Json<HttpRequest>` 导致
