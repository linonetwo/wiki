[
    {
        "author": "LinOnetwo",
        "core-version": ">=5.0.8",
        "dependents": "$:/plugins/linonetwo/pinyin-fuzzy-search",
        "description": "Command palette Chinese translated",
        "list": "readme",
        "plugin-type": "plugin",
        "source": "https://github.com/tiddly-gittly/tiddlywiki-plugins",
        "text": "{\"tiddlers\":{\"$:/plugins/linonetwo/commandpalette/CommandPaletteHistory\":{\"text\":\"{\\n  \\\"history\\\": [\\n    \\\"Explorer\\\",\\n    \\\"Clone Tiddler\\\",\\n    \\\"See Drafts\\\",\\n    \\\"Refresh Server\\\",\\n    \\\"Permaview\\\",\\n    \\\"See Themes\\\",\\n    \\\"Refresh Command Palette\\\",\\n    \\\"See Shadows Tiddlers\\\",\\n    \\\"See Orphans Tiddlers\\\",\\n    \\\"Remove tag\\\",\\n    \\\"Add tag to tiddler\\\",\\n    \\\"Delete Tiddler\\\",\\n    \\\"Close Tiddler\\\",\\n    \\\"Recent Tiddlers\\\",\\n    \\\"New Task with Title\\\",\\n    \\\"Edit Tiddler\\\",\\n    \\\"See Mising Tiddlers\\\",\\n    \\\"Show CommandTiddlers\\\",\\n    \\\"See untagged Tiddlers\\\",\\n    \\\"See Languages\\\",\\n    \\\"See Plugins\\\",\\n    \\\"New Command Wizard\\\",\\n    \\\"Cancel Tiddler\\\",\\n    \\\"Save Tiddler\\\",\\n    \\\"Close other Tiddlers\\\",\\n    \\\"Permalink\\\",\\n    \\\"Create Command\\\",\\n    \\\"Unfold All Tiddlers\\\",\\n    \\\"Fold All Tiddlers\\\",\\n    \\\"Print\\\",\\n    \\\"Close All Tiddlers\\\",\\n    \\\"Save Wiki\\\",\\n    \\\"Home\\\",\\n    \\\"Toggle Fullscreen\\\",\\n    \\\"New Tiddler\\\"\\n  ]\\n}\\n\",\"type\":\"application/json\",\"created\":\"20200603153247010\",\"modified\":\"20200610112340290\",\"title\":\"$:/plugins/linonetwo/commandpalette/CommandPaletteHistory\"},\"$:/plugins/linonetwo/commandpalette/CommandPaletteSearchSteps\":{\"text\":\"{\\n  \\\"steps\\\": [\\n    {\\n      \\\"filter\\\": \\\"[list[$:/StoryList]pinyinfuse[]]\\\",\\n      \\\"caret\\\": \\\"30\\\",\\n      \\\"filterFallback\\\": \\\"[list[$:/StoryList]search[]]\\\",\\n      \\\"caretFallback\\\": \\\"26\\\",\\n      \\\"hint\\\": \\\"历史记录\\\"\\n    },\\n    { \\\"filter\\\": \\\"[!is[system]pinyinfuse:title[]]\\\", \\\"caret\\\": \\\"29\\\", \\\"filterFallback\\\": \\\"[!is[system]search:title[]]\\\", \\\"caretFallback\\\": \\\"25\\\", \\\"hint\\\": \\\"在标题中\\\" },\\n    {\\n      \\\"filter\\\": \\\"[all[system+shadows]pinyinfuse:title[]]\\\",\\n      \\\"caret\\\": \\\"37\\\",\\n      \\\"filterFallback\\\": \\\"[all[system+shadows]search:title[]]\\\",\\n      \\\"caretFallback\\\": \\\"33\\\",\\n      \\\"hint\\\": \\\"在标题中 (系统)\\\"\\n    },\\n    { \\\"filter\\\": \\\"[!is[system]pinyinfuse[]]\\\", \\\"caret\\\": \\\"23\\\", \\\"filterFallback\\\": \\\"[!is[system]search[]]\\\", \\\"caretFallback\\\": \\\"19\\\", \\\"hint\\\": \\\"全局搜索\\\" },\\n    { \\\"filter\\\": \\\"[all[shadows]pinyinfuse[]]\\\", \\\"caret\\\": \\\"24\\\", \\\"filterFallback\\\": \\\"[all[shadows]search[]]\\\", \\\"caretFallback\\\": \\\"20\\\", \\\"hint\\\": \\\"shadows\\\" }\\n  ]\\n}\\n\",\"type\":\"application/json\",\"title\":\"$:/plugins/linonetwo/commandpalette/CommandPaletteSearchSteps\"},\"$:/plugins/linonetwo/commandpalette/CommandPaletteSettings\":{\"text\":\"{\\n  \\\"maxResults\\\": \\\"30\\\",\\n  \\\"maxResultHintSize\\\": 45,\\n  \\\"neverBasic\\\": \\\"false\\\",\\n  \\\"smoothScroll\\\": \\\"false\\\"\\n}\\n\",\"type\":\"application/json\",\"created\":\"20200604160432063\",\"modified\":\"20200610112626066\",\"title\":\"$:/plugins/linonetwo/commandpalette/CommandPaletteSettings\"},\"$:/plugins/linonetwo/commandpalette/settings/HideDefaultSearchBar\":{\"title\":\"$:/plugins/linonetwo/commandpalette/settings/HideDefaultSearchBar\",\"text\":\"no\"},\"$:/plugins/linonetwo/commandpalette/ControlPanel/Settings\":{\"title\":\"$:/plugins/linonetwo/commandpalette/ControlPanel/Settings\",\"caption\":\"CommandPalette\",\"tags\":\"$:/tags/ControlPanel/SettingsTab\",\"text\":\"These settings let you customise the behaviour of CommandPalette plugin.\\n\\n---\\n\\n!! Appearance\\n\\n;Hide default search bar:\\n:<$checkbox tiddler=\\\"$:/plugins/linonetwo/commandpalette/settings/HideDefaultSearchBar\\\" field=\\\"text\\\" checked=\\\"yes\\\" unchecked=\\\"no\\\"> If you only use commandpalette to search and don't need default search bar, check this box.</$checkbox>\"},\"$:/plugins/linonetwo/commandpalette/Browser Refresh\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Browser Refresh\",\"command-palette-name\":\"Browser Refresh\",\"command-palette-type\":\"message\",\"command-palette-caption\":\"{{$:/language/Buttons/Refresh/Caption}}\",\"command-palette-hint\":\"{{$:/language/Buttons/Refresh/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"tm-browser-refresh\\n\"},\"$:/plugins/linonetwo/commandpalette/Cancel Tiddler\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Cancel Tiddler\",\"command-palette-mode\":\"drafts\",\"command-palette-name\":\"Cancel Tiddler\",\"command-palette-type\":\"history\",\"command-palette-caption\":\"{{$:/language/Buttons/Cancel/Caption}}\",\"command-palette-hint\":\"{{$:/language/Buttons/Cancel/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"tm-cancel-tiddler\\n\"},\"$:/plugins/linonetwo/commandpalette/Clone Tiddler\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Clone Tiddler\",\"command-palette-name\":\"Clone Tiddler\",\"command-palette-type\":\"history\",\"command-palette-caption\":\"{{$:/language/Buttons/Clone/Caption}}\",\"command-palette-hint\":\"{{$:/language/Buttons/Clone/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"tm-new-tiddler\\n\"},\"$:/plugins/linonetwo/commandpalette/Close All Tiddlers\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Close All Tiddlers\",\"command-palette-name\":\"Close All Tiddlers\",\"command-palette-type\":\"message\",\"command-palette-caption\":\"{{$:/language/Buttons/CloseAll/Caption}}\",\"command-palette-hint\":\"{{$:/language/Buttons/CloseAll/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"tm-close-all-tiddlers\\n\"},\"$:/plugins/linonetwo/commandpalette/Close Tiddler\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Close Tiddler\",\"command-palette-name\":\"Close Tiddler\",\"command-palette-type\":\"history\",\"command-palette-caption\":\"{{$:/language/Buttons/Close/Caption}}\",\"command-palette-hint\":\"{{$:/language/Buttons/Close/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"tm-close-tiddler\\n\"},\"$:/plugins/linonetwo/commandpalette/Close other Tiddlers\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Close other Tiddlers\",\"command-palette-name\":\"Close other Tiddlers\",\"command-palette-type\":\"history\",\"command-palette-caption\":\"{{$:/language/Buttons/CloseOthers/Caption}}\",\"command-palette-hint\":\"{{$:/language/Buttons/CloseOthers/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"tm-close-other-tiddlers\\n\"},\"$:/plugins/linonetwo/commandpalette/Command Palette Settings\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Command Palette Settings\",\"command-palette-name\":\"Command Palette Settings\",\"command-palette-type\":\"prompt\",\"command-palette-caption\":\"命令菜单设置\",\"command-palette-hint\":\"打开命令菜单的设置，快捷设置命令菜单相关配置\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"|\\n\"},\"$:/plugins/linonetwo/commandpalette/ControlPanel Command\":{\"title\":\"$:/plugins/linonetwo/commandpalette/ControlPanel Command\",\"command-palette-name\":\"Show Control Panel\",\"command-palette-type\":\"actionString\",\"command-palette-caption\":\"打开命令菜单\",\"command-palette-hint\":\"打开命令菜单\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$action-navigate $to=\\\"$:/ControlPanel\\\"/>\"},\"$:/plugins/linonetwo/commandpalette/Delete Tiddler\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Delete Tiddler\",\"command-palette-name\":\"Delete Tiddler\",\"command-palette-type\":\"history\",\"command-palette-caption\":\"{{$:/language/Buttons/Delete/Caption}}\",\"command-palette-hint\":\"{{$:/language/Buttons/Delete/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"tm-delete-tiddler\\n\"},\"$:/plugins/linonetwo/commandpalette/Edit Tiddler\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Edit Tiddler\",\"command-palette-name\":\"Edit Tiddler\",\"command-palette-type\":\"history\",\"command-palette-caption\":\"{{$:/language/Buttons/Edit/Caption}}\",\"command-palette-hint\":\"{{$:/language/Buttons/Edit/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"tm-edit-tiddler\\n\"},\"$:/plugins/linonetwo/commandpalette/Filter operation\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Filter operation\",\"command-palette-name\":\"Filter operation\",\"command-palette-type\":\"prompt\",\"command-palette-caption\":\"{{$:/language/Buttons/AdvancedSearch/Caption}}\",\"command-palette-hint\":\"{{$:/language/Buttons/AdvancedSearch/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"[\\n\"},\"$:/plugins/linonetwo/commandpalette/Fold All Tiddlers\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Fold All Tiddlers\",\"command-palette-name\":\"Fold All Tiddlers\",\"command-palette-type\":\"message\",\"command-palette-caption\":\"{{$:/language/Buttons/FoldAll/Caption}}\",\"command-palette-hint\":\"{{$:/language/Buttons/FoldAll/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"tm-fold-all-tiddlers\\n\"},\"$:/plugins/linonetwo/commandpalette/Home\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Home\",\"command-palette-name\":\"Home\",\"command-palette-type\":\"message\",\"command-palette-caption\":\"{{$:/language/Buttons/Home/Caption}}\",\"command-palette-hint\":\"{{$:/language/Buttons/Home/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"tm-home\\n\"},\"$:/plugins/linonetwo/commandpalette/New Journal Command\":{\"title\":\"$:/plugins/linonetwo/commandpalette/New Journal Command\",\"command-palette-name\":\"New Journal\",\"command-palette-type\":\"actionString\",\"command-palette-caption\":\"{{$:/language/Buttons/NewJournal/Caption}}\",\"command-palette-hint\":\"{{$:/language/Buttons/NewJournal/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"{{$:/core/ui/Actions/new-journal}}\\n\"},\"$:/plugins/linonetwo/commandpalette/New Tiddler with title\":{\"title\":\"$:/plugins/linonetwo/commandpalette/New Tiddler with title\",\"command-palette-name\":\"New Tiddler with title\",\"command-palette-type\":\"prompt\",\"command-palette-caption\":\"以标题{{$:/language/Buttons/NewTiddler/Caption}}\",\"command-palette-hint\":\"以标题{{$:/language/Buttons/NewTiddler/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"+\\n\"},\"$:/plugins/linonetwo/commandpalette/New Tiddler\":{\"title\":\"$:/plugins/linonetwo/commandpalette/New Tiddler\",\"command-palette-name\":\"New Tiddler\",\"command-palette-type\":\"message\",\"command-palette-caption\":\"{{$:/language/Buttons/NewTiddler/Caption}}\",\"command-palette-hint\":\"{{$:/language/Buttons/NewTiddler/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"tm-new-tiddler\\n\"},\"$:/plugins/linonetwo/commandpalette/Permalink\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Permalink\",\"command-palette-name\":\"Permalink\",\"command-palette-type\":\"history\",\"command-palette-caption\":\"{{$:/language/Buttons/Permalink/Caption}}\",\"command-palette-hint\":\"{{$:/language/Buttons/Permalink/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"tm-permalink\\n\"},\"$:/plugins/linonetwo/commandpalette/Permaview\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Permaview\",\"command-palette-name\":\"Permaview\",\"command-palette-type\":\"message\",\"command-palette-caption\":\"{{$:/language/Buttons/Permaview/Caption}}\",\"command-palette-hint\":\"{{$:/language/Buttons/Permaview/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"tm-permaview\\n\"},\"$:/plugins/linonetwo/commandpalette/Print\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Print\",\"command-palette-name\":\"Print\",\"command-palette-type\":\"message\",\"command-palette-caption\":\"{{$:/language/Buttons/Print/Caption}}\",\"command-palette-hint\":\"{{$:/language/Buttons/Print/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"tm-print\\n\"},\"$:/plugins/linonetwo/commandpalette/Recent Tiddlers Command\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Recent Tiddlers Command\",\"command-palette-caret\":\"33\",\"command-palette-name\":\"Recent Tiddlers\",\"command-palette-type\":\"prompt-basic\",\"command-palette-caption\":\"查看最近编辑过的Tiddler\",\"command-palette-hint\":\"在命令菜单里列出最近编辑过的Tiddler\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"[!is[system]!sort[created]search[]]\\n\"},\"$:/plugins/linonetwo/commandpalette/Refresh Server\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Refresh Server\",\"command-palette-name\":\"Refresh Server\",\"command-palette-type\":\"message\",\"command-palette-caption\":\"服务器{{$:/language/Buttons/Refresh/Caption}}\",\"command-palette-hint\":\"服务器{{$:/language/Buttons/Refresh/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"tm-server-refresh\\n\"},\"$:/plugins/linonetwo/commandpalette/Save Tiddler\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Save Tiddler\",\"command-palette-mode\":\"drafts\",\"command-palette-name\":\"Save Tiddler\",\"command-palette-type\":\"history\",\"command-palette-caption\":\"{{$:/language/Buttons/Save/Caption}}\",\"command-palette-hint\":\"{{$:/language/Buttons/Save/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"tm-save-tiddler\\n\"},\"$:/plugins/linonetwo/commandpalette/Save Wiki\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Save Wiki\",\"command-palette-name\":\"Save Wiki\",\"command-palette-type\":\"message\",\"command-palette-caption\":\"{{$:/language/Buttons/SaveWiki/Caption}}\",\"command-palette-hint\":\"{{$:/language/Buttons/SaveWiki/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"tm-save-wiki\\n\"},\"$:/plugins/linonetwo/commandpalette/Search Tags\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Search Tags\",\"command-palette-name\":\"Search Tags\",\"command-palette-type\":\"prompt\",\"command-palette-caption\":\"搜索标签列表\",\"command-palette-hint\":\"在命令菜单里列出搜索到的标签\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"#\\n\"},\"$:/plugins/linonetwo/commandpalette/Search fields\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Search fields\",\"command-palette-caret\":\"16\",\"command-palette-name\":\"Search fields\",\"command-palette-type\":\"prompt-basic\",\"command-palette-caption\":\"搜索字段名\",\"command-palette-hint\":\"在命令菜单里搜索列出所有Wiki里涉及到的字段名\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"[fields[]search[]]\\n\"},\"$:/plugins/linonetwo/commandpalette/Search tiddlers with tag\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Search tiddlers with tag\",\"command-palette-name\":\"用 @标签 搜索条目\",\"command-palette-type\":\"prompt\",\"command-palette-caption\":\"带某个标签的Tiddler\",\"command-palette-hint\":\"在命令菜单里列出带某个标签的Tiddler\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"@\\n\"},\"$:/plugins/linonetwo/commandpalette/Search\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Search\",\"command-palette-name\":\"Search\",\"command-palette-type\":\"prompt\",\"command-palette-caption\":\"{{$:/language/Buttons/AdvancedSearch/Caption}}\",\"command-palette-hint\":\"{{$:/language/Buttons/AdvancedSearch/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\"},\"$:/plugins/linonetwo/commandpalette/See Drafts\":{\"title\":\"$:/plugins/linonetwo/commandpalette/See Drafts\",\"command-palette-caret\":\"27\",\"command-palette-name\":\"See Drafts\",\"command-palette-type\":\"prompt-basic\",\"command-palette-caption\":\"查看草稿Tiddler\",\"command-palette-hint\":\"在命令菜单里列出所有处于草稿状态的Tiddler\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"[has:field[draft.of]search[]]\\n\"},\"$:/plugins/linonetwo/commandpalette/See Languages\":{\"title\":\"$:/plugins/linonetwo/commandpalette/See Languages\",\"command-palette-caret\":\"43\",\"command-palette-name\":\"See Languages\",\"command-palette-type\":\"prompt-basic\",\"command-palette-caption\":\"查看语言列表\",\"command-palette-hint\":\"在命令菜单里列出语言列表\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"[!has[draft.of]plugin-type[language]search[]]\\n\"},\"$:/plugins/linonetwo/commandpalette/See Missing Tiddlers\":{\"title\":\"$:/plugins/linonetwo/commandpalette/See Missing Tiddlers\",\"command-palette-caret\":\"20\",\"command-palette-name\":\"See Mising Tiddlers\",\"command-palette-type\":\"prompt-basic\",\"command-palette-caption\":\"查看缺失的Tiddler\",\"command-palette-hint\":\"在命令菜单里列出缺失的Tiddler\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"[all[missing]search[]]\\n\"},\"$:/plugins/linonetwo/commandpalette/See Orphans Tiddlers\":{\"title\":\"$:/plugins/linonetwo/commandpalette/See Orphans Tiddlers\",\"command-palette-caret\":\"20\",\"command-palette-name\":\"See Orphans Tiddlers\",\"command-palette-type\":\"prompt-basic\",\"command-palette-caption\":\"查看孤儿Tiddler\",\"command-palette-hint\":\"在命令菜单里列出孤儿Tiddler\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"[all[orphans]search[]]\\n\"},\"$:/plugins/linonetwo/commandpalette/See Plugins\":{\"title\":\"$:/plugins/linonetwo/commandpalette/See Plugins\",\"command-palette-caret\":\"41\",\"command-palette-name\":\"See Plugins\",\"command-palette-type\":\"prompt-basic\",\"command-palette-caption\":\"查看插件列表\",\"command-palette-hint\":\"在命令菜单里列出插件列表\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"[!has[draft.of]plugin-type[plugin]search[]]\\n\"},\"$:/plugins/linonetwo/commandpalette/See Shadows Tiddlers\":{\"title\":\"$:/plugins/linonetwo/commandpalette/See Shadows Tiddlers\",\"command-palette-caret\":\"20\",\"command-palette-name\":\"See Shadows Tiddlers\",\"command-palette-type\":\"prompt-basic\",\"command-palette-caption\":\"查看系统Tiddler\",\"command-palette-hint\":\"在命令菜单里列出系统Tiddler\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"[all[shadows]search[]]\\n\"},\"$:/plugins/linonetwo/commandpalette/See Story List\":{\"title\":\"$:/plugins/linonetwo/commandpalette/See Story List\",\"command-palette-caret\":\"26\",\"command-palette-name\":\"See Story List\",\"command-palette-type\":\"prompt-basic\",\"command-palette-caption\":\"查看开启的Tiddler\",\"command-palette-hint\":\"在命令菜单里列出开启的Tiddler\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"[list[$:/StoryList]search[]]\"},\"$:/plugins/linonetwo/commandpalette/See Themes\":{\"title\":\"$:/plugins/linonetwo/commandpalette/See Themes\",\"command-palette-caret\":\"40\",\"command-palette-name\":\"See Themes\",\"command-palette-type\":\"prompt-basic\",\"command-palette-caption\":\"查看主题\",\"command-palette-hint\":\"列出可用主题\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"[!has[draft.of]plugin-type[theme]search[]]\\n\"},\"$:/plugins/linonetwo/commandpalette/See all content-types\":{\"title\":\"$:/plugins/linonetwo/commandpalette/See all content-types\",\"command-palette-caret\":\"48\",\"command-palette-name\":\"See all content-type\",\"command-palette-type\":\"prompt-basic\",\"command-palette-caption\":\"查看内容类型\",\"command-palette-hint\":\"在命令菜单里列出所有Wiki里涉及到的内容类型\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"[all[tiddlers+shadows]each[type]get[type]search[]]\\n\"},\"$:/plugins/linonetwo/commandpalette/See untagged tiddlers\":{\"title\":\"$:/plugins/linonetwo/commandpalette/See untagged tiddlers\",\"command-palette-caret\":\"29\",\"command-palette-name\":\"See untagged Tiddlers\",\"command-palette-type\":\"prompt-basic\",\"command-palette-caption\":\"查看未打标签的Tiddler\",\"command-palette-hint\":\"在命令菜单里列出未打标签的Tiddler列表\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"[untagged[]!is[system]search[]]\\n\"},\"$:/plugins/linonetwo/commandpalette/Show help\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Show help\",\"command-palette-name\":\"Show help\",\"command-palette-type\":\"prompt\",\"command-palette-caption\":\"展示帮助\",\"command-palette-hint\":\"列出有哪些用法\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"?\\n\"},\"$:/plugins/linonetwo/commandpalette/Toggle Fullscreen\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Toggle Fullscreen\",\"command-palette-name\":\"Toggle Fullscreen\",\"command-palette-type\":\"message\",\"command-palette-caption\":\"{{$:/language/Buttons/FullScreen/Caption}}\",\"command-palette-hint\":\"{{$:/language/Buttons/FullScreen/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"tm-full-screen\\n\"},\"$:/plugins/linonetwo/commandpalette/Unfold All Tiddlers\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Unfold All Tiddlers\",\"command-palette-name\":\"Unfold All Tiddlers\",\"command-palette-type\":\"actionString\",\"command-palette-caption\":\"{{$:/language/Buttons/UnfoldAll/Caption}}\",\"command-palette-hint\":\"{{$:/language/Buttons/UnfoldAll/Hint}}\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$action-sendmessage $message=\\\"tm-unfold-all-tiddlers\\\" foldedStatePrefix=\\\"$:/state/folded/\\\"/>\\n\"},\"$:/plugins/linonetwo/commandpalette/Version\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Version\",\"command-palette-caret\":\"49\",\"command-palette-name\":\"Version\",\"command-palette-type\":\"prompt-basic\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"[[$:/plugins/linonetwo/commandpalette]get[version]]\"},\"$:/plugins/linonetwo/commandpalette/show tiddler commands\":{\"title\":\"$:/plugins/linonetwo/commandpalette/show tiddler commands\",\"command-palette-name\":\"Show CommandTiddlers\",\"command-palette-type\":\"prompt\",\"command-palette-caption\":\"展示可用命令Tiddler列表\",\"command-palette-hint\":\"列出命令菜单的命令来自哪些Tiddlers\",\"tags\":\"$:/tags/CommandPaletteCommand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"@$:/tags/CommandPaletteCommand\\n\"},\"$:/plugins/linonetwo/itonnote/readme\":{\"title\":\"$:/plugins/linonetwo/itonnote/readme\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"此插件基于[[Souk21/TW-commandpalette|https://github.com/Souk21/TW-commandpalette]]，非常感谢他的工作，在过去的一年里这个插件极大地为我提高了工作效率。我将它主要源码复制过来汉化并加入拼音搜索功能，以便我们更灵活地在中文环境下使用。\\n\\n!! 功能\\n\\n按下 ctrl/cmd + P 唤起搜索框，按的时候如果多加一个 shift 可以唤起功能框。\\n\\n搜索的时候可以打拼音。\\n\"},\"$:/config/ShortcutInfo/command-palette-switch-history-back\":{\"title\":\"$:/config/ShortcutInfo/command-palette-switch-history-back\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Switch to previously opened tiddler (Inversed)\"},\"$:/config/ShortcutInfo/command-palette-switch-history\":{\"title\":\"$:/config/ShortcutInfo/command-palette-switch-history\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Switch to previously opened tiddler\"},\"$:/config/ShortcutInfo/insert-command-palette-result\":{\"title\":\"$:/config/ShortcutInfo/insert-command-palette-result\",\"created\":\"20200604175511112\",\"modified\":\"20200604175520378\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Insert the current result in the previously focused element\"},\"$:/config/ShortcutInfo/open-command-palette-command-mode\":{\"title\":\"$:/config/ShortcutInfo/open-command-palette-command-mode\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Open the command palette in command mode\"},\"$:/config/ShortcutInfo/open-command-palette-selection\":{\"title\":\"$:/config/ShortcutInfo/open-command-palette-selection\",\"created\":\"20200604175511112\",\"modified\":\"20200604175520378\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Open the command palette with current selection\"},\"$:/config/ShortcutInfo/open-command-palette\":{\"title\":\"$:/config/ShortcutInfo/open-command-palette\",\"created\":\"20200531223953066\",\"modified\":\"20200531224011568\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Open the command palette\"},\"$:/config/shortcuts-mac/insert-command-palette-result\":{\"title\":\"$:/config/shortcuts-mac/insert-command-palette-result\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"shift-cmd-I\"},\"$:/config/shortcuts-mac/open-command-palette-command-mode\":{\"title\":\"$:/config/shortcuts-mac/open-command-palette-command-mode\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"cmd-shift-P\"},\"$:/config/shortcuts-mac/open-command-palette\":{\"title\":\"$:/config/shortcuts-mac/open-command-palette\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"cmd-P\"},\"$:/config/shortcuts/command-palette-switch-history-back\":{\"title\":\"$:/config/shortcuts/command-palette-switch-history-back\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"ctrl-shift-tab\"},\"$:/config/shortcuts/command-palette-switch-history\":{\"title\":\"$:/config/shortcuts/command-palette-switch-history\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"ctrl-tab\"},\"$:/config/shortcuts/insert-command-palette-result\":{\"title\":\"$:/config/shortcuts/insert-command-palette-result\",\"created\":\"20200604175539239\",\"modified\":\"20200604175658624\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"ctrl+shift+I\"},\"$:/config/shortcuts/open-command-palette-command-mode\":{\"title\":\"$:/config/shortcuts/open-command-palette-command-mode\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"ctrl-shift-P\"},\"$:/config/shortcuts/open-command-palette-selection\":{\"title\":\"$:/config/shortcuts/open-command-palette-selection\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\"},\"$:/config/shortcuts/open-command-palette\":{\"title\":\"$:/config/shortcuts/open-command-palette\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"ctrl-P\"},\"$:/core/ui/KeyboardShortcuts/CommandPalette\":{\"title\":\"$:/core/ui/KeyboardShortcuts/CommandPalette\",\"key\":\"((open-command-palette))\",\"tags\":\"$:/tags/KeyboardShortcut\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$action-sendmessage $message=\\\"open-command-palette\\\"/>\"},\"$:/plugins/linonetwo/commandpalette/CommandPaletteCommandMode\":{\"title\":\"$:/plugins/linonetwo/commandpalette/CommandPaletteCommandMode\",\"key\":\"((open-command-palette-command-mode))\",\"tags\":\"$:/tags/KeyboardShortcut\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$action-sendmessage $message=\\\"open-command-palette\\\" $param=\\\">\\\" />\"},\"$:/plugins/linonetwo/commandpalette/CommandPaletteSelection\":{\"title\":\"$:/plugins/linonetwo/commandpalette/CommandPaletteSelection\",\"created\":\"20200604175339522\",\"key\":\"((open-command-palette-selection))\",\"modified\":\"20200604175716862\",\"tags\":\"$:/tags/KeyboardShortcut\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$action-sendmessage $message=\\\"open-command-palette-selection\\\"/>\"},\"$:/plugins/linonetwo/commandpalette/CommandPaletteSwitchHistory\":{\"title\":\"$:/plugins/linonetwo/commandpalette/CommandPaletteSwitchHistory\",\"key\":\"((command-palette-switch-history))\",\"tags\":\"$:/tags/KeyboardShortcut\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$action-sendmessage $message=\\\"command-palette-switch-history\\\" />\"},\"$:/plugins/linonetwo/commandpalette/CommandPaletteSwitchHistoryBack\":{\"title\":\"$:/plugins/linonetwo/commandpalette/CommandPaletteSwitchHistoryBack\",\"key\":\"((command-palette-switch-history-back))\",\"tags\":\"$:/tags/KeyboardShortcut\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$action-sendmessage $message=\\\"command-palette-switch-history-back\\\" />\"},\"$:/plugins/linonetwo/commandpalette/InsertCommandPaletteResult\":{\"title\":\"$:/plugins/linonetwo/commandpalette/InsertCommandPaletteResult\",\"key\":\"((insert-command-palette-result))\",\"tags\":\"$:/tags/KeyboardShortcut\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$action-sendmessage $message=\\\"insert-command-palette-result\\\"/>\"},\"$:/plugins/linonetwo/commandpalette/Compact.css\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Compact.css\",\"tags\":\"$:/tags/CommandPaletteTheme $:/tags/Stylesheet\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline html\\n:root {\\n    --palette-radius: 5px;\\n}\\n.commandpalette {\\n    position: fixed;\\n    background: <<colour background>>;\\n    z-index: 9999;\\n    left: 50%;\\n    top: 10%;\\n    transform: translate(-50%, 0%);\\n    width: 500px;\\n    display: none;\\n    flex-direction: column;\\n    font-size: 21px;\\n    border-radius: var(--palette-radius);\\n    box-shadow: rgba(0, 0, 0, 0.15) 0px 0px 14px;\\n    border: 2px solid <<colour page-background>>;\\n}\\n@media (max-width: 540px) {\\n  .commandpalette {\\n    width: calc(100vw - 40px);\\n  }\\n}\\n.commandpalette-masklayer {\\n    position: fixed;\\n    z-index: 9998;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    width: 100vw;\\n    height: 100vh;\\n    background: <<colour background>>;\\n    opacity: 0;\\n    filter: contrast(130%);\\n    min-width: 200px !important;\\n    transition: all {{$:/config/AnimationDuration}}ms;\\n    pointer-events: none;\\n    backdrop-filter: blur(10px);\\n    background-color: rgba(255,255,255,0.6);\\n}\\n.inputhintwrapper {\\n    display: flex;\\n    align-items: center;\\n    border-bottom: 1px solid <<colour page-background>>;\\n}\\n.commandpalette input {\\n    border: 0;\\n    background: 0;\\n    height: 40px;\\n    color: <<colour foreground>>;\\n    border-radius: var(--palette-radius) var(--palette-radius) 0px 0px;\\n    outline: 0;\\n    min-width: 50px;\\n    flex: 1;\\n    padding-left: 7px;\\n}\\n.commandpalettetitle {\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    white-space: nowrap;\\n}\\n.commandpalettehint {\\n    font-size: 13px;\\n    text-align: right;\\n    flex-shrink: 0;\\n    padding-right: 7px;\\n    opacity: 0.6;\\n    font-weight: 800;\\n}\\n.commandpaletteresultselected>.commandpalettehint {\\n    opacity: 1;\\n}\\n.commandpalettehintmain {\\n\\n}\\n.commandpaletteresult {\\n    background: <<colour background>>;\\n    font-size: 15px;\\n    color: <<colour foreground>>;\\n    fill: <<colour foreground>>;\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    padding-left: 6px;\\n    padding-top: 4px;\\n    padding-bottom: 4px;\\n    cursor: pointer;\\n    width: 100%;\\n}\\n.commandpaletteresult:not(:last-child) {\\n    border-bottom: <<colour page-background>> solid 1px;\\n}\\n.commandpaletteresult:hover:not(.commandpaletteresultselected) {\\n    background: <<colour page-background>>;\\n}\\n.commandpaletteresultselected {\\n    background: <<colour primary>>;\\n    color: <<colour tiddler-link-background>>;\\n    fill: <<colour tiddler-link-background>>;\\n}\\n.cp-scroll{\\n    max-height: 50vh;\\n    overflow-y: auto;\\n    position: relative;\\n    border-radius: 0px 0px var(--palette-radius) var(--palette-radius);\\n}\\n\"},\"$:/plugins/linonetwo/commandpalette/HideVanillaSearch.css\":{\"title\":\"$:/plugins/linonetwo/commandpalette/HideVanillaSearch.css\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$list filter=\\\"[[$:/plugins/linonetwo/commandpalette/settings/HideDefaultSearchBar]get[text]else[no]match[yes]]\\\">\\n.tc-sidebar-lists.tc-sidebar-search {\\n  display: none;\\n}\\n</$list>\\n\"},\"$:/plugins/linonetwo/commandpalette/Original.css\":{\"title\":\"$:/plugins/linonetwo/commandpalette/Original.css\",\"tags\":\"$:/tags/CommandPaletteTheme\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\n\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline html\\n:root {\\n    --palette-radius: 5px;\\n}\\n.commandpalette {\\n    position: fixed;\\n    background:<<colour page-background>>;\\n    z-index: 9999;\\n    left: 50%;\\n    top: 10%;\\n    transform: translate(-50%, 0%);\\n    width: 500px;\\n    display: none;\\n    flex-direction: column;\\n    font-size: 21px;\\n    border-radius: var(--palette-radius);\\n    box-shadow: rgba(0, 0, 0, 0.15) 0px 0px 14px;\\n    border: 4px solid transparent;\\n}\\n@media (max-width: 540px) {\\n  .commandpalette {\\n    width: calc(100vw - 40px);\\n  }\\n}\\n.commandpalette-masklayer {\\n    position: fixed;\\n    z-index: 9998;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    width: 100vw;\\n    height: 100vh;\\n    background: <<colour background>>;\\n    opacity: 0;\\n    filter: contrast(130%);\\n    min-width: 200px !important;\\n    transition: all {{$:/config/AnimationDuration}}ms;\\n    pointer-events: none;\\n    backdrop-filter: blur(10px);\\n    background-color: rgba(255,255,255,0.6);\\n}\\n.commandpalette input {\\n    border: 0;\\n    height: 40px;\\n    color: <<colour foreground>>;\\n    border-radius: var(--palette-radius) var(--palette-radius) 0px 0px;\\n    padding-left: 11px;\\n    padding-right: 11px;\\n    width: 100%;\\n    outline: 0;\\n}\\n.commandpalettetitle {\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    white-space: nowrap;\\n}\\n.commandpalettehint {\\n    font-size: 13px;\\n    text-align: right;\\n    flex-shrink: 0;\\n    padding-right: 7px;\\n    opacity: 0.6;\\n    font-weight: 800;\\n}\\n.commandpaletteresultselected>.commandpalettehint {\\n    opacity: 1;\\n}\\n.commandpalettehintmain {\\n}\\n.commandpaletteresult {\\n    background: <<colour background>>;\\n    font-size: 15px;\\n    color: <<colour foreground>>;\\n    fill: <<colour foreground>>;\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    padding-left: 6px;\\n    padding-top: 4px;\\n    padding-bottom: 4px;\\n    cursor: pointer;\\n    width: 100%;\\n}\\n.commandpaletteresult:not(:last-child) {\\n    border-bottom: <<colour page-background>> solid 1px;\\n}\\n.commandpaletteresult:hover:not(.commandpaletteresultselected) {\\n    background: <<colour page-background>>;\\n}\\n.commandpaletteresultselected {\\n    background: <<colour primary>>;\\n    color: <<colour page-background>>;\\n    fill: <<colour page-background>>;\\n}\\n.cp-scroll{\\n    max-height: 50vh;\\n    overflow-y: auto;\\n    position: relative;\\n    border-radius: 0px 0px var(--palette-radius) var(--palette-radius);\\n}\\n\"},\"$:/core/ui/Buttons/CommandPalette\":{\"title\":\"$:/core/ui/Buttons/CommandPalette\",\"caption\":\"{{$:/plugins/linonetwo/commandpalette/command-palette.svg}} Command Palette\",\"description\":\"Open Command Palette\",\"tags\":\"$:/tags/PageControls\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$button class=<<tv-config-toolbar-class>> message=\\\"open-command-palette\\\" tooltip=\\\"Open Command Palette\\\" aria-label=\\\"Command Palette\\\"><$list filter=\\\"[<tv-config-toolbar-icons>match[yes]]\\\">{{$:/plugins/linonetwo/commandpalette/command-palette.svg}}</$list><$list filter=\\\"[<tv-config-toolbar-text>match[yes]]\\\"><span class=\\\"tc-btn-text\\\"><$text text=\\\"Command Palette\\\"/></span></$list></$button>\\n\"},\"$:/plugins/linonetwo/commandpalette/View\":{\"title\":\"$:/plugins/linonetwo/commandpalette/View\",\"tags\":\"$:/tags/AboveStory\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$commandpalettewidget/>\\n\"},\"$:/plugins/linonetwo/commandpalette/command-palette.svg\":{\"title\":\"$:/plugins/linonetwo/commandpalette/command-palette.svg\",\"tags\":\"$:/tags/Image\",\"text\":\"<svg aria-hidden=\\\"true\\\" width=\\\"22pt\\\" height=\\\"22pt\\\" class=\\\"tc-image-button commandpalette-button\\\" viewBox=\\\"0 0 512 512\\\" style=\\\"transform: rotate(225deg);\\\">\\n  <path d=\\\"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm0-96c8.84 0 16 7.16 16 16s-7.16 16-16 16-16-7.16-16-16 7.16-16 16-16zm352 224l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm0 96c-8.84 0-16-7.16-16-16s7.16-16 16-16 16 7.16 16 16-7.16 16-16 16zm70.63-306.04L434.04 9.37C427.79 3.12 419.6 0 411.41 0s-16.38 3.12-22.63 9.37L9.37 388.79c-12.5 12.5-12.5 32.76 0 45.25l68.59 68.59c6.25 6.25 14.44 9.37 22.63 9.37s16.38-3.12 22.63-9.37l379.41-379.41c12.49-12.5 12.49-32.76 0-45.26zM100.59 480L32 411.41l258.38-258.4 68.6 68.6L100.59 480zm281.02-281.02l-68.6-68.6L411.38 32h.03L480 100.59l-98.39 98.39z\\\" fill-rule=\\\"evenodd\\\"/>\\n</svg>\\n\"},\"$:/plugins/linonetwo/commandpalette/CommandPaletteWidget.js\":{\"title\":\"$:/plugins/linonetwo/commandpalette/CommandPaletteWidget.js\",\"type\":\"application/javascript\",\"module-type\":\"widget\",\"Modern.TiddlyDev#Origin\":\"CommandPaletteWidget.ts\",\"text\":\"\\\"use strict\\\";var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__esm=(e,t)=>function(){return t=e?(0,e[__getOwnPropNames(e)[0]])(e=0):t},__commonJS=(e,t)=>function(){return t||(0,e[__getOwnPropNames(e)[0]])((t={exports:{}}).exports,t),t.exports},__copyProps=(t,i,s,r)=>{if(i&&\\\"object\\\"==typeof i||\\\"function\\\"==typeof i)for(let e of __getOwnPropNames(i))__hasOwnProp.call(t,e)||e===s||__defProp(t,e,{get:()=>i[e],enumerable:!(r=__getOwnPropDesc(i,e))||r.enumerable});return t},__toESM=(e,t,i)=>(i=null!=e?__create(__getProtoOf(e)):{},__copyProps(!t&&e&&e.__esModule?i:__defProp(i,\\\"default\\\",{value:e,enumerable:!0}),e)),init_esbuild_inject=__esm({\\\"node_modules/.pnpm/tiddlywiki-plugin-dev@0.0.39_postcss@8.4.33_ts-node@10.9.2/node_modules/tiddlywiki-plugin-dev/dist/js/esbuild-inject.js\\\"(){}}),require_isObject=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObject.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=typeof e;return null!=e&&(\\\"object\\\"==t||\\\"function\\\"==t)}}}),require_freeGlobal=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_freeGlobal.js\\\"(e,t){init_esbuild_inject();var i=\\\"object\\\"==typeof global&&global&&global.Object===Object&&global;t.exports=i}}),require_root=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_root.js\\\"(e,t){init_esbuild_inject();var i=require_freeGlobal(),s=\\\"object\\\"==typeof self&&self&&self.Object===Object&&self,i=i||s||Function(\\\"return this\\\")();t.exports=i}}),require_now=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/now.js\\\"(e,t){init_esbuild_inject();var i=require_root();t.exports=function(){return i.Date.now()}}}),require_trimmedEndIndex=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_trimmedEndIndex.js\\\"(e,t){init_esbuild_inject();var i=/\\\\s/;t.exports=function(e){for(var t=e.length;t--&&i.test(e.charAt(t)););return t}}}),require_baseTrim=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseTrim.js\\\"(e,t){init_esbuild_inject();var i=require_trimmedEndIndex(),s=/^\\\\s+/;t.exports=function(e){return e&&e.slice(0,i(e)+1).replace(s,\\\"\\\")}}}),require_Symbol=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Symbol.js\\\"(e,t){init_esbuild_inject();var i=require_root().Symbol;t.exports=i}}),require_getRawTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getRawTag.js\\\"(e,t){init_esbuild_inject();var i=require_Symbol(),s=Object.prototype,o=s.hasOwnProperty,a=s.toString,l=i?i.toStringTag:void 0;t.exports=function(e){var t=o.call(e,l),i=e[l];try{var s=!(e[l]=void 0)}catch(n){}var r=a.call(e);return s&&(t?e[l]=i:delete e[l]),r}}}),require_objectToString=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_objectToString.js\\\"(e,t){init_esbuild_inject();var i=Object.prototype.toString;t.exports=function(e){return i.call(e)}}}),require_baseGetTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetTag.js\\\"(e,t){init_esbuild_inject();var i=require_Symbol(),s=require_getRawTag(),r=require_objectToString(),n=i?i.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?\\\"[object Undefined]\\\":\\\"[object Null]\\\":(n&&n in Object(e)?s:r)(e)}}}),require_isObjectLike=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObjectLike.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return null!=e&&\\\"object\\\"==typeof e}}}),require_isSymbol=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isSymbol.js\\\"(e,t){init_esbuild_inject();var i=require_baseGetTag(),s=require_isObjectLike();t.exports=function(e){return\\\"symbol\\\"==typeof e||s(e)&&\\\"[object Symbol]\\\"==i(e)}}}),require_toNumber=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toNumber.js\\\"(e,t){init_esbuild_inject();var i=require_baseTrim(),s=require_isObject(),r=require_isSymbol(),n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt;t.exports=function(e){if(\\\"number\\\"==typeof e)return e;if(r(e))return NaN;if(s(e)&&(t=\\\"function\\\"==typeof e.valueOf?e.valueOf():e,e=s(t)?t+\\\"\\\":t),\\\"string\\\"!=typeof e)return 0===e?e:+e;e=i(e);var t=o.test(e);return t||a.test(e)?l(e.slice(2),t?2:8):n.test(e)?NaN:+e}}}),require_debounce=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/debounce.js\\\"(e,t){init_esbuild_inject();var f=require_isObject(),S=require_now(),b=require_toNumber(),y=Math.max,w=Math.min;t.exports=function(s,r,e){var n,o,i,a,l,h,u=0,d=!1,c=!1,t=!0;if(\\\"function\\\"!=typeof s)throw new TypeError(\\\"Expected a function\\\");function m(e){var t=n,i=o;return n=o=void 0,u=e,a=s.apply(i,t)}function p(e){var t=e-h;return void 0===h||r<=t||t<0||c&&i<=e-u}function _(){var e,t=S();if(p(t))return v(t);l=setTimeout(_,(t=r-((e=t)-h),c?w(t,i-(e-u)):t))}function v(e){return l=void 0,t&&n?m(e):(n=o=void 0,a)}function g(){var e,t=S(),i=p(t);if(n=arguments,o=this,h=t,i){if(void 0===l)return u=e=h,l=setTimeout(_,r),d?m(e):a;if(c)return clearTimeout(l),l=setTimeout(_,r),m(h)}return void 0===l&&(l=setTimeout(_,r)),a}return r=b(r)||0,f(e)&&(d=!!e.leading,c=\\\"maxWait\\\"in e,i=c?y(b(e.maxWait)||0,r):i,t=\\\"trailing\\\"in e?!!e.trailing:t),g.cancel=function(){void 0!==l&&clearTimeout(l),n=h=o=l=void(u=0)},g.flush=function(){return void 0===l?a:v(S())},g}}}),require_isFunction=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isFunction.js\\\"(e,t){init_esbuild_inject();var i=require_baseGetTag(),s=require_isObject();t.exports=function(e){var t;return!!s(e)&&(\\\"[object Function]\\\"==(t=i(e))||\\\"[object GeneratorFunction]\\\"==t||\\\"[object AsyncFunction]\\\"==t||\\\"[object Proxy]\\\"==t)}}}),require_coreJsData=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_coreJsData.js\\\"(e,t){init_esbuild_inject();var i=require_root()[\\\"__core-js_shared__\\\"];t.exports=i}}),require_isMasked=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isMasked.js\\\"(e,t){init_esbuild_inject();var i=require_coreJsData(),s=(i=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||\\\"\\\"))?\\\"Symbol(src)_1.\\\"+i:\\\"\\\";t.exports=function(e){return!!s&&s in e}}}),require_toSource=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_toSource.js\\\"(e,t){init_esbuild_inject();var i=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return i.call(e)}catch(t){}try{return e+\\\"\\\"}catch(t){}}return\\\"\\\"}}}),require_baseIsNative=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsNative.js\\\"(e,t){init_esbuild_inject();var i=require_isFunction(),s=require_isMasked(),r=require_isObject(),n=require_toSource(),o=/^\\\\[object .+?Constructor\\\\]$/,a=Function.prototype,l=Object.prototype,a=a.toString,l=l.hasOwnProperty,h=RegExp(\\\"^\\\"+a.call(l).replace(/[\\\\\\\\^$.*+?()[\\\\]{}|]/g,\\\"\\\\\\\\$&\\\").replace(/hasOwnProperty|(function).*?(?=\\\\\\\\\\\\()| for .+?(?=\\\\\\\\\\\\])/g,\\\"$1.*?\\\")+\\\"$\\\");t.exports=function(e){return!(!r(e)||s(e))&&(i(e)?h:o).test(n(e))}}}),require_getValue=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getValue.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){return null==e?void 0:e[t]}}}),require_getNative=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getNative.js\\\"(e,t){init_esbuild_inject();var s=require_baseIsNative(),r=require_getValue();t.exports=function(e,t){var i=r(e,t);return s(i)?i:void 0}}}),require_nativeCreate=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeCreate.js\\\"(e,t){init_esbuild_inject();var i=require_getNative()(Object,\\\"create\\\");t.exports=i}}),require_hashClear=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashClear.js\\\"(e,t){init_esbuild_inject();var i=require_nativeCreate();t.exports=function(){this.__data__=i?i(null):{},this.size=0}}}),require_hashDelete=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashDelete.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}}}),require_hashGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashGet.js\\\"(e,t){init_esbuild_inject();var s=require_nativeCreate(),r=Object.prototype.hasOwnProperty;t.exports=function(e){var t,i=this.__data__;return s?\\\"__lodash_hash_undefined__\\\"===(t=i[e])?void 0:t:r.call(i,e)?i[e]:void 0}}}),require_hashHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashHas.js\\\"(e,t){init_esbuild_inject();var i=require_nativeCreate(),s=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:s.call(t,e)}}}),require_hashSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashSet.js\\\"(e,t){init_esbuild_inject();var s=require_nativeCreate();t.exports=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=s&&void 0===t?\\\"__lodash_hash_undefined__\\\":t,this}}}),require_Hash=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Hash.js\\\"(e,t){init_esbuild_inject();var i=require_hashClear(),s=require_hashDelete(),r=require_hashGet(),n=require_hashHas(),o=require_hashSet();function a(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var s=e[t];this.set(s[0],s[1])}}a.prototype.clear=i,a.prototype[\\\"delete\\\"]=s,a.prototype.get=r,a.prototype.has=n,a.prototype.set=o,t.exports=a}}),require_listCacheClear=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheClear.js\\\"(e,t){init_esbuild_inject(),t.exports=function(){this.__data__=[],this.size=0}}}),require_eq=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/eq.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){return e===t||e!=e&&t!=t}}}),require_assocIndexOf=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_assocIndexOf.js\\\"(e,t){init_esbuild_inject();var s=require_eq();t.exports=function(e,t){for(var i=e.length;i--;)if(s(e[i][0],t))return i;return-1}}}),require_listCacheDelete=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheDelete.js\\\"(e,t){init_esbuild_inject();var s=require_assocIndexOf(),r=Array.prototype.splice;t.exports=function(e){var t=this.__data__,i=s(t,e);return!(i<0||(i==t.length-1?t.pop():r.call(t,i,1),--this.size,0))}}}),require_listCacheGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheGet.js\\\"(e,t){init_esbuild_inject();var s=require_assocIndexOf();t.exports=function(e){var t=this.__data__,i=s(t,e);return i<0?void 0:t[i][1]}}}),require_listCacheHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheHas.js\\\"(e,t){init_esbuild_inject();var i=require_assocIndexOf();t.exports=function(e){return-1<i(this.__data__,e)}}}),require_listCacheSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheSet.js\\\"(e,t){init_esbuild_inject();var r=require_assocIndexOf();t.exports=function(e,t){var i=this.__data__,s=r(i,e);return s<0?(++this.size,i.push([e,t])):i[s][1]=t,this}}}),require_ListCache=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_ListCache.js\\\"(e,t){init_esbuild_inject();var i=require_listCacheClear(),s=require_listCacheDelete(),r=require_listCacheGet(),n=require_listCacheHas(),o=require_listCacheSet();function a(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var s=e[t];this.set(s[0],s[1])}}a.prototype.clear=i,a.prototype[\\\"delete\\\"]=s,a.prototype.get=r,a.prototype.has=n,a.prototype.set=o,t.exports=a}}),require_Map=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Map.js\\\"(e,t){init_esbuild_inject();var i=require_getNative()(require_root(),\\\"Map\\\");t.exports=i}}),require_mapCacheClear=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheClear.js\\\"(e,t){init_esbuild_inject();var i=require_Hash(),s=require_ListCache(),r=require_Map();t.exports=function(){this.size=0,this.__data__={hash:new i,map:new(r||s),string:new i}}}}),require_isKeyable=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isKeyable.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=typeof e;return\\\"string\\\"==t||\\\"number\\\"==t||\\\"symbol\\\"==t||\\\"boolean\\\"==t?\\\"__proto__\\\"!==e:null===e}}}),require_getMapData=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getMapData.js\\\"(e,t){init_esbuild_inject();var s=require_isKeyable();t.exports=function(e,t){var i=e.__data__;return s(t)?i[\\\"string\\\"==typeof t?\\\"string\\\":\\\"hash\\\"]:i.map}}}),require_mapCacheDelete=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheDelete.js\\\"(e,t){init_esbuild_inject();var i=require_getMapData();t.exports=function(e){var t=i(this,e)[\\\"delete\\\"](e);return this.size-=t?1:0,t}}}),require_mapCacheGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheGet.js\\\"(e,t){init_esbuild_inject();var i=require_getMapData();t.exports=function(e){return i(this,e).get(e)}}}),require_mapCacheHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheHas.js\\\"(e,t){init_esbuild_inject();var i=require_getMapData();t.exports=function(e){return i(this,e).has(e)}}}),require_mapCacheSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheSet.js\\\"(e,t){init_esbuild_inject();var r=require_getMapData();t.exports=function(e,t){var i=r(this,e),s=i.size;return i.set(e,t),this.size+=i.size==s?0:1,this}}}),require_MapCache=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_MapCache.js\\\"(e,t){init_esbuild_inject();var i=require_mapCacheClear(),s=require_mapCacheDelete(),r=require_mapCacheGet(),n=require_mapCacheHas(),o=require_mapCacheSet();function a(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var s=e[t];this.set(s[0],s[1])}}a.prototype.clear=i,a.prototype[\\\"delete\\\"]=s,a.prototype.get=r,a.prototype.has=n,a.prototype.set=o,t.exports=a}}),require_setCacheAdd=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setCacheAdd.js\\\"(e,t){init_esbuild_inject();t.exports=function(e){return this.__data__.set(e,\\\"__lodash_hash_undefined__\\\"),this}}}),require_setCacheHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setCacheHas.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return this.__data__.has(e)}}}),require_SetCache=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_SetCache.js\\\"(e,t){init_esbuild_inject();var s=require_MapCache(),i=require_setCacheAdd(),r=require_setCacheHas();function n(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new s;++t<i;)this.add(e[t])}n.prototype.add=n.prototype.push=i,n.prototype.has=r,t.exports=n}}),require_baseFindIndex=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseFindIndex.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t,i,s){for(var r=e.length,n=i+(s?1:-1);s?n--:++n<r;)if(t(e[n],n,e))return n;return-1}}}),require_baseIsNaN=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsNaN.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return e!=e}}}),require_strictIndexOf=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_strictIndexOf.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t,i){for(var s=i-1,r=e.length;++s<r;)if(e[s]===t)return s;return-1}}}),require_baseIndexOf=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIndexOf.js\\\"(e,t){init_esbuild_inject();var s=require_baseFindIndex(),r=require_baseIsNaN(),n=require_strictIndexOf();t.exports=function(e,t,i){return t==t?n(e,t,i):s(e,r,i)}}}),require_arrayIncludes=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayIncludes.js\\\"(e,t){init_esbuild_inject();var i=require_baseIndexOf();t.exports=function(e,t){return!!(null==e?0:e.length)&&-1<i(e,t,0)}}}),require_arrayIncludesWith=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayIncludesWith.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t,i){for(var s=-1,r=null==e?0:e.length;++s<r;)if(i(t,e[s]))return!0;return!1}}}),require_cacheHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cacheHas.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){return e.has(t)}}}),require_Set=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Set.js\\\"(e,t){init_esbuild_inject();var i=require_getNative()(require_root(),\\\"Set\\\");t.exports=i}}),require_noop=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/noop.js\\\"(e,t){init_esbuild_inject(),t.exports=function(){}}}),require_setToArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setToArray.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=e}),i}}}),require_createSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_createSet.js\\\"(e,t){init_esbuild_inject();var i=require_Set(),s=require_noop(),r=require_setToArray(),r=i&&1/r(new i([,-0]))[1]==1/0?function(e){return new i(e)}:s;t.exports=r}}),require_baseUniq=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseUniq.js\\\"(e,t){init_esbuild_inject();var m=require_SetCache(),p=require_arrayIncludes(),_=require_arrayIncludesWith(),v=require_cacheHas(),g=require_createSet(),f=require_setToArray();t.exports=function(e,t,i){var s=-1,r=p,n=e.length,o=!0,a=[],l=a;if(i)o=!1,r=_;else if(200<=n){var h=t?null:g(e);if(h)return f(h);o=!1,r=v,l=new m}else l=t?[]:a;e:for(;++s<n;){var u=e[s],d=t?t(u):u,u=i||0!==u?u:0;if(o&&d==d){for(var c=l.length;c--;)if(l[c]===d)continue e;t&&l.push(d),a.push(u)}else r(l,d,i)||(l!==a&&l.push(d),a.push(u))}return a}}}),require_uniq=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/uniq.js\\\"(e,t){init_esbuild_inject();var i=require_baseUniq();t.exports=function(e){return e&&e.length?i(e):[]}}}),import_debounce=(init_esbuild_inject(),__toESM(require_debounce())),import_uniq=__toESM(require_uniq()),import_widget=require(\\\"$:/core/modules/widgets/widget.js\\\"),CommandPaletteWidget=class extends import_widget.widget{constructor(e,t){super(e,t),this.actions=[],this.triggers=[],this.currentResults=[],this.typeField=\\\"command-palette-type\\\",this.nameField=\\\"command-palette-name\\\",this.captionField=\\\"command-palette-caption\\\",this.hintField=\\\"command-palette-hint\\\",this.modeField=\\\"command-palette-mode\\\",this.userInputField=\\\"command-palette-user-input\\\",this.caretField=\\\"command-palette-caret\\\",this.immediateField=\\\"command-palette-immediate\\\",this.triggerField=\\\"command-palette-trigger\\\",this.currentSelection=0,this.symbolProviders={},this.blockProviderChange=!1,this.defaultSettings={maxResults:15,maxResultHintSize:45,neverBasic:!1,showHistoryOnOpen:!0,escapeGoesBack:!0,alwaysPassSelection:!1,theme:\\\"$:/plugins/linonetwo/commandpalette/Compact.css\\\"},this.settings={},this.commandHistoryPath=\\\"$:/plugins/linonetwo/commandpalette/CommandPaletteHistory\\\",this.settingsPath=\\\"$:/plugins/linonetwo/commandpalette/CommandPaletteSettings\\\",this.searchStepsPath=\\\"$:/plugins/linonetwo/commandpalette/CommandPaletteSearchSteps\\\",this.customCommandsTag=\\\"$:/tags/CommandPaletteCommand\\\",this.themesTag=\\\"$:/tags/CommandPaletteTheme\\\",this.currentResolver=()=>{},this.currentProvider=()=>{},this.searchSteps=[],this.isIMEOpen=!1,this.initialise(e,t),this.onInput=(0,import_debounce[\\\"default\\\"])(this.onInput,300)}actionStringBuilder(t){return e=>this.invokeActionString(t,this,e)}actionStringInput(t,e,i){this.blockProviderChange=!0,this.allowInputFieldSelection=!0,this.hint.innerText=e,this.input.value=\\\"\\\",this.currentProvider=()=>{},this.currentResolver=e=>{this.invokeActionString(t,this,e,{commandpaletteinput:this.input.value}),this.closePalette()},this.showResults([]),this.onInput(this.input.value)}invokeFieldMangler(e,t,i,s){this.invokeActionString(`<$fieldmangler tiddler=\\\"${e}\\\">\\n\\t\\t\\t<$action-sendmessage $message=\\\"${t}\\\" $param=\\\"${i}\\\"/>\\n\\t\\t\\t</$fieldmangler>`,this,s)}tagOperation(e,t,s,r,n,o){this.blockProviderChange=!0,n&&(this.allowInputFieldSelection=!0),this.currentProvider=this.historyProviderBuilder(t),this.currentResolver=e=>{if(0!==this.currentSelection){const i=this.getDataFromResultDiv(this.currentResults[this.currentSelection-1],\\\"name\\\");this.currentProvider=e=>{var t;this.currentSelection=0,this.hint.innerText=s,i&&(t=r(i,e),this.showResults(t.map(e=>({name:e}))))},this.input.value=\\\"\\\",this.onInput(this.input.value),this.currentResolver=t=>{if(n||0!==this.currentSelection){let e=this.input.value;0!==this.currentSelection&&(e=this.getDataFromResultDiv(this.currentResults[this.currentSelection-1],\\\"name\\\")),this.invokeFieldMangler(i,o,e,t),t.getModifierState(\\\"Shift\\\")?this.onInput(this.input.value):this.closePalette()}}}},this.input.value=\\\"\\\",this.onInput(this.input.value)}refreshThemes(e){this.themes=this.getTiddlersWithTag(this.themesTag);let t=!1;for(const s of this.themes){var i=s.fields.title;i===this.settings.theme?(t=!0,this.addTagIfNecessary(i,\\\"$:/tags/Stylesheet\\\",e)):this.invokeFieldMangler(i,\\\"tm-remove-tag\\\",\\\"$:/tags/Stylesheet\\\",e)}t||this.addTagIfNecessary(this.defaultSettings.theme,\\\"$:/tags/Stylesheet\\\",e)}addTagIfNecessary(e,t,i){this.hasTag(e,t)||this.invokeFieldMangler(e,\\\"tm-add-tag\\\",t,i)}hasTag(e,t){var i;return!(null==(i=null==(i=null==(i=$tw.wiki.getTiddler(e))?void 0:i.fields)?void 0:i.tags)||!i.includes(t))}refreshCommands(){this.actions=[],this.actions.push({name:\\\"Refresh Command Palette\\\",action:e=>{this.refreshCommandPalette(),this.promptCommand(\\\"\\\")},keepPalette:!0},{name:\\\"Explorer\\\",action:e=>{this.explorer(e)},keepPalette:!0},{name:\\\"History\\\",caption:\\\"查看历史记录\\\",action:e=>{this.showHistory()},keepPalette:!0},{name:\\\"New Command Wizard\\\",caption:\\\"交互式创建新命令\\\",action:e=>{this.newCommandWizard()},keepPalette:!0},{name:\\\"Add tag to tiddler\\\",caption:\\\"向条目添加标签\\\",action:e=>{this.tagOperation(e,\\\"选择一个条目来添加标签\\\",\\\"选择一个标签来添加 (⇧⏎ 可以多次添加)\\\",(e,t)=>$tw.wiki.filterTiddlers(`[!is[system]tags[]] [is[system]tags[]] -[[${e}]tags[]] +[${$tw.utils.pinyinfuse?\\\"pinyinfuse\\\":\\\"search\\\"}[${t}]]`),!0,\\\"tm-add-tag\\\")},keepPalette:!0},{name:\\\"Remove tag\\\",caption:\\\"去除标签\\\",action:e=>{this.tagOperation(e,\\\"选择一个条目来去除标签\\\",\\\"选择一个标签来去除 (⇧⏎ 可以去除多次)\\\",(e,t)=>$tw.wiki.filterTiddlers(`[[${e}]tags[]] +[${$tw.utils.pinyinfuse?\\\"pinyinfuse\\\":\\\"search\\\"}[${t}]]`),!1,\\\"tm-remove-tag\\\")},keepPalette:!0});var e=this.getTiddlersWithTag(this.customCommandsTag);for(const a of e){a.fields[this.typeField];var i=a.fields[this.nameField];if(\\\"string\\\"!=typeof i)throw new Error(`命令菜单条目 ${a.fields.title} 缺失 ${this.nameField} 字段`);var s=this.translateCaption(a.fields[this.captionField]),r=a.fields[this.typeField];let t=this.translateCaption(a.fields.text);const l=(null!=(n=(t=void 0===t?\\\"\\\":t).match(/^.*/))?n:[\\\"\\\"])[0],h=this.translateCaption(null!=(n=null!=(n=a.fields[this.hintField])?n:a.fields[this.nameField])?n:\\\"\\\");if(\\\"shortcut\\\"===r){var n=a.fields[this.triggerField];void 0!==n&&this.triggers.push({name:i,caption:s,trigger:n,text:t,hint:h})}else if(a.fields[this.nameField],\\\"prompt\\\"===r){var n=!!a.fields[this.immediateField];const u=null!=(o=Number(a.fields[this.caretField]))?o:0;var o={name:i,caption:s,hint:h,action:()=>{this.promptCommand(l,u)},keepPalette:!n,immediate:n};this.actions.push(o)}else if(\\\"prompt-basic\\\"===r){const d=null!=(n=Number(a.fields[this.caretField]))?n:0;o={name:i,caption:s,hint:h,action:()=>{this.promptCommandBasic(l,d,h)},keepPalette:!0};this.actions.push(o)}else if(\\\"message\\\"===r)this.actions.push({name:i,caption:s,hint:h,action:e=>{this.tmMessageBuilder(l)(e)},keepPalette:!1});else if(\\\"actionString\\\"===r)void 0!==a.fields[this.userInputField]&&\\\"true\\\"===a.fields[this.userInputField]?this.actions.push({name:i,caption:s,hint:h,action:e=>{this.actionStringInput(t,h,e)},keepPalette:!0}):this.actions.push({name:i,caption:s,hint:h,action:e=>this.actionStringBuilder(t)(e),keepPalette:!1});else if(\\\"history\\\"===r){const c=a.fields[this.modeField];this.actions.push({name:i,caption:s,hint:h,action:e=>{this.commandWithHistoryPicker(l,h,c).handler(e)},keepPalette:!0})}}}translateCaption(e){return $tw.wiki.renderText(\\\"text/plain\\\",\\\"text/vnd.tiddlywiki\\\",e)}newCommandWizard(){this.blockProviderChange=!0,this.input.value=\\\"\\\",this.hint.innerText=\\\"命令名\\\";let t=\\\"\\\",i=\\\"\\\",s=\\\"\\\";const r=()=>{this.input.value=\\\"\\\",this.hint.innerText=\\\"输入信息\\\",this.currentResolver=e=>{this.tmMessageBuilder(\\\"tm-new-tiddler\\\",{title:\\\"$:/\\\"+t,tags:this.customCommandsTag,[this.typeField]:i,[this.nameField]:t,[this.hintField]:s,text:this.input.value})(e),this.closePalette()}},n=()=>{this.input.value=\\\"\\\",this.hint.innerText=\\\"输入提示文本\\\",this.currentResolver=e=>{s=this.input.value,r()}},o=()=>{this.input.value=\\\"\\\",this.hint.innerText=\\\"Enter type (prompt, prompt-basic, message, actionString, history)\\\",this.currentResolver=e=>{\\\"history\\\"===(i=this.input.value)?n():(this.tmMessageBuilder(\\\"tm-new-tiddler\\\",{title:\\\"$:/\\\"+t,tags:this.customCommandsTag,[this.typeField]:i,[this.nameField]:t})(e),this.closePalette())}};this.currentProvider=e=>{},this.currentResolver=e=>{0!==this.input.value.length&&(t=this.input.value,o())},this.showResults([])}explorer(e){this.blockProviderChange=!0,this.input.value=\\\"$:/\\\",this.lastExplorerInput=\\\"$:/\\\",this.hint.innerText=\\\"Explorer (⇧⏎ to add multiple)\\\",this.currentProvider=e=>{this.explorerProvider(\\\"$:/\\\",e)},this.currentResolver=e=>{var t;0!==this.currentSelection&&null!=(t=this.getActionFromResultDiv(this.currentResults[this.currentSelection-1]))&&t(e)},this.onInput()}explorerProvider(t,e){const i=t=>{this.input.value=t,this.lastExplorerInput=this.input.value,this.currentProvider=e=>{this.explorerProvider(t,e)},this.onInput()};this.input.value.startsWith(t)||(this.input.value=this.lastExplorerInput),this.lastExplorerInput=this.input.value,this.currentSelection=0;var s=this.input.value.substr(t.length),r=[],n=[];for(const o of $tw.wiki.filterTiddlers(`[removeprefix[${t}]splitbefore[/]sort[]${$tw.utils.pinyinfuse?\\\"pinyinfuse\\\":\\\"search\\\"}[${s}]]`))o.endsWith(\\\"/\\\")?r.push({name:o,action:e=>{i(\\\"\\\"+t+o)}}):n.push({name:o,action:e=>{this.navigateTo(\\\"\\\"+t+o),e.getModifierState(\\\"Shift\\\")||this.closePalette()}});if(\\\"$:/\\\"!==t){s=t.split(\\\"/\\\");s.splice(-2);const a=s.join(\\\"/\\\")+\\\"/\\\";void this.showResults([{name:\\\"..\\\",action:e=>{i(a)}},...r,...n])}else this.showResults([...r,...n])}setSetting(e,t){\\\"string\\\"==typeof t&&\\\"false\\\"===(t=\\\"true\\\"===t?!0:t)&&(t=!1),this.settings[e]=t,$tw.wiki.setTiddlerData(this.settingsPath,this.settings)}refreshSettings(){this.settings=$tw.wiki.getTiddlerData(this.settingsPath,{...this.defaultSettings});for(const i in this.defaultSettings){var e;this.defaultSettings.hasOwnProperty(i)&&(e=i,void 0===this.settings[e])&&(this.settings[e]=this.defaultSettings[e])}for(const s in this.settings){var t;this.settings.hasOwnProperty(s)&&(t=s,\\\"string\\\"==typeof this.settings[t])&&(\\\"true\\\"===this.settings[t].toLowerCase()&&(this.settings[t]=!0),\\\"false\\\"===this.settings[t].toLowerCase())&&(this.settings[t]=!1)}}getTiddlersWithTag(e){return $tw.wiki.getTiddlersWithTag(e).map(e=>$tw.wiki.getTiddler(e))}render(e,t){this.parentDomNode=e,this.execute(),void 0===$tw.utils.pinyinfuse&&console.warn(\\\"需要安装 linonetwo/pinyin-fuzzy-search 插件以获得模糊搜索和拼音搜索的能力\\\"),this.history=$tw.wiki.getTiddlerData(this.commandHistoryPath,{history:[]}).history,$tw.rootWidget.addEventListener(\\\"open-command-palette\\\",e=>{$tw.hooks.invokeHook(\\\"th-open-command-palette\\\",e),this.openPalette(e,e.param)}),$tw.rootWidget.addEventListener(\\\"open-command-palette-selection\\\",e=>{this.openPaletteSelection(e)}),$tw.rootWidget.addEventListener(\\\"insert-command-palette-result\\\",e=>{this.insertSelectedResult()}),$tw.rootWidget.addEventListener(\\\"command-palette-switch-history\\\",e=>{this.handleSwitchHistory(e,!0)}),$tw.rootWidget.addEventListener(\\\"command-palette-switch-history-back\\\",e=>{this.handleSwitchHistory(e,!1)});var i=this.createElement(\\\"div\\\",{className:\\\"inputhintwrapper\\\"});this.div=this.createElement(\\\"div\\\",{className:\\\"commandpalette\\\"},{display:\\\"none\\\"}),this.mask=this.createElement(\\\"div\\\",{className:\\\"commandpalette-masklayer\\\"},{opacity:\\\"0\\\"}),this.input=this.createElement(\\\"input\\\",{type:\\\"text\\\"}),this.hint=this.createElement(\\\"div\\\",{className:\\\"commandpalettehint commandpalettehintmain\\\"}),i.append(this.input,this.hint),this.scrollDiv=this.createElement(\\\"div\\\",{className:\\\"cp-scroll\\\"}),this.div.append(i,this.scrollDiv),this.input.addEventListener(\\\"keydown\\\",e=>{this.onKeyDown(e)}),this.input.addEventListener(\\\"input\\\",()=>{this.onInput(this.input.value)}),this.input.addEventListener(\\\"compositionstart\\\",()=>{this.isIMEOpen=!0},!1),this.input.addEventListener(\\\"compositionend\\\",()=>{this.isIMEOpen=!1},!1),document.addEventListener(\\\"click\\\",e=>{this.onClick(e)}),e.insertBefore(this.mask,t),e.insertBefore(this.div,t),this.refreshCommandPalette(),this.symbolProviders[\\\">\\\"]={searcher:e=>{this.actionProvider(e)},resolver:e=>{this.actionResolver(e)}},this.symbolProviders[\\\"》\\\"]=this.symbolProviders[\\\">\\\"],this.symbolProviders[\\\"##\\\"]={searcher:e=>{this.tagListProvider(e)},resolver:e=>{this.tagListResolver(e)}},this.symbolProviders[\\\"#\\\"]={searcher:e=>{this.tagProvider(e)},resolver:e=>{this.defaultResolver(e)}},this.symbolProviders[\\\"?\\\"]={searcher:e=>{this.helpProvider(e)},resolver:e=>{this.helpResolver(e)}},this.symbolProviders[\\\"？\\\"]=this.symbolProviders[\\\"?\\\"],this.symbolProviders[\\\"[\\\"]={searcher:(e,t)=>{this.filterProvider(e,t)},resolver:e=>{this.filterResolver(e)}},this.symbolProviders[\\\"+\\\"]={searcher:e=>{this.createTiddlerProvider(e)},resolver:e=>{this.createTiddlerResolver(e)}},this.symbolProviders[\\\"|\\\"]={searcher:e=>{this.settingsProvider(e)},resolver:e=>{this.settingsResolver(e)}},this.currentResults=[],this.currentProvider=()=>{}}helpProvider(e){this.currentSelection=0,this.hint.innerText=\\\"Help\\\",this.showResults([{name:\\\"直接打字是搜索条目标题和内容；而以下述特殊字符开头可以执行特殊搜索\\\",action:()=>{this.promptCommand(\\\"\\\")}},{name:\\\"> 查看和搜索命令列表\\\",action:()=>{this.promptCommand(\\\">\\\")}},{name:\\\"+ 创建条目，先输入条目名，然后可以带上#打标签\\\",action:()=>{this.promptCommand(\\\"+\\\")}},{name:\\\"# 列出带标签的条目（标签不可包含空格，用空格隔开多个#开头的标签，不带#的作为搜索词）\\\",action:()=>{this.promptCommand(\\\"#\\\")}},{name:\\\"## 搜索标签列表\\\",action:()=>{this.promptCommand(\\\"##\\\",2)}},{name:\\\"[ 筛选器语句\\\",action:()=>{this.promptCommand(\\\"[\\\")}},{name:\\\"| 命令菜单设置\\\",action:()=>{this.promptCommand(\\\"|\\\")}},{name:\\\"\\\\\\\\ 规避第一个字符是上述命令字符的情况，例如「\\\\\\\\#」可搜标题以「#」起头的条目\\\",action:()=>{this.promptCommand(\\\"\\\\\\\\\\\")}},{name:\\\"? 打开帮助\\\",action:()=>{this.promptCommand(\\\"?\\\")}}])}parseCommand(t){let e=\\\"\\\",i,s;const r=this.triggers.find(e=>t.startsWith(e.trigger));var n;return void 0===r?(n=Object.keys(this.symbolProviders).sort((e,t)=>-e.length+t.length).find(e=>t.startsWith(e)),e=void 0===n?(i=this.defaultResolver,s=this.defaultProvider,t):(s=this.symbolProviders[n].searcher,i=this.symbolProviders[n].resolver,t.replace(n,\\\"\\\"))):(i=e=>{var t=this.input.value.substr(r.trigger.length);this.invokeActionString(r.text,this,e,{commandpaletteinput:t}),this.closePalette()},s=e=>{this.hint.innerText=r.hint,this.showResults([])}),{resolver:i,provider:s,terms:e}}refreshSearchSteps(){this.searchSteps=[];for(const e of $tw.wiki.getTiddlerData(this.searchStepsPath).steps)this.searchSteps.push(this.searchStepBuilder($tw.utils.pinyinfuse?e.filter:e.filterFallback,Number($tw.utils.pinyinfuse?e.caret:e.caretFallback),e.hint))}refreshCommandPalette(){this.refreshSettings(),this.refreshThemes(),this.refreshCommands(),this.refreshSearchSteps()}handleSwitchHistory(e,t){this.isOpened||this.openPalette(e),this.onKeyDown(new KeyboardEvent(\\\"keydown\\\",{bubbles:!1,cancelable:!0,key:t?\\\"ArrowDown\\\":\\\"ArrowUp\\\",shiftKey:!1}));const i=e=>{e.ctrlKey||(this.currentResolver(e),window.removeEventListener(\\\"keyup\\\",i))};window.addEventListener(\\\"keyup\\\",i)}updateCommandHistory(e){this.history=[...new Set([e.name,...this.history])],$tw.wiki.setTiddlerData(this.commandHistoryPath,{history:this.history})}historyProviderBuilder(i,s){return e=>{this.currentSelection=0,this.hint.innerText=i;let t;t=(t=void 0!==s&&\\\"drafts\\\"===s?$tw.wiki.filterTiddlers(\\\"[has:field[draft.of]]\\\"):void 0!==s&&\\\"story\\\"===s?$tw.wiki.filterTiddlers(\\\"[list[$:/StoryList]]\\\"):this.getHistory()).map(e=>({name:e})),this.showResults(t)}}commandWithHistoryPicker(i,e,t){const s=this.historyProviderBuilder(e,t),r=e=>{var t;0!==this.currentSelection&&(t=this.getDataFromResultDiv(this.currentResults[this.currentSelection-1],\\\"name\\\"),this.parentWidget.dispatchEvent({type:i,param:t,tiddlerTitle:t}),this.closePalette())};return{handler:e=>{this.blockProviderChange=!0,this.allowInputFieldSelection=!0,this.currentProvider=s,this.currentResolver=r,this.input.value=\\\"\\\",this.onInput(this.input.value)},provider:s,resolver:r}}onInput(e=\\\"\\\"){var t,i,s;this.blockProviderChange?this.currentProvider(e):(({resolver:t,provider:i,terms:s}=this.parseCommand(e)),this.currentResolver=t,this.currentProvider=i,this.currentProvider(s)),this.setSelectionToFirst()}onClick(e){this.isOpened&&!this.div.contains(e.target)&&this.closePalette()}openPaletteSelection(e){var t=this.getCurrentSelection();this.openPalette(e,t)}openPalette(e,t){this.currentProvider(\\\"\\\"),this.isOpened=!0,this.allowInputFieldSelection=!1,this.goBack=void 0,this.blockProviderChange=!1;var i=this.getActiveElement();this.previouslyFocused={element:i,start:i.selectionStart,end:i.selectionEnd,caretPos:i.selectionEnd},this.input.value=\\\"\\\",void 0!==t&&(this.input.value=t),this.settings.alwaysPassSelection&&(this.input.value+=this.getCurrentSelection()),this.currentSelection=0,this.onInput(this.input.value),this.div.style.display=\\\"flex\\\",this.mask.style.opacity=\\\"0.6\\\",this.input.focus()}insertSelectedResult(){var e,t,i;this.isOpened&&0!==this.currentSelection&&void 0!==(t=(e=this.previouslyFocused).element.value)&&(i=this.getDataFromResultDiv(this.currentResults[this.currentSelection-1],\\\"name\\\"))&&(e.start===e.end?this.previouslyFocused.element.value=t.substring(0,e.start)+i+t.substring(e.start):this.previouslyFocused.element.value=t.substring(0,e.start)+i+t.substring(e.end),this.previouslyFocused.caretPos=e.start+i.length,this.closePalette())}closePalette(){this.div.style.display=\\\"none\\\",this.mask.style.opacity=\\\"0\\\",this.isOpened=!1,this.focusAtCaretPosition(this.previouslyFocused.element,this.previouslyFocused.caretPos)}onKeyDown(t){switch(t.key){case\\\"Escape\\\":this.settings.escapeGoesBack&&void 0!==this.goBack?(this.goBack(),this.goBack=void 0):this.closePalette();break;case\\\"ArrowUp\\\":{t.preventDefault(),t.stopPropagation();let e=this.currentSelection-1;0===e?this.allowInputFieldSelection||(e=this.currentResults.length):e<0&&(e=this.currentResults.length),this.setSelection(e);break}case\\\"ArrowDown\\\":{t.preventDefault(),t.stopPropagation();let e=(this.currentSelection+1)%(this.currentResults.length+1);!this.allowInputFieldSelection&&0===e&&0<this.currentResults.length&&(e=1),this.setSelection(e);break}case\\\"Enter\\\":t.preventDefault(),t.stopPropagation(),this.validateSelection(t)}}addResult(e,t){var i=this.createElement(\\\"div\\\",{className:\\\"commandpaletteresult\\\"}),s=this.createElement(\\\"div\\\",{className:\\\"commandpalettetitle\\\",innerText:e.caption||e.name});i.append(s),void 0!==e.hint&&(s=this.createElement(\\\"div\\\",{className:\\\"commandpalettehint\\\",innerText:e.hint}),i.append(s)),i.dataset.result=JSON.stringify(e),null!=e.action&&i.addEventListener(\\\"abort\\\",e.action),this.currentResults.push(i),i.addEventListener(\\\"click\\\",e=>{e.stopPropagation(),e.preventDefault(),this.setSelection(t+1),this.validateSelection(e)}),i.addEventListener(\\\"contextmenu\\\",e=>{e.stopPropagation(),e.ctrlKey&&0===e.button&&(e.preventDefault(),this.setSelection(t+1),this.validateSelection(e))}),this.scrollDiv.append(i)}getDataFromResultDiv(e,t){var i;return JSON.parse(null!=(i=e.dataset.result)?i:\\\"{}\\\")[t]}getActionFromResultDiv(e){return e.onabort}validateSelection(e){this.isIMEOpen||this.currentResolver(e)}defaultResolver(e){var t;e.getModifierState(\\\"Shift\\\")?(this.input.value=\\\"+\\\"+this.input.value,this.createTiddlerResolver(e)):0!==this.currentSelection&&(t=this.getDataFromResultDiv(this.currentResults[this.currentSelection-1],\\\"name\\\"),this.closePalette(),this.navigateTo(t))}navigateTo(e){e&&this.parentWidget.dispatchEvent({type:\\\"tm-navigate\\\",param:e,navigateTo:e})}showHistory(){this.hint.innerText=\\\"历史记录\\\",this.currentProvider=t=>{let e;e=0===t.length?this.getHistory():$tw.utils.pinyinfuse?$tw.utils.pinyinfuse(this.getHistory(),t).map(e=>e.item):this.getHistory().filter(e=>e.toLowerCase().includes(t)),this.showResults(e.map(e=>({name:e,action:()=>{this.navigateTo(e),this.closePalette()}})))},this.currentResolver=e=>{var t;0!==this.currentSelection&&null!=(t=this.getActionFromResultDiv(this.currentResults[this.currentSelection-1]))&&t(e)},this.input.value=\\\"\\\",this.blockProviderChange=!0,this.onInput(this.input.value)}setSelectionToFirst(){let e=1;!this.allowInputFieldSelection&&0!==this.currentResults.length||(e=0),this.setSelection(e)}setSelection(e){var t,i,s,r,n,o;this.currentSelection=e;for(let l=0;l<this.currentResults.length;l++){var a=this.currentSelection===l+1;this.currentResults[l].className=a?\\\"commandpaletteresult commandpaletteresultselected\\\":\\\"commandpaletteresult\\\"}0===this.currentSelection?this.scrollDiv.scrollTop=0:(t=this.scrollDiv.offsetHeight,i=this.scrollDiv.scrollTop,s=Number(null!=(s=null==(s=this.currentResults[this.currentSelection-1])?void 0:s.offsetTop)?s:0),r=Number(null!=(r=null==(r=this.currentResults[this.currentSelection-1])?void 0:r.offsetHeight)?r:0),(s<i||i+t<=s)&&(o=(n=s)-t+r,n=Math.abs(s-i),o=Math.abs(o-i),this.scrollDiv.scrollTop=n<o?s:s-t+r))}getHistory(){var e=null!=(e=$tw.wiki.getTiddlerData(\\\"$:/HistoryList\\\"))?e:[],[e,t,...i]=(0,import_uniq[\\\"default\\\"])([...e.reverse().map(e=>e.title),...$tw.wiki.filterTiddlers(\\\"[list[$:/StoryList]]\\\")]).filter(e=>this.tiddlerOrShadowExists(e));return[t,e,...i]}tiddlerOrShadowExists(e){return $tw.wiki.tiddlerExists(e)||$tw.wiki.isShadowTiddler(e)}defaultProvider(i){this.hint.innerText=\\\"⏎搜索条目（⇧⏎ 创建条目）（？问号查看帮助）\\\";let e;i.startsWith(\\\"\\\\\\\\\\\")&&(i=i.substr(1)),e=0===i.length?this.settings.showHistoryOnOpen?this.getHistory().map(e=>({name:e,hint:\\\"历史记录\\\"})):[]:(0,import_uniq[\\\"default\\\"])(this.searchSteps.reduce((e,t)=>[...e,...t(i)],[])),this.showResults(e)}searchStepBuilder(i,s,r){return e=>{var t=i.substring(0,s)+e+i.substring(s);return $tw.wiki.filterTiddlers(t).map(e=>({name:e,hint:r}))}}tagListProvider(e){this.currentSelection=0,this.hint.innerText=\\\"搜索标签列表\\\";let t;t=(t=0===e.length?$tw.wiki.filterTiddlers(\\\"[!is[system]tags[]][is[system]tags[]][all[shadows]tags[]]\\\"):$tw.wiki.filterTiddlers($tw.utils.pinyinfuse?`[all[]tags[]!is[system]pinyinfuse[${e}]][all[]tags[]is[system]pinyinfuse[${e}]][all[shadows]tags[]pinyinfuse[${e}]]`:`[all[]tags[]!is[system]search[${e}]][all[]tags[]is[system]search[${e}]][all[shadows]tags[]search[${e}]]`)).map(e=>({name:e})),this.showResults(t)}tagListResolver(e){if(0===this.currentSelection)return t=this.input.value.substring(2),$tw.wiki.filterTiddlers(\\\"[tag[\\\"+t+\\\"]]\\\")?void(this.input.value=\\\"##\\\"+t):void 0;var t=this.currentResults[this.currentSelection-1];this.input.value=\\\"##\\\"+t.innerText,this.onInput(this.input.value)}tagProvider(e){this.currentSelection=0,this.hint.innerText=\\\"用「#标签 #标签2」搜索条目\\\";let t=[];if(0<e.length){var{tags:i,searchTerms:s,tagsFilter:r}=this.parseTags(this.input.value),r=$tw.wiki.filterTiddlers(r);if(0<r.length){if(1===i.length){const n=i[0];this.tiddlerOrShadowExists(n)&&s.some(e=>n.includes(e))&&t.push(n)}t=[...t,...r]}}this.showResults(t.map(e=>({name:e})))}parseTags(e){var t=[],i=[];for(const r of e.split(\\\" \\\").filter(e=>\\\"\\\"!==e))r.startsWith(\\\"#\\\")?t.push(r.substr(1)):i.push(r);let s=`[all[tiddlers+system+shadows]${t.reduce((e,t)=>e+\\\"tag[\\\"+t+\\\"]\\\",\\\"\\\")}]`;return 0<i.length&&(s=s.substring(0,s.length-1),s+=`${$tw.utils.pinyinfuse?\\\"pinyinfuse\\\":\\\"search\\\"}[${i.join(\\\" \\\")}]]`),{tags:t,searchTerms:i,tagsFilter:s}}settingsProvider(e){this.currentSelection=0,this.hint.innerText=\\\"Select the setting you want to change\\\";var t,i,s=e=>0<e.length&&null===e.match(/\\\\D/gm),r=e=>0<e.length&&null!==e.match(/(true\\\\b)|(false\\\\b)/gim);this.showResults([{name:\\\"Theme (currently \\\"+(null==(i=null==(t=this.settings.theme)?void 0:t.match)?void 0:i.call(t,/[^/]*$/)),action:()=>{this.promptForThemeSetting()}},this.settingResultBuilder(\\\"Max results\\\",\\\"maxResults\\\",\\\"Choose the maximum number of results\\\",s,\\\"Error: value must be a positive integer\\\"),this.settingResultBuilder(\\\"Show history on open\\\",\\\"showHistoryOnOpen\\\",\\\"Chose whether to show the history when you open the palette\\\",r,\\\"Error: value must be 'true' or 'false'\\\"),this.settingResultBuilder(\\\"Escape to go back\\\",\\\"escapeGoesBack\\\",\\\"Chose whether ESC should go back when possible\\\",r,\\\"Error: value must be 'true' or 'false'\\\"),this.settingResultBuilder(\\\"Use selection as search query\\\",\\\"alwaysPassSelection\\\",\\\"Chose your current selection is passed to the command palette\\\",r,\\\"Error: value must be 'true' or 'false'\\\"),this.settingResultBuilder(\\\"Never Basic\\\",\\\"neverBasic\\\",\\\"Chose whether to override basic prompts to show filter operation\\\",r,\\\"Error: value must be 'true' or 'false'\\\"),this.settingResultBuilder(\\\"Field preview max size\\\",\\\"maxResultHintSize\\\",\\\"Choose the maximum hint length for field preview\\\",s,\\\"Error: value must be a positive integer\\\")])}settingResultBuilder(e,t,i,s,r){return{name:e+\\\" (currently \\\"+this.settings[t]+\\\")\\\",action:()=>{this.promptForSetting(t,i,s,r)}}}settingsResolver(e){var t;0!==this.currentSelection&&(this.goBack=()=>{this.input.value=\\\"|\\\",this.blockProviderChange=!1,this.onInput(this.input.value)},null!=(t=this.getActionFromResultDiv(this.currentResults[this.currentSelection-1])))&&t(e)}promptForThemeSetting(){this.blockProviderChange=!0,this.allowInputFieldSelection=!1,this.currentProvider=e=>{this.currentSelection=0,this.hint.innerText=\\\"选择一个主题\\\";const t=this.defaultSettings.theme;var i=[{name:\\\"恢复默认值: \\\"+t.match(/[^/]*$/),action:()=>{this.setSetting(\\\"theme\\\",t),this.refreshThemes()}}];for(const r of this.themes){const n=r.fields.title;var s=n.match(/[^/]*$/);i.push({name:s,action:()=>{this.setSetting(\\\"theme\\\",n),this.refreshThemes()}})}this.showResults(i)},this.currentResolver=e=>{var t;null!=(t=this.getActionFromResultDiv(this.currentResults[this.currentSelection-1]))&&t(e)},this.input.value=\\\"\\\",this.onInput(this.input.value)}promptForSetting(s,r,n,o){this.blockProviderChange=!0,this.allowInputFieldSelection=!0,this.currentProvider=e=>{this.currentSelection=0,this.hint.innerText=r;const t=this.defaultSettings[s];var i=[{name:\\\"Revert to default value: \\\"+t,action:()=>{this.setSetting(s,t)}}];n(e)||i.push({name:o,action:()=>{}}),this.showResults(i)},this.currentResolver=e=>{var t;0===this.currentSelection?(t=this.input.value,n(t)&&(this.setSetting(s,t),this.goBack=void 0,this.blockProviderChange=!1,this.allowInputFieldSelection=!1,this.promptCommand(\\\"|\\\"))):null!=(t=this.getActionFromResultDiv(this.currentResults[this.currentSelection-1]))&&(t(e),this.goBack=void 0,this.blockProviderChange=!1,this.allowInputFieldSelection=!1,this.promptCommand(\\\"|\\\"))},this.input.value=this.settings[s],this.onInput(this.input.value)}showResults(e){var t;for(const s of this.currentResults)s.remove();this.currentResults=[];let i=0;for(const r of e)if(this.addResult(r,i),++i>=(null!=(t=this.settings.maxResults)?t:this.defaultSettings.maxResults))break}tmMessageBuilder(t,i={}){return e=>{this.parentWidget.dispatchEvent({type:t,paramObject:i,event:e})}}actionProvider(i){this.currentSelection=0,this.hint.innerText=\\\"查看和搜索命令列表\\\";let e;e=0===i.length?this.getCommandHistory():$tw.utils.pinyinfuse?$tw.utils.pinyinfuse(this.actions,i.toLowerCase(),[\\\"name\\\",\\\"caption\\\"]).map(e=>e.item):this.actions.filter(e=>{var t;return e.name.toLowerCase().includes(i.toLowerCase())||(null==(t=null==(t=e.caption)?void 0:t.toLowerCase())?void 0:t.includes(i.toLowerCase()))}),this.showResults(e)}filterProvider(e,t){this.currentSelection=0,this.hint.innerText=void 0===t?\\\"筛选器语句\\\":t,e=\\\"[\\\"+e;var s=$tw.wiki.filterTiddlers(\\\"[fields[]]\\\");const r=$tw.wiki.filterTiddlers(e).map(e=>({name:e}));var n=(e,t)=>r.splice(e+1,0,t);for(let l=0;l<r.length;l++){const h=r[l];let i=!1,e=\\\"Invalid Date\\\";\\\"Invalid Date\\\"!==(e=17===h.name.length?$tw.utils.parseDate(h.name).toLocaleString():e)&&(r[l].hint=e,r[l].action=()=>{},i=!0);0<$tw.wiki.getTiddlersWithTag(h.name).length&&(i&&(n(l,{...r[l]}),l+=1),r[l].action=()=>{this.promptCommand(\\\"#\\\"+h.name)},r[l].hint=\\\"Tag\\\",i=!0);var o=this.tiddlerOrShadowExists(h.name),o=(o&&(i&&(n(l,{...r[l]}),l+=1),r[l].action=()=>{this.navigateTo(h.name),this.closePalette()},r[l].hint=\\\"Tiddler\\\",i=!0),s.includes(h.name));if(o){i&&(n(l,{...r[l]}),l+=1);let e;try{e=$tw.wiki.parseFilter(this.input.value)}catch{}var a=[];for(const u of e||[])2===u.operators.length&&\\\"title\\\"===u.operators[0].operator&&\\\"fields\\\"===u.operators[1].operator&&a.push(u.operators[0].operand);let t=\\\"Field\\\";1===a.length&&(t=(t=(t=$tw.wiki.getTiddler(a[0]).fields[h.name])instanceof Date?t.toLocaleString():t).toString().replaceAll(/(\\\\r\\\\n|\\\\n|\\\\r)/gm,\\\"\\\"),o=(null!=(o=this.settings.maxResultHintSize)?o:this.defaultSettings.maxResultHintSize)-3,t.length>o)&&(t=t.substring(0,o),t+=\\\"...\\\"),r[l].hint=t,r[l].action=()=>{},i=!0}}this.showResults(r)}filterResolver(e){var t;0!==this.currentSelection&&(null!=(t=this.getActionFromResultDiv(this.currentResults[this.currentSelection-1]))&&t(e),e.stopPropagation())}helpResolver(e){var t;0!==this.currentSelection&&(null!=(t=this.getActionFromResultDiv(this.currentResults[this.currentSelection-1]))&&t(e),e.stopPropagation())}createTiddlerProvider(e){this.currentSelection=0,this.hint.innerText=\\\"创建条目，空格隔开可以用#打多个标签\\\",this.showResults([])}createTiddlerResolver(e){let{tags:t,searchTerms:i}=this.parseTags(this.input.value.substring(1));var s=i.join(\\\" \\\");t=t.join(\\\" \\\"),this.tmMessageBuilder(\\\"tm-new-tiddler\\\",{title:s,tags:t})(e),this.closePalette()}promptCommand(e,t){this.blockProviderChange=!1,this.input.value=e,this.input.focus(),void 0!==t&&this.input.setSelectionRange(t,t),this.onInput(this.input.value)}promptCommandBasic(e,t,i){!0===this.settings.neverBasic?this.promptCommand(e,t):(this.input.value=\\\"\\\",this.blockProviderChange=!0,this.currentProvider=this.basicProviderBuilder(e,t,i),this.onInput(this.input.value))}basicProviderBuilder(e,t,r){const n=e.substr(0,t),o=e.substr(t);return e=>{var{resolver:t,provider:i,terms:s}=this.parseCommand(n+e+o);i(s,r),this.currentResolver=t}}getCommandHistory(){this.history=this.history.filter(t=>this.actions.some(e=>e.name===t));const t=this.history.map(t=>this.actions.find(e=>e.name===t));for(;t.length<=(null!=(e=this.settings.maxResults)?e:this.defaultSettings.maxResults);){var e=this.actions.find(e=>!t.includes(e));if(void 0===e)break;t.push(e)}return t}actionResolver(e){var t;if(e.preventDefault(),e.stopPropagation(),0!==this.currentSelection){var i=this.actions.find(e=>e.name===this.getDataFromResultDiv(this.currentResults[this.currentSelection-1],\\\"name\\\"));if(null!=i){if(i.keepPalette){const s=this.input.value;this.goBack=()=>{this.input.value=s,this.blockProviderChange=!1,this.onInput(this.input.value)}}this.updateCommandHistory(i),null!=(t=i.action)&&t.call(i,e),i.immediate?this.validateSelection(e):i.keepPalette||this.closePalette()}}}getCurrentSelection(){var e=window.getSelection().toString();return\\\"\\\"!==e?e:void 0===(e=this.getActiveElement())||void 0===e.selectionStart?\\\"\\\":e.selectionStart>e.selectionEnd?e.value.substring(e.selectionStart,e.selectionEnd):e.value.substring(e.selectionEnd,e.selectionStart)}getActiveElement(e=document.activeElement){var t=e.shadowRoot,i=e.contentDocument;return null!=t&&t.activeElement?this.getActiveElement(t.activeElement):null!=i&&i.activeElement?this.getActiveElement(i.activeElement):e}focusAtCaretPosition(e,t){var i;if(null!==e)return e.value=e.value,e.createTextRange?((i=e.createTextRange()).move(\\\"character\\\",t),i.select(),!0):e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}createElement(e,t,i){var s,r,n,o,a=this.document.createElement(e);for([s,r]of Object.entries(t||{}))a[s]=r;for([n,o]of Object.entries(null!=i||{}))a.style[n]=o;return a}refresh(){return!1}};exports.commandpalettewidget=CommandPaletteWidget;\"}}}",
        "title": "$:/plugins/linonetwo/commandpalette",
        "type": "application/json",
        "version": "0.4.0",
        "Modern.TiddlyDev#SHA256-Hashed": "c147a62824f60d242116ad97eda168b626a86a3136ba1bdd9044cd19e2fbd2fe",
        "name": "Command Palette"
    }
]