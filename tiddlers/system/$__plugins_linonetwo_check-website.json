[
    {
        "author": "linonetwo",
        "core-version": ">=5.1.22",
        "dependents": "",
        "description": "Check website availability or downtime and display status as a badge.",
        "list": "readme changelog example tree",
        "name": "check-website",
        "plugin-type": "plugin",
        "stability": "STABILITY_1_EXPERIMENTAL",
        "text": "{\"tiddlers\":{\"$:/plugins/linonetwo/check-website/changelog\":{\"title\":\"$:/plugins/linonetwo/check-website/changelog\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"! Changelog\\n\\n!! 0.1.0 - 2025-11-23\\n\\n!!! Breaking Changes\\n\\n* Changed from `no-cors` mode to normal fetch mode with fallback, which allows proper HTTP status code detection\\n\\n!!! New Features\\n\\n* ''Full URL path checking'': Now checks the complete URL including path, not just the domain. A 404 error will correctly show as offline\\n* ''HTTP status code detection'': Properly detects and reports HTTP status codes (2xx, 3xx, 4xx, 5xx)\\n* ''Redirect handling'': Added `follow-redirects` parameter (default: `yes`) to control whether HTTP redirects (301, 302, etc.) should be followed\\n* ''Background monitoring'': Added `background-mode` parameter to run checks without displaying the badge\\n* ''Action triggers'': Added `connect-actions` and `disconnect-actions` parameters to invoke actions when website status changes\\n* ''Better error reporting'': Status now shows specific HTTP error codes when available (e.g., \\\"Error (404)\\\", \\\"Redirect (301)\\\")\\n* ''CORS fallback'': Automatically falls back to no-cors mode when CORS errors occur, with indication in status text\\n\\n!!! Improvements\\n\\n* Improved status change detection to avoid triggering actions on initial check\\n* Better handling of edge cases like SSL certificate errors and network failures\\n* Enhanced documentation with more examples\\n\\n!!! Bug Fixes\\n\\n* Fixed issue where HTTP redirects were incorrectly shown as offline\\n* Fixed issue where 404 errors on valid domains were shown as online\\n* Fixed issue where plain HTTP sites were incorrectly reported as offline\\n\\n---\\n\\n!! 0.0.1 - 2025-10-21\\n\\n* Initial release\\n* Basic website availability checking\\n* Badge display with online/offline status\\n* Configurable check interval\\n* Support for custom labels\\n\"},\"$:/plugins/linonetwo/check-website/cors-explained\":{\"title\":\"$:/plugins/linonetwo/check-website/cors-explained\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"! Understanding CORS and Status Messages\\n\\nWhen using the `check-website` widget, you may notice different status messages and tooltips. This document explains what they mean.\\n\\n!! Status Messages\\n\\n!!! \\\"Online\\\" with HTTP status code\\n\\nWhen you hover over the badge and see a tooltip like `HTTP 200`, it means:\\n\\n* The website responded successfully\\n* The plugin was able to verify the exact HTTP status code from the server\\n* This happens when the target website allows cross-origin requests (has proper CORS headers)\\n\\nExample tooltip messages:\\n* `HTTP 200` - Success\\n* `HTTP 301 (redirected)` - Permanent redirect (when follow-redirects is enabled)\\n* `HTTP 302 (redirected)` - Temporary redirect (when follow-redirects is enabled)\\n\\n!!! \\\"Online\\\" with no-cors mode\\n\\nWhen you hover and see: `Status verified via no-cors mode (HTTP status code not available due to CORS policy)`\\n\\nThis means:\\n* The website is online and reachable\\n* But the browser's CORS policy prevents accessing the HTTP status code\\n* The plugin fell back to `no-cors` mode to verify availability\\n* This is completely normal for most public websites\\n\\n!!! \\\"Offline\\\" or \\\"Error\\\"\\n\\nError messages will show the specific HTTP status code when available:\\n* `Error (404)` - Page not found (tooltip: `HTTP 404`)\\n* `Error (500)` - Server error (tooltip: `HTTP 500`)\\n* `Redirect (301)` - Redirect detected when `follow-redirects=\\\"no\\\"` (tooltip: `HTTP 301`)\\n\\n!! What is CORS?\\n\\n[[CORS (Cross-Origin Resource Sharing)|https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS]] is a browser security feature that restricts web pages from making requests to a different domain than the one serving the page.\\n\\nWhen you check a website from TiddlyWiki (running in your browser), the browser may block access to response details from other domains for security reasons.\\n\\n!! Why does this happen?\\n\\nExample: When you run this in your local TiddlyWiki:\\n\\n```\\n<$check-website url=\\\"https://example.com/\\\" label=\\\"Example\\\" interval=\\\"3s\\\" />\\n```\\n\\nIf `example.com` doesn't allow cross-origin requests from your TiddlyWiki's domain (e.g., `file://` protocol or your local server), the browser will:\\n\\n1. First try to make a normal request to get the HTTP status code\\n2. If that fails due to CORS, fall back to `no-cors` mode\\n3. In `no-cors` mode, the browser still makes the request to check reachability\\n4. But it doesn't expose the HTTP status code or response headers to JavaScript\\n5. If the request succeeds, we know the website is online\\n6. The tooltip will indicate this was verified via no-cors mode\\n\\n!! When will I see different modes?\\n\\nYou'll see ''HTTP status codes'' when:\\n* Checking websites that have CORS headers allowing your origin\\n* Checking your own server that you've configured to allow CORS\\n* The target website explicitly allows cross-origin requests from your domain\\n\\nYou'll see ''no-cors mode'' when:\\n* Checking public websites (like `example.com`, `google.com`) from local TiddlyWiki\\n* The target website doesn't have CORS headers configured to allow your origin\\n* The website is online and reachable, but doesn't allow cross-origin status code access\\n\\n!! Is this a problem?\\n\\nBrowser security policies (CORS/CORP) impose limitations on what this widget can detect:\\n\\n* ''Best case'': Website allows CORS → You get exact HTTP status codes (200, 404, 500, etc.)\\n* ''Good case'': Website doesn't have CORS but no CORP → no-cors mode works, can confirm online but not status code\\n* ''Limited case'': Website has strict CORP policy → Cannot reliably detect status, may show as offline even when online\\n\\n!! Known Limitations\\n\\n!!! Cross-Origin-Resource-Policy (CORP)\\n\\nSome websites use [[Cross-Origin-Resource-Policy (CORP)|https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cross-Origin-Resource-Policy]] headers for additional security. When a website has CORP enabled:\\n\\n* Even `no-cors` mode will be blocked by the browser\\n* The widget may show \\\"Offline\\\" even though the website is actually online\\n* This is a browser security restriction, not a bug in the widget\\n\\nExamples of websites that may have CORP restrictions:\\n* `https://talk.tidgi.fun/` - Has CORP headers, may show as offline\\n* Modern security-focused websites with strict cross-origin policies\\n\\n!!! Inaccurate Status Detection\\n\\nIn `no-cors` mode, the widget cannot distinguish between different HTTP status codes:\\n\\n* A 404 error may appear as \\\"Online\\\" because the server responded\\n* The actual page content doesn't matter, only server reachability\\n* For accurate status code detection, the target website must allow CORS\\n\\n!!! Recommendations\\n\\nThis widget works best for:\\n* Monitoring your own websites where you can configure CORS headers\\n* Checking websites that already have permissive CORS policies\\n* Getting a general sense of server reachability (online vs completely offline)\\n\\nThis widget has limitations for:\\n* Websites with strict CORP policies\\n* Accurately detecting specific errors (404, 500) on CORS-restricted sites\\n* Distinguishing between \\\"page not found\\\" and \\\"server online\\\" without CORS\\n\\nIf you need accurate monitoring of third-party websites, consider:\\n* Using a backend proxy service to bypass CORS\\n* Using dedicated monitoring services (UptimeRobot, Pingdom, etc.)\\n* Monitoring websites you control where you can add CORS headers\\n\\n!! Technical Details\\n\\nThe widget uses a multi-stage checking strategy:\\n\\n```javascript\\n// Stage 1: Try normal fetch to get HTTP status code\\ntry {\\n  const response = await fetch(url, { method: 'HEAD', cache: 'no-cache' });\\n  // Can read response.status here - most accurate\\n} catch (corsError) {\\n  // Stage 2: Fall back to no-cors mode with GET\\n  try {\\n    await fetch(url, { method: 'GET', mode: 'no-cors', cache: 'no-cache' });\\n    // Success means server responded, but can't read status code\\n  } catch (corpError) {\\n    // Stage 3: Try loading an image as final fallback\\n    // This can sometimes bypass CORP but is least reliable\\n    // May indicate server is reachable but can't verify actual page status\\n  }\\n}\\n```\\n\\nThis approach provides:\\n* Best accuracy when CORS is available\\n* Reasonable detection when only no-cors works\\n* Limited fallback for strict CORP policies\\n\"},\"$:/plugins/linonetwo/check-website/example\":{\"title\":\"$:/plugins/linonetwo/check-website/example\",\"caption\":\"Example\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"!! Website Status Examples\\n\\nHere are some examples of website status checks:\\n\\n!!! Single Website Check\\n\\n<$check-website url=\\\"https://tiddlywiki.com/\\\" label=\\\"TW\\\" interval=\\\"1h\\\" />\\n\\n!!! Multiple Websites\\n\\n<$check-website url=\\\"https://tiddlywiki.com/\\\" label=\\\"TiddlyWiki\\\" />\\n\\n<$check-website url=\\\"https://github.com/\\\" label=\\\"GitHub\\\" />\\n\\n<$check-website url=\\\"https://nodejs.org/\\\" label=\\\"Node.js\\\" interval=\\\"2h\\\" />\\n\\n!!! Without Custom Label (uses hostname)\\n\\n<$check-website url=\\\"https://www.wikipedia.org/\\\" />\\n\\n!!! Custom Check Intervals\\n\\nCheck every 30 minutes:\\n\\n<$check-website url=\\\"https://example.com/\\\" label=\\\"Example\\\" interval=\\\"30m\\\" />\\n\\nCheck every 1 hour and 30 minutes:\\n\\n<$check-website url=\\\"https://example.com/\\\" label=\\\"Example\\\" interval=\\\"1h30m\\\" />\\n\\nCheck every 10 seconds (useful for testing):\\n\\n<$check-website url=\\\"https://example.com/\\\" label=\\\"Test\\\" interval=\\\"10s\\\" />\\n\\nCheck every 1 minute and 30 seconds:\\n\\n<$check-website url=\\\"https://example.com/\\\" label=\\\"Test\\\" interval=\\\"1m30s\\\" />\\n\"},\"$:/plugins/linonetwo/check-website/readme\":{\"title\":\"$:/plugins/linonetwo/check-website/readme\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"! check-website\\n\\nCheck website availability and display status as a badge.\\n\\n{{!!.alert}}\\n<div class=\\\"tc-message-box\\\">\\n\\n''⚠️ Limitations:''\\n\\nThis widget is subject to browser security restrictions (CORS/CORP). It works best for:\\n\\n* Your own websites where you control CORS headers\\n* Sites with permissive CORS policies\\n\\nIt may not work accurately for:\\n\\n* Sites with strict Cross-Origin-Resource-Policy (CORP) headers\\n* Detecting specific errors (404, 500) on CORS-restricted sites\\n\\nSee [[CORS Explained|$:/plugins/linonetwo/check-website/cors-explained]] for details.\\n\\n</div>\\n\\n!! Usage\\n\\nBasic usage:\\n\\n```\\n<$check-website url=\\\"https://tiddlywiki.com/\\\" />\\n```\\n\\n<$check-website url=\\\"https://tiddlywiki.com/\\\" /> <$check-website url=\\\"https://tiddlywiki-not-exist.com/\\\" />\\n\\nWith custom label:\\n\\n```\\n<$check-website url=\\\"https://tiddlywiki.com/\\\" label=\\\"Tiddly! Wiki!\\\" />\\n```\\n\\nA beautiful badge will show, act as a clickable link to the website.\\n\\n<$check-website url=\\\"https://tiddlywiki.com/\\\" label=\\\"Tiddly! Wiki!\\\" />\\n\\nWith custom check interval:\\n\\n```\\n<$check-website url=\\\"https://example.com/\\\" label=\\\"Example\\\" interval=\\\"3s\\\" />\\n```\\n\\n<$check-website url=\\\"https://example.com/\\\" label=\\\"Example\\\" interval=\\\"300s\\\" />\\n\\nYou can see web request in your browser's web dev-tool every 3 seconds.\\n\\n!! Parameters\\n\\n* ''url'' - (required) The website URL to check\\n* ''label'' - (optional) Custom label for the badge. If not provided, uses the hostname from the URL\\n* ''interval'' - (optional) Check interval. Default is `1h`. Supports formats like `5s`, `30m`, `1h`, `1h30m`, `1h30m5s`. Supports seconds (s), minutes (m), and hours (h)\\n* ''follow-redirects'' - (optional) Whether to follow HTTP redirects (3xx). Default is `yes`. If set to `no`, redirects will be shown as offline\\n* ''use-get'' - (optional) Use GET request instead of HEAD. Default is `no`. Set to `yes` for servers that don't support HEAD properly (like some TiddlyWiki servers). This avoids 404 errors in console but uses more bandwidth\\n* ''background-mode'' - (optional) Run checks in background without displaying the badge. Default is `no`\\n* ''connect-actions'' - (optional) Action string to invoke when website comes online. Available variables: `status` (current status), `url` (the checked URL)\\n* ''disconnect-actions'' - (optional) Action string to invoke when website goes offline. Available variables: `status` (current status), `url` (the checked URL)\\n\\n!! Examples\\n\\nCheck TiddlyWiki official site every hour:\\n\\n```\\n<$check-website url=\\\"https://tiddlywiki.com/\\\" label=\\\"TW\\\" interval=\\\"1h\\\" />\\n```\\n\\nCheck multiple websites:\\n\\n```\\n<$check-website url=\\\"https://tiddlywiki.com/\\\" label=\\\"TiddlyWiki\\\" />\\n<$check-website url=\\\"https://github.com/\\\" label=\\\"GitHub\\\" />\\n<$check-website url=\\\"https://nodejs.org/\\\" label=\\\"Node.js\\\" interval=\\\"2h\\\" />\\n```\\n\\nCheck TiddlyWiki server (use GET to avoid console errors):\\n\\n```\\n<$check-website url=\\\"https://wiki.example.com/\\\" label=\\\"My Wiki\\\" use-get=\\\"yes\\\" />\\n```\\n\\nBackground monitoring with actions:\\n\\n```\\n<$check-website \\n  url=\\\"https://myserver.com/\\\" \\n  background-mode=\\\"yes\\\" \\n  interval=\\\"5m\\\"\\n  disconnect-actions=\\\"\\\"\\\"\\n    <$action-createtiddler $basetitle='$:/state/ServerStatus' text={{{ [<status>addprefix[Server ]addsuffix[: ]addsuffix<url>] }}}>\\n      <$action-sendmessage $message='tm-notify' $param=<<createTiddler-title>> />\\n    </$action-createtiddler>\\n  \\\"\\\"\\\"\\n  connect-actions=\\\"\\\"\\\"\\n    <$action-createtiddler $basetitle='$:/state/ServerStatus' text={{{ [<status>addprefix[Server ]addsuffix[: ]addsuffix<url>] }}}>\\n      <$action-sendmessage $message='tm-notify' $param=<<createTiddler-title>> />\\n    </$action-createtiddler>\\n  \\\"\\\"\\\"\\n/>\\n```\\n\\nOr save status to a regular tiddler:\\n\\n<$check-website \\n  url=\\\"https://api.example.com/\\\" \\n  interval=\\\"5m\\\"\\n  disconnect-actions=\\\"\\\"\\\"\\n    <$action-createtiddler $basetitle='$:/state/ServerStatus' text={{{ [<status>addprefix[Server ]addsuffix[: ]addsuffix<url>] }}}>\\n      <$action-sendmessage $message='tm-notify' $param=<<createTiddler-title>> />\\n    </$action-createtiddler>\\n  \\\"\\\"\\\"\\n  connect-actions=\\\"\\\"\\\"\\n    <$action-createtiddler $basetitle='$:/state/ServerStatus' text={{{ [<status>addprefix[Server ]addsuffix[: ]addsuffix<url>] }}}>\\n      <$action-sendmessage $message='tm-notify' $param=<<createTiddler-title>> />\\n    </$action-createtiddler>\\n  \\\"\\\"\\\"\\n/>\\n\\n[[$:/state/ServerStatus]]\\n\\n```\\n<$check-website \\n  url=\\\"https://api.example.com/\\\" \\n  interval=\\\"1m\\\"\\n  disconnect-actions=\\\"\\\"\\\"\\n    <$action-createtiddler $basetitle='$:/state/ServerStatus' text={{{ [<status>addprefix[Server ]addsuffix[: ]addsuffix<url>] }}}>\\n      <$action-sendmessage $message='tm-notify' $param=<<createTiddler-title>> />\\n    </$action-createtiddler>\\n  \\\"\\\"\\\"\\n  connect-actions=\\\"\\\"\\\"\\n    <$action-createtiddler $basetitle='$:/state/ServerStatus' text={{{ [<status>addprefix[Server ]addsuffix[: ]addsuffix<url>] }}}>\\n      <$action-sendmessage $message='tm-notify' $param=<<createTiddler-title>> />\\n    </$action-createtiddler>\\n  \\\"\\\"\\\"\\n/>\\n```\\n\\nCheck without following redirects:\\n\\n```\\n<$check-website url=\\\"https://example.com/\\\" follow-redirects=\\\"no\\\" />\\n```\\n\\n!! Features\\n\\n* Automatically checks website availability at specified intervals\\n* Displays status as a clean badge (similar to GitHub badges)\\n* Shows \\\"Online\\\" (green), \\\"Offline\\\" (red), or \\\"Checking...\\\" (gray) status\\n* Hover over the badge to see detailed status information (HTTP status code or CORS mode)\\n* Uses the hostname as label when no custom label is provided\\n* Clickable badge - click to open the website in a new tab\\n* Lightweight and efficient\\n* Checks full URL path, not just domain (detects 404 errors)\\n* Supports HTTP redirects (3xx) with configurable behavior\\n* Background monitoring mode without visible badge\\n* Action triggers on status changes (online/offline)\\n* CORS-aware: tries normal fetch first, falls back to no-cors mode if needed\\n\\n!! Understanding Status Messages\\n\\nThe badge shows simple status text (\\\"Online\\\", \\\"Offline\\\", etc.), but you can hover over it to see detailed information:\\n\\n* When HTTP status code is available, the tooltip shows: `HTTP 200`, `HTTP 404`, etc.\\n* When CORS policy prevents reading the status code, the tooltip explains this\\n* See [[CORS Explained|$:/plugins/linonetwo/check-website/cors-explained]] for detailed information about why you might see different tooltip messages\\n\"},\"$:/plugins/linonetwo/check-website/tree\":{\"title\":\"$:/plugins/linonetwo/check-website/tree\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<<tree prefix:\\\"$:/plugins/linonetwo/check-website/\\\">>\"},\"$:/plugins/linonetwo/check-website/widget.js\":{\"title\":\"$:/plugins/linonetwo/check-website/widget.js\",\"type\":\"application/javascript\",\"module-type\":\"widget\",\"Modern.TiddlyDev#Origin\":\"index.ts\",\"text\":\"\\\"use strict\\\";var import_widget=require(\\\"$:/core/modules/widgets/widget.js\\\"),CheckWebsiteWidget=class extends import_widget.widget{constructor(){super(...arguments),this.lastStatus=\\\"checking\\\"}refresh(t){var e=this.computeAttributes();return 0<Object.keys(e).length&&(this.refreshSelf(),!0)}render(t,e){var s;this.parentDomNode=t,this.computeAttributes(),this.execute(),this.backgroundMode?(this.domNodes.push($tw.utils.domMaker(\\\"span\\\",{style:{display:\\\"none\\\"}})),t.insertBefore(this.domNodes[0],e)):(s=$tw.utils.domMaker(\\\"a\\\",{\\\"class\\\":\\\"tc-check-website-link\\\",attributes:{href:this.websiteUrl,target:\\\"_blank\\\",rel:\\\"noopener noreferrer\\\"}}),this.badgeNode=$tw.utils.domMaker(\\\"span\\\",{\\\"class\\\":\\\"tc-check-website-badge\\\"}),this.labelSpan=$tw.utils.domMaker(\\\"span\\\",{\\\"class\\\":\\\"tc-check-website-label\\\",text:this.websiteLabel}),this.statusSpan=$tw.utils.domMaker(\\\"span\\\",{\\\"class\\\":\\\"tc-check-website-status tc-check-website-checking\\\",text:\\\"Checking...\\\"}),this.badgeNode.appendChild(this.labelSpan),this.badgeNode.appendChild(this.statusSpan),s.appendChild(this.badgeNode),t.insertBefore(s,e),this.domNodes.push(s)),this.startChecking()}execute(){if(this.websiteUrl=this.getAttribute(\\\"url\\\",\\\"\\\"),this.websiteLabel=this.getAttribute(\\\"label\\\",\\\"\\\"),this.checkInterval=this.getAttribute(\\\"interval\\\",\\\"1h\\\"),this.followRedirects=\\\"yes\\\"===this.getAttribute(\\\"follow-redirects\\\",\\\"yes\\\"),this.backgroundMode=\\\"yes\\\"===this.getAttribute(\\\"background-mode\\\",\\\"no\\\"),this.useGet=\\\"yes\\\"===this.getAttribute(\\\"use-get\\\",\\\"no\\\"),this.connectActions=this.getAttribute(\\\"connect-actions\\\",\\\"\\\"),this.disconnectActions=this.getAttribute(\\\"disconnect-actions\\\",\\\"\\\"),!this.websiteLabel&&this.websiteUrl)try{var t=new URL(this.websiteUrl);this.websiteLabel=t.hostname}catch(e){this.websiteLabel=this.websiteUrl}this.intervalMs=this.parseInterval(this.checkInterval)}parseInterval(t){if(!t)return 36e5;let e=0;var s=/(\\\\d+)h/.exec(t),i=/(\\\\d+)m/.exec(t),a=/(\\\\d+)s/.exec(t);return s&&(e+=36e5*parseInt(s[1],10)),i&&(e+=6e4*parseInt(i[1],10)),a&&(e+=1e3*parseInt(a[1],10)),e||36e5}startChecking(){this.checkWebsite(),this.intervalId=window.setInterval(()=>{this.checkWebsite()},this.intervalMs)}async checkWebsite(){if(this.websiteUrl)try{var e=this.useGet?\\\"GET\\\":\\\"HEAD\\\";let t=await fetch(this.websiteUrl,{method:e,cache:\\\"no-cache\\\",redirect:this.followRedirects?\\\"follow\\\":\\\"manual\\\"});if(!this.useGet&&(404===t.status||405===t.status||501===t.status))try{t=await fetch(this.websiteUrl,{method:\\\"GET\\\",cache:\\\"no-cache\\\",redirect:this.followRedirects?\\\"follow\\\":\\\"manual\\\"})}catch(s){}t.ok?this.updateStatus(\\\"online\\\",\\\"Online\\\",\\\"HTTP \\\".concat(t.status)):300<=t.status&&t.status<400?this.followRedirects?this.updateStatus(\\\"online\\\",\\\"Online\\\",\\\"HTTP \\\".concat(t.status,\\\" (redirected)\\\")):this.updateStatus(\\\"offline\\\",\\\"Redirect (\\\".concat(t.status,\\\")\\\"),\\\"HTTP \\\".concat(t.status)):400<=t.status?this.updateStatus(\\\"offline\\\",\\\"Error (\\\".concat(t.status,\\\")\\\"),\\\"HTTP \\\".concat(t.status)):this.updateStatus(\\\"offline\\\",\\\"Offline\\\",\\\"HTTP \\\".concat(t.status))}catch(s){try{\\\"opaque\\\"===(await fetch(this.websiteUrl,{method:\\\"GET\\\",mode:\\\"no-cors\\\",cache:\\\"no-cache\\\"})).type?this.updateStatus(\\\"online\\\",\\\"Online\\\",\\\"Status verified via no-cors mode (HTTP status code not available due to CORS policy)\\\"):this.updateStatus(\\\"online\\\",\\\"Online\\\",\\\"Status verified via no-cors mode\\\")}catch(t){this.checkWithImage()}}else this.updateStatus(\\\"error\\\",\\\"No URL\\\",\\\"URL parameter is required\\\")}checkWithImage(){const t=new Image,e=setTimeout(()=>{t.src=\\\"\\\",this.updateStatus(\\\"offline\\\",\\\"Offline\\\",\\\"Unable to verify status due to CORS/CORP restrictions\\\")},1e4);t.onload=()=>{clearTimeout(e),this.updateStatus(\\\"online\\\",\\\"Online\\\",\\\"Status verified via image probe (limited accuracy due to CORS/CORP restrictions)\\\")},t.onerror=()=>{clearTimeout(e),this.updateStatus(\\\"offline\\\",\\\"Offline\\\",\\\"Unable to verify status due to CORS/CORP restrictions\\\")};try{var s=new URL(this.websiteUrl);t.src=\\\"\\\".concat(s.origin,\\\"/favicon.ico?_=\\\").concat(Date.now())}catch(i){t.src=\\\"\\\".concat(this.websiteUrl,\\\"?_=\\\").concat(Date.now())}}updateStatus(t,e,s){var i=this.lastStatus;this.lastStatus=t,this.statusSpan&&(this.statusSpan.textContent=e,this.statusSpan.className=\\\"tc-check-website-status tc-check-website-\\\".concat(t)),this.badgeNode&&s&&this.badgeNode.setAttribute(\\\"title\\\",s),i!==t&&\\\"checking\\\"!==t&&(\\\"online\\\"===t&&this.connectActions?this.invokeActionString(this.connectActions,this,void 0,{status:t,url:this.websiteUrl}):\\\"offline\\\"===t&&this.disconnectActions&&this.invokeActionString(this.disconnectActions,this,void 0,{status:t,url:this.websiteUrl}))}removeChildDomNodes(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0),import_widget.widget.prototype.removeChildDomNodes.call(this)}};exports[\\\"check-website\\\"]=CheckWebsiteWidget;\"},\".\\\\$:\\\\plugins\\\\linonetwo\\\\check-website\\\\index.css\":{\"title\":\".\\\\$:\\\\plugins\\\\linonetwo\\\\check-website\\\\index.css\",\"tags\":[\"$:/tags/Stylesheet\"],\"type\":\"text/css\",\"Modern.TiddlyDev#Origin\":\"..\\\\..\\\\temp_stylePlugin:src\\\\check-website\\\\index.css\",\"text\":\".tc-check-website-link{display:inline-block;text-decoration:none;cursor:pointer;margin:2px;vertical-align:middle}.tc-check-website-link:hover .tc-check-website-badge{opacity:.85;transition:opacity .2s}.tc-check-website-badge{display:inline-flex;align-items:center;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Helvetica,Arial,sans-serif;font-size:11px;line-height:1;border-radius:3px;overflow:hidden;vertical-align:middle}.tc-check-website-label{background-color:#555;color:#fff;padding:3px 6px;font-weight:600}.tc-check-website-status{padding:3px 6px;color:#fff;font-weight:400}.tc-check-website-online{background-color:#4c1}.tc-check-website-offline{background-color:#e05d44}.tc-check-website-checking{background-color:#9f9f9f}.tc-check-website-error{background-color:#e05d44}\"}}}",
        "title": "$:/plugins/linonetwo/check-website",
        "type": "application/json",
        "version": "0.2.1",
        "Modern.TiddlyDev#SHA256-Hashed": "d0c488d7f966be4c015a5f45fb1fbf7fc8b3ae0eb3252ca48323992301522981"
    }
]